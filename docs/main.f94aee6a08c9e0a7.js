"use strict";(self.webpackChunkomeglestr=self.webpackChunkomeglestr||[]).push([[792],{200:(fm,FC,qc)=>{var Gc={};qc.r(Gc),qc.d(Gc,{OG:()=>hw,My:()=>hc,Ph:()=>Rn,lX:()=>dw,Id:()=>xo,fg:()=>qO,qj:()=>un,aT:()=>pc,lq:()=>Es,z:()=>fw,Q5:()=>$u});var hm={};function BC(e,t){return Object.is(e,t)}qc.r(hm),qc.d(hm,{aK:()=>Uo,e8:()=>xc,DO:()=>ed,dJ:()=>uP,OG:()=>zb,My:()=>Ac,Ph:()=>Vo,lX:()=>jb,Id:()=>td,fg:()=>fP,qj:()=>Pr,aT:()=>Nc,r4:()=>mg,aY:()=>Bo,x:()=>Gb,lq:()=>Rc,z:()=>$b,zW:()=>Mc,Q5:()=>nd});let Rt=null,Wc=!1,Od=1;const mr=Symbol("SIGNAL");function _e(e){const t=Rt;return Rt=e,t}const kd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pm(e){if(Wc)throw new Error("");if(null===Rt)return;Rt.consumerOnSignalRead(e);const t=Rt.nextProducerIndex++;Fd(Rt),t<Rt.producerNode.length&&Rt.producerNode[t]!==e&&Zc(Rt)&&Ld(Rt.producerNode[t],Rt.producerIndexOfThis[t]),Rt.producerNode[t]!==e&&(Rt.producerNode[t]=e,Rt.producerIndexOfThis[t]=Zc(Rt)?zC(e,Rt,t):0),Rt.producerLastReadVersion[t]=e.version}function UC(e){if((!Zc(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Od)){if(!e.producerMustRecompute(e)&&!mm(e))return e.dirty=!1,void(e.lastCleanEpoch=Od);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Od}}function jC(e){if(void 0===e.liveConsumerNode)return;const t=Wc;Wc=!0;try{for(const r of e.liveConsumerNode)r.dirty||HC(r)}finally{Wc=t}}function $C(){return!1!==Rt?.consumerAllowSignalWrites}function HC(e){e.dirty=!0,jC(e),e.consumerMarkedDirty?.(e)}function Pd(e){return e&&(e.nextProducerIndex=0),_e(e)}function gm(e,t){if(_e(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Zc(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ld(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function mm(e){Fd(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==r.version||(UC(r),i!==r.version))return!0}return!1}function ym(e){if(Fd(e),Zc(e))for(let t=0;t<e.producerNode.length;t++)Ld(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function zC(e,t,r){if(qC(e),0===e.liveConsumerNode.length&&GC(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=zC(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Ld(e,t){if(qC(e),1===e.liveConsumerNode.length&&GC(e))for(let i=0;i<e.producerNode.length;i++)Ld(e.producerNode[i],e.producerIndexOfThis[i]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];Fd(s),s.producerIndexOfThis[i]=t}}function Zc(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Fd(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function qC(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function GC(e){return void 0!==e.producerNode}const vm=Symbol("UNSET"),_m=Symbol("COMPUTING"),Bd=Symbol("ERRORED"),y3={...kd,value:vm,dirty:!0,error:null,equal:BC,producerMustRecompute:e=>e.value===vm||e.value===_m,producerRecomputeValue(e){if(e.value===_m)throw new Error("Detected cycle in computations.");const t=e.value;e.value=_m;const r=Pd(e);let i;try{i=e.computation()}catch(s){i=Bd,e.error=s}finally{gm(e,r)}t!==vm&&t!==Bd&&i!==Bd&&e.equal(t,i)?e.value=t:(e.value=i,e.version++)}};let WC=function v3(){throw new Error};function ZC(){WC()}let Vd=null;function KC(e,t){$C()||ZC(),e.equal(e.value,t)||(e.value=t,function C3(e){e.version++,function g3(){Od++}(),jC(e),Vd?.()}(e))}const E3={...kd,equal:BC,value:void 0};function ct(e){return"function"==typeof e}function Ud(e){const r=e(i=>{Error.call(i),i.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const wm=Ud(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function jd(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class _t{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const o of r)o.remove(this);else r.remove(this);const{initialTeardown:i}=this;if(ct(i))try{i()}catch(o){t=o instanceof wm?o.errors:[o]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const o of s)try{XC(o)}catch(a){t=t??[],a instanceof wm?t=[...t,...a.errors]:t.push(a)}}if(t)throw new wm(t)}}add(t){var r;if(t&&t!==this)if(this.closed)XC(t);else{if(t instanceof _t){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&jd(r,t)}remove(t){const{_finalizers:r}=this;r&&jd(r,t),t instanceof _t&&t._removeParent(this)}}_t.EMPTY=(()=>{const e=new _t;return e.closed=!0,e})();const YC=_t.EMPTY;function JC(e){return e instanceof _t||e&&"closed"in e&&ct(e.remove)&&ct(e.add)&&ct(e.unsubscribe)}function XC(e){ct(e)?e():e.unsubscribe()}const Gs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$d={setTimeout(e,t,...r){const{delegate:i}=$d;return i?.setTimeout?i.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=$d;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function eD(e){$d.setTimeout(()=>{const{onUnhandledError:t}=Gs;if(!t)throw e;t(e)})}function bm(){}const S3=Em("C",void 0,void 0);function Em(e,t,r){return{kind:e,value:t,error:r}}let Ws=null;function Hd(e){if(Gs.useDeprecatedSynchronousErrorHandling){const t=!Ws;if(t&&(Ws={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:i}=Ws;if(Ws=null,r)throw i}}else e()}class Cm extends _t{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,JC(t)&&t.add(this)):this.destination=R3}static create(t,r,i){return new Sm(t,r,i)}next(t){this.isStopped?Tm(function I3(e){return Em("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Tm(function T3(e){return Em("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Tm(S3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A3=Function.prototype.bind;function Dm(e,t){return A3.call(e,t)}class M3{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(i){zd(i)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(i){zd(i)}else zd(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){zd(r)}}}class Sm extends Cm{constructor(t,r,i){let s;if(super(),ct(t)||!t)s={next:t??void 0,error:r??void 0,complete:i??void 0};else{let o;this&&Gs.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&Dm(t.next,o),error:t.error&&Dm(t.error,o),complete:t.complete&&Dm(t.complete,o)}):s=t}this.destination=new M3(s)}}function zd(e){Gs.useDeprecatedSynchronousErrorHandling?function x3(e){Gs.useDeprecatedSynchronousErrorHandling&&Ws&&(Ws.errorThrown=!0,Ws.error=e)}(e):eD(e)}function Tm(e,t){const{onStoppedNotification:r}=Gs;r&&$d.setTimeout(()=>r(e,t))}const R3={closed:!0,next:bm,error:function N3(e){throw e},complete:bm},Im="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zs(e){return e}function tD(e){return 0===e.length?Zs:1===e.length?e[0]:function(r){return e.reduce((i,s)=>s(i),r)}}let zt=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const i=new e;return i.source=this,i.operator=r,i}subscribe(r,i,s){const o=function P3(e){return e&&e instanceof Cm||function k3(e){return e&&ct(e.next)&&ct(e.error)&&ct(e.complete)}(e)&&JC(e)}(r)?r:new Sm(r,i,s);return Hd(()=>{const{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(i){r.error(i)}}forEach(r,i){return new(i=nD(i))((s,o)=>{const a=new Sm({next:c=>{try{r(c)}catch(l){o(l),a.unsubscribe()}},error:o,complete:s});this.subscribe(a)})}_subscribe(r){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(r)}[Im](){return this}pipe(...r){return tD(r)(this)}toPromise(r){return new(r=nD(r))((i,s)=>{let o;this.subscribe(a=>o=a,a=>s(a),()=>i(o))})}}return e.create=t=>new e(t),e})();function nD(e){var t;return null!==(t=e??Gs.Promise)&&void 0!==t?t:Promise}const L3=Ud(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class e extends zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const i=new rD(this,this);return i.operator=r,i}_throwIfClosed(){if(this.closed)throw new L3}next(r){Hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(r)}})}error(r){Hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:i}=this;for(;i.length;)i.shift().error(r)}})}complete(){Hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:i,isStopped:s,observers:o}=this;return i||s?YC:(this.currentObservers=null,o.push(r),new _t(()=>{this.currentObservers=null,jd(o,r)}))}_checkFinalizedStatuses(r){const{hasError:i,thrownError:s,isStopped:o}=this;i?r.error(s):o&&r.complete()}asObservable(){const r=new zt;return r.source=this,r}}return e.create=(t,r)=>new rD(t,r),e})();class rD extends et{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,i;null===(i=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===i||i.call(r,t)}error(t){var r,i;null===(i=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===i||i.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,i;return null!==(i=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==i?i:YC}}class Fn extends et{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:i}=this;if(t)throw r;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function iD(e){return ct(e?.lift)}function qt(e){return t=>{if(iD(t))return t.lift(function(r){try{return e(r,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function St(e,t,r,i,s){return new F3(e,t,r,i,s)}class F3 extends Cm{constructor(t,r,i,s,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=r?function(c){try{r(c)}catch(l){t.error(l)}}:super._next,this._error=s?function(c){try{s(c)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function $e(e,t){return qt((r,i)=>{let s=0;r.subscribe(St(i,o=>{i.next(e.call(t,o,s++))}))})}const sD="https://g.co/ng/security#xss";class A extends Error{constructor(t,r){super(function Yo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function bi(e){return{toString:e}.toString()}const Xo="__parameters__";function ta(e,t,r){return bi(()=>{const i=function xm(e){return function(...r){if(e){const i=e(...r);for(const s in i)this[s]=i[s]}}}(t);function s(...o){if(this instanceof s)return i.apply(this,o),this;const a=new s(...o);return c.annotation=a,c;function c(l,u,d){const f=l.hasOwnProperty(Xo)?l[Xo]:Object.defineProperty(l,Xo,{value:[]})[Xo];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(a),l}}return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}const lt=globalThis;function ze(e){for(let t in e)if(e[t]===ze)return t;throw Error("Could not find renamed property on target object.")}function B3(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Ot(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ot).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Am(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const V3=ze({__forward_ref__:ze});function tt(e){return e.__forward_ref__=tt,e.toString=function(){return Ot(this())},e}function ie(e){return Gd(e)?e():e}function Gd(e){return"function"==typeof e&&e.hasOwnProperty(V3)&&e.__forward_ref__===tt}function j(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Tt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Wd(e){return lD(e,Kd)||lD(e,uD)}function lD(e,t){return e.hasOwnProperty(t)?e[t]:null}function Zd(e){return e&&(e.hasOwnProperty(Mm)||e.hasOwnProperty(q3))?e[Mm]:null}const Kd=ze({\u0275prov:ze}),Mm=ze({\u0275inj:ze}),uD=ze({ngInjectableDef:ze}),q3=ze({ngInjectorDef:ze});class q{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=j({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Pm(e){return e&&!!e.\u0275providers}const Kc=ze({\u0275cmp:ze}),Lm=ze({\u0275dir:ze}),Fm=ze({\u0275pipe:ze}),fD=ze({\u0275mod:ze}),Ei=ze({\u0275fac:ze}),Qc=ze({__NG_ELEMENT_ID__:ze}),hD=ze({__NG_ENV_ID__:ze});function pe(e){return"string"==typeof e?e:null==e?"":String(e)}function Bm(e,t){throw new A(-201,!1)}var Te=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Te||{});let Vm;function pD(){return Vm}function Tn(e){const t=Vm;return Vm=e,t}function gD(e,t,r){const i=Wd(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:r&Te.Optional?null:void 0!==t?t:void Bm()}const Yc={},Um="__NG_DI_FLAG__",Qd="ngTempTokenPath",Y3=/\n/gm,mD="__source";let na;function es(e){const t=na;return na=e,t}function eB(e,t=Te.Default){if(void 0===na)throw new A(-203,!1);return null===na?gD(e,void 0,t):na.get(e,t&Te.Optional?null:void 0,t)}function z(e,t=Te.Default){return(pD()||eB)(ie(e),t)}function O(e,t=Te.Default){return z(e,Yd(t))}function Yd(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function jm(e){const t=[];for(let r=0;r<e.length;r++){const i=ie(e[r]);if(Array.isArray(i)){if(0===i.length)throw new A(900,!1);let s,o=Te.Default;for(let a=0;a<i.length;a++){const c=i[a],l=tB(c);"number"==typeof l?-1===l?s=c.token:o|=l:s=c}t.push(z(s,o))}else t.push(z(i))}return t}function Jc(e,t){return e[Um]=t,e.prototype[Um]=t,e}function tB(e){return e[Um]}const Jd=Jc(ta("Optional"),8),Xd=Jc(ta("SkipSelf"),4);function Ks(e,t){return e.hasOwnProperty(Ei)?e[Ei]:null}function ra(e,t){e.forEach(r=>Array.isArray(r)?ra(r,t):t(r))}function vD(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function ef(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Un(e,t,r){let i=ia(e,t);return i>=0?e[1|i]=r:(i=~i,function _D(e,t,r,i){let s=e.length;if(s==t)e.push(r,i);else if(1===s)e.push(i,e[0]),e[0]=r;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=r,e[t+1]=i}}(e,i,t,r)),i}function Hm(e,t){const r=ia(e,t);if(r>=0)return e[1|r]}function ia(e,t){return function wD(e,t,r){let i=0,s=e.length>>r;for(;s!==i;){const o=i+(s-i>>1),a=e[o<<r];if(t===a)return o<<r;a>t?s=o:i=o+1}return~(s<<r)}(e,t,1)}const Ur={},Pe=[],jr=new q(""),bD=new q("",-1),zm=new q("");class nf{get(t,r=Yc){if(r===Yc){const i=new Error(`NullInjectorError: No provider for ${Ot(t)}!`);throw i.name="NullInjectorError",i}return r}}var rf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(rf||{}),yr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(yr||{}),ts=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ts||{});function cB(e,t,r){let i=e.length;for(;;){const s=e.indexOf(t,r);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const o=t.length;if(s+o===i||e.charCodeAt(s+o)<=32)return s}r=s+1}}function qm(e,t,r){let i=0;for(;i<r.length;){const s=r[i];if("number"==typeof s){if(0!==s)break;i++;const o=r[i++],a=r[i++],c=r[i++];e.setAttribute(t,a,c,o)}else{const o=s,a=r[++i];CD(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),i++}}return i}function ED(e){return 3===e||4===e||6===e}function CD(e){return 64===e.charCodeAt(0)}function Xc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?r=s:0===r||DD(e,r,s,null,-1===r||2===r?t[++i]:null)}}return e}function DD(e,t,r,i,s){let o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){const c=e[o++];if("number"==typeof c){if(c===t){a=-1;break}if(c>t){a=o-1;break}}}for(;o<e.length;){const c=e[o];if("number"==typeof c)break;if(c===r){if(null===i)return void(null!==s&&(e[o+1]=s));if(i===e[o+1])return void(e[o+2]=s)}o++,null!==i&&o++,null!==s&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,r),null!==i&&e.splice(o++,0,i),null!==s&&e.splice(o++,0,s)}const SD="ng-template";function lB(e,t,r,i){let s=0;if(i){for(;s<t.length&&"string"==typeof t[s];s+=2)if("class"===t[s]&&-1!==cB(t[s+1].toLowerCase(),r,0))return!0}else if(Gm(e))return!1;if(s=t.indexOf(1,s),s>-1){let o;for(;++s<t.length&&"string"==typeof(o=t[s]);)if(o.toLowerCase()===r)return!0}return!1}function Gm(e){return 4===e.type&&e.value!==SD}function uB(e,t,r){return t===(4!==e.type||r?e.value:SD)}function dB(e,t,r){let i=4;const s=e.attrs,o=null!==s?function pB(e){for(let t=0;t<e.length;t++)if(ED(e[t]))return t;return e.length}(s):0;let a=!1;for(let c=0;c<t.length;c++){const l=t[c];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!uB(e,l,r)||""===l&&1===t.length){if(vr(i))return!1;a=!0}}else if(8&i){if(null===s||!lB(e,s,l,r)){if(vr(i))return!1;a=!0}}else{const u=t[++c],d=fB(l,s,Gm(e),r);if(-1===d){if(vr(i))return!1;a=!0;continue}if(""!==u){let f;if(f=d>o?"":s[d+1].toLowerCase(),2&i&&u!==f){if(vr(i))return!1;a=!0}}}}else{if(!a&&!vr(i)&&!vr(l))return!1;if(a&&vr(l))continue;a=!1,i=l|1&i}}return vr(i)||a}function vr(e){return!(1&e)}function fB(e,t,r,i){if(null===t)return-1;let s=0;if(i||!r){let o=!1;for(;s<t.length;){const a=t[s];if(a===e)return s;if(3===a||6===a)o=!0;else{if(1===a||2===a){let c=t[++s];for(;"string"==typeof c;)c=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=o?1:2}return-1}return function gB(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const i=e[r];if("number"==typeof i)return-1;if(i===t)return r;r++}return-1}(t,e)}function TD(e,t,r=!1){for(let i=0;i<t.length;i++)if(dB(e,t[i],r))return!0;return!1}function ID(e,t){return e?":not("+t.trim()+")":t}function yB(e){let t=e[0],r=1,i=2,s="",o=!1;for(;r<e.length;){let a=e[r];if("string"==typeof a)if(2&i){const c=e[++r];s+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?s+="."+a:4&i&&(s+=" "+a);else""!==s&&!vr(a)&&(t+=ID(o,s),s=""),i=a,o=o||!vr(i);r++}return""!==s&&(t+=ID(o,s)),t}function ns(e){return bi(()=>{const t=AD(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||yr.Emulated,styles:e.styles||Pe,_:null,schemas:e.schemas||null,tView:null,id:""};MD(r);const i=e.dependencies;return r.directiveDefs=sf(i,!1),r.pipeDefs=sf(i,!0),r.id=function CB(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of r)t=Math.imul(31,t)+s.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function wB(e){return Ce(e)||Pt(e)}function bB(e){return null!==e}function kt(e){return bi(()=>({type:e.type,bootstrap:e.bootstrap||Pe,declarations:e.declarations||Pe,imports:e.imports||Pe,exports:e.exports||Pe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function xD(e,t){if(null==e)return Ur;const r={};for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];let o,a,c=ts.None;Array.isArray(s)?(c=s[0],o=s[1],a=s[2]??o):(o=s,a=s),t?(r[o]=c!==ts.None?[i,c]:i,t[o]=a):r[o]=i}return r}function se(e){return bi(()=>{const t=AD(e);return MD(t),t})}function hn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ce(e){return e[Kc]||null}function Pt(e){return e[Lm]||null}function Zt(e){return e[Fm]||null}function tn(e,t){const r=e[fD]||null;if(!r&&!0===t)throw new Error(`Type ${Ot(e)} does not have '\u0275mod' property.`);return r}function AD(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ur,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Pe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xD(e.inputs,t),outputs:xD(e.outputs),debugInfo:null}}function MD(e){e.features?.forEach(t=>t(e))}function sf(e,t){if(!e)return null;const r=t?Zt:wB;return()=>("function"==typeof e?e():e).map(i=>r(i)).filter(bB)}function DB(...e){return{\u0275providers:Wm(0,e),\u0275fromNgModule:!0}}function Wm(e,...t){const r=[],i=new Set;let s;const o=a=>{r.push(a)};return ra(t,a=>{const c=a;af(c,o,[],i)&&(s||=[],s.push(c))}),void 0!==s&&ND(s,o),r}function ND(e,t){for(let r=0;r<e.length;r++){const{ngModule:i,providers:s}=e[r];Zm(s,o=>{t(o,i)})}}function af(e,t,r,i){if(!(e=ie(e)))return!1;let s=null,o=Zd(e);const a=!o&&Ce(e);if(o||a){if(a&&!a.standalone)return!1;s=e}else{const l=e.ngModule;if(o=Zd(l),!o)return!1;s=l}const c=i.has(s);if(a){if(c)return!1;if(i.add(s),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const u of l)af(u,t,r,i)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let u;i.add(s);try{ra(o.imports,d=>{af(d,t,r,i)&&(u||=[],u.push(d))})}finally{}void 0!==u&&ND(u,t)}if(!c){const u=Ks(s)||(()=>new s);t({provide:s,useFactory:u,deps:Pe},s),t({provide:zm,useValue:s,multi:!0},s),t({provide:jr,useValue:()=>z(s),multi:!0},s)}const l=o.providers;if(null!=l&&!c){const u=e;Zm(l,d=>{t(d,u)})}}}return s!==e&&void 0!==e.providers}function Zm(e,t){for(let r of e)Pm(r)&&(r=r.\u0275providers),Array.isArray(r)?Zm(r,t):t(r)}const SB=ze({provide:String,useValue:ze});function Km(e){return null!==e&&"object"==typeof e&&SB in e}function Qs(e){return"function"==typeof e}const Qm=new q(""),cf={},IB={};let Ym;function lf(){return void 0===Ym&&(Ym=new nf),Ym}class xn{}class sa extends xn{get destroyed(){return this._destroyed}constructor(t,r,i,s){super(),this.parent=r,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xm(t,a=>this.processProvider(a)),this.records.set(bD,oa(void 0,this)),s.has("environment")&&this.records.set(xn,oa(void 0,this));const o=this.records.get(Qm);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zm,Pe,Te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=_e(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of r)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=es(this),i=Tn(void 0);try{return t()}finally{es(r),Tn(i)}}get(t,r=Yc,i=Te.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(hD))return t[hD](this);i=Yd(i);const o=es(this),a=Tn(void 0);try{if(!(i&Te.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function RB(e){return"function"==typeof e||"object"==typeof e&&e instanceof q}(t)&&Wd(t);l=u&&this.injectableDefInScope(u)?oa(Jm(t),cf):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Te.Self?lf():this.parent).get(t,r=i&Te.Optional&&r===Yc?null:r)}catch(c){if("NullInjectorError"===c.name){if((c[Qd]=c[Qd]||[]).unshift(Ot(t)),o)throw c;return function nB(e,t,r,i){const s=e[Qd];throw t[mD]&&s.unshift(t[mD]),e.message=function rB(e,t,r,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=Ot(t);if(Array.isArray(t))s=t.map(Ot).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let c=t[a];o.push(a+":"+("string"==typeof c?JSON.stringify(c):Ot(c)))}s=`{${o.join(", ")}}`}return`${r}${i?"("+i+")":""}[${s}]: ${e.replace(Y3,"\n  ")}`}("\n"+e.message,s,r,i),e.ngTokenPath=s,e[Qd]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{Tn(a),es(o)}}resolveInjectorInitializers(){const t=_e(null),r=es(this),i=Tn(void 0);try{const o=this.get(jr,Pe,Te.Self);for(const a of o)a()}finally{es(r),Tn(i),_e(t)}}toString(){const t=[],r=this.records;for(const i of r.keys())t.push(Ot(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(t){let r=Qs(t=ie(t))?t:ie(t&&t.provide);const i=function AB(e){return Km(e)?oa(void 0,e.useValue):oa(kD(e),cf)}(t);if(!Qs(t)&&!0===t.multi){let s=this.records.get(r);s||(s=oa(void 0,cf,!0),s.factory=()=>jm(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,i)}hydrate(t,r){const i=_e(null);try{return r.value===cf&&(r.value=IB,r.value=r.factory()),"object"==typeof r.value&&r.value&&function NB(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{_e(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=ie(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Jm(e){const t=Wd(e),r=null!==t?t.factory:Ks(e);if(null!==r)return r;if(e instanceof q)throw new A(204,!1);if(e instanceof Function)return function xB(e){if(e.length>0)throw new A(204,!1);const r=function z3(e){return e&&(e[Kd]||e[uD])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new A(204,!1)}function kD(e,t,r){let i;if(Qs(e)){const s=ie(e);return Ks(s)||Jm(s)}if(Km(e))i=()=>ie(e.useValue);else if(function OD(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...jm(e.deps||[]));else if(function RD(e){return!(!e||!e.useExisting)}(e))i=()=>z(ie(e.useExisting));else{const s=ie(e&&(e.useClass||e.provide));if(!function MB(e){return!!e.deps}(e))return Ks(s)||Jm(s);i=()=>new s(...jm(e.deps))}return i}function oa(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Xm(e,t){for(const r of e)Array.isArray(r)?Xm(r,t):r&&Pm(r)?Xm(r.\u0275providers,t):t(r)}function Ci(e,t){e instanceof sa&&e.assertNotDestroyed();const i=es(e),s=Tn(void 0);try{return t()}finally{es(i),Tn(s)}}function PD(){return void 0!==pD()||null!=function X3(){return na}()}const ut=0,F=1,ne=2,It=3,_r=4,Kt=5,pn=6,ca=7,nt=8,xt=9,$r=10,oe=11,nl=12,FD=13,la=14,dt=15,Ys=16,ua=17,Di=18,da=19,BD=20,is=21,df=22,Xn=23,Y=25,ny=1,Hr=7,fa=9,wt=10;var hf=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(hf||{});function Ft(e){return Array.isArray(e)&&"object"==typeof e[ny]}function nn(e){return Array.isArray(e)&&!0===e[ny]}function ry(e){return!!(4&e.flags)}function Js(e){return e.componentOffset>-1}function pf(e){return!(1&~e.flags)}function wr(e){return!!e.template}function il(e){return!!(512&e[ne])}class zB{constructor(t,r,i){this.previousValue=t,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}}function HD(e,t,r,i){null!==t?t.applyValueToInputSignal(t,i):e[r]=i}function er(){return zD}function zD(e){return e.type.prototype.ngOnChanges&&(e.setInput=GB),qB}function qB(){const e=GD(this),t=e?.current;if(t){const r=e.previous;if(r===Ur)e.previous=t;else for(let i in t)r[i]=t[i];e.current=null,this.ngOnChanges(t)}}function GB(e,t,r,i,s){const o=this.declaredInputs[i],a=GD(e)||function WB(e,t){return e[qD]=t}(e,{previous:Ur,current:null}),c=a.current||(a.current={}),l=a.previous,u=l[o];c[o]=new zB(u&&u.currentValue,r,l===Ur),HD(e,t,s,r)}er.ngInherit=!0;const qD="__ngSimpleChanges__";function GD(e){return e[qD]||null}const zr=function(e,t,r){},WD="svg";function Le(e){for(;Array.isArray(e);)e=e[ut];return e}function sl(e,t){return Le(t[e])}function gn(e,t){return Le(t[e.index])}function ol(e,t){return e.data[t]}function Xs(e,t){return e[t]}function jn(e,t){const r=t[e];return Ft(r)?r:r[ut]}function cy(e){return!(128&~e[ne])}function tr(e,t){return null==t?null:e[t]}function KD(e){e[ua]=0}function QD(e){1024&e[ne]||(e[ne]|=1024,cy(e)&&mf(e))}function gf(e){return!!(9216&e[ne]||e[Xn]?.dirty)}function ly(e){e[$r].changeDetectionScheduler?.notify(8),64&e[ne]&&(e[ne]|=1024),gf(e)&&mf(e)}function mf(e){e[$r].changeDetectionScheduler?.notify(0);let t=Si(e);for(;null!==t&&!(8192&t[ne])&&(t[ne]|=8192,cy(t));)t=Si(t)}function yf(e,t){if(!(256&~e[ne]))throw new A(911,!1);null===e[is]&&(e[is]=[]),e[is].push(t)}function Si(e){const t=e[It];return nn(t)?t[It]:t}const ae={lFrame:lS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let JD=!1;function XD(){return ae.bindingsEnabled}function N(){return ae.lFrame.lView}function we(){return ae.lFrame.tView}function rn(e){return ae.lFrame.contextLView=e,e[nt]}function sn(e){return ae.lFrame.contextLView=null,e}function qe(){let e=eS();for(;null!==e&&64===e.type;)e=e.parent;return e}function eS(){return ae.lFrame.currentTNode}function br(e,t){const r=ae.lFrame;r.currentTNode=e,r.isParent=t}function fy(){return ae.lFrame.isParent}function hy(){ae.lFrame.isParent=!1}function rS(){return JD}function iS(e){JD=e}function Er(){return ae.lFrame.bindingIndex++}function Ii(e){const t=ae.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function aV(e,t){const r=ae.lFrame;r.bindingIndex=r.bindingRootIndex=e,py(t)}function py(e){ae.lFrame.currentDirectiveIndex=e}function gy(e){const t=ae.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function my(){return ae.lFrame.currentQueryIndex}function _f(e){ae.lFrame.currentQueryIndex=e}function lV(e){const t=e[F];return 2===t.type?t.declTNode:1===t.type?e[Kt]:null}function aS(e,t,r){if(r&Te.SkipSelf){let s=t,o=e;for(;!(s=s.parent,null!==s||r&Te.Host||(s=lV(o),null===s||(o=o[la],10&s.type))););if(null===s)return!1;t=s,e=o}const i=ae.lFrame=cS();return i.currentTNode=t,i.lView=e,!0}function yy(e){const t=cS(),r=e[F];ae.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function cS(){const e=ae.lFrame,t=null===e?null:e.child;return null===t?lS(e):t}function lS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function uS(){const e=ae.lFrame;return ae.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const dS=uS;function vy(){const e=uS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qt(){return ae.lFrame.selectedIndex}function to(e){ae.lFrame.selectedIndex=e}function rt(){const e=ae.lFrame;return ol(e.tView,e.selectedIndex)}function wf(){ae.lFrame.currentNamespace=WD}function bf(){!function fV(){ae.lFrame.currentNamespace=null}()}let hS=!0;function cl(){return hS}function qr(e){hS=e}function Ef(e,t){for(let r=t.directiveStart,i=t.directiveEnd;r<i;r++){const o=e.data[r].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;a&&(e.contentHooks??=[]).push(-r,a),c&&((e.contentHooks??=[]).push(r,c),(e.contentCheckHooks??=[]).push(r,c)),l&&(e.viewHooks??=[]).push(-r,l),u&&((e.viewHooks??=[]).push(r,u),(e.viewCheckHooks??=[]).push(r,u)),null!=d&&(e.destroyHooks??=[]).push(r,d)}}function Cf(e,t,r){pS(e,t,3,r)}function Df(e,t,r,i){(3&e[ne])===r&&pS(e,t,r,i)}function _y(e,t){let r=e[ne];(3&r)===t&&(r&=16383,r+=1,e[ne]=r)}function pS(e,t,r,i){const o=i??-1,a=t.length-1;let c=0;for(let l=void 0!==i?65535&e[ua]:0;l<a;l++)if("number"==typeof t[l+1]){if(c=t[l],null!=i&&c>=i)break}else t[l]<0&&(e[ua]+=65536),(c<o||-1==o)&&(pV(e,r,t,l),e[ua]=(4294901760&e[ua])+l+2),l++}function gS(e,t){zr(4,e,t);const r=_e(null);try{t.call(e)}finally{_e(r),zr(5,e,t)}}function pV(e,t,r,i){const s=r[i]<0,o=r[i+1],c=e[s?-r[i]:r[i]];s?e[ne]>>14<e[ua]>>16&&(3&e[ne])===t&&(e[ne]+=16384,gS(c,o)):gS(c,o)}const ha=-1;class ll{constructor(t,r,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=i}}const by={};class no{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,i){i=Yd(i);const s=this.injector.get(t,by,i);return s!==by||r===by?s:this.parentInjector.get(t,r,i)}}function Ey(e){return e!==ha}function ul(e){return 32767&e}function dl(e,t){let r=function _V(e){return e>>16}(e),i=t;for(;r>0;)i=i[la],r--;return i}let Cy=!0;function Sf(e){const t=Cy;return Cy=e,t}const yS=255,vS=5;let bV=0;const Gr={};function Tf(e,t){const r=_S(e,t);if(-1!==r)return r;const i=t[F];i.firstCreatePass&&(e.injectorIndex=t.length,Dy(i.data,e),Dy(t,null),Dy(i.blueprint,null));const s=If(e,t),o=e.injectorIndex;if(Ey(s)){const a=ul(s),c=dl(s,t),l=c[F].data;for(let u=0;u<8;u++)t[o+u]=c[a+u]|l[a+u]}return t[o+8]=s,o}function Dy(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _S(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function If(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,i=null,s=t;for(;null!==s;){if(i=TS(s),null===i)return ha;if(r++,s=s[la],-1!==i.injectorIndex)return i.injectorIndex|r<<16}return ha}function Sy(e,t,r){!function EV(e,t,r){let i;"string"==typeof r?i=r.charCodeAt(0)||0:r.hasOwnProperty(Qc)&&(i=r[Qc]),null==i&&(i=r[Qc]=bV++);const s=i&yS;t.data[e+(s>>vS)]|=1<<s}(e,t,r)}function wS(e,t,r){if(r&Te.Optional||void 0!==e)return e;Bm()}function bS(e,t,r,i){if(r&Te.Optional&&void 0===i&&(i=null),!(r&(Te.Self|Te.Host))){const s=e[xt],o=Tn(void 0);try{return s?s.get(t,i,r&Te.Optional):gD(t,i,r&Te.Optional)}finally{Tn(o)}}return wS(i,0,r)}function ES(e,t,r,i=Te.Default,s){if(null!==e){if(2048&t[ne]&&!(i&Te.Self)){const a=function IV(e,t,r,i,s){let o=e,a=t;for(;null!==o&&null!==a&&2048&a[ne]&&!(512&a[ne]);){const c=CS(o,a,r,i|Te.Self,Gr);if(c!==Gr)return c;let l=o.parent;if(!l){const u=a[BD];if(u){const d=u.get(r,Gr,i);if(d!==Gr)return d}l=TS(a),a=a[la]}o=l}return s}(e,t,r,i,Gr);if(a!==Gr)return a}const o=CS(e,t,r,i,Gr);if(o!==Gr)return o}return bS(t,r,i,s)}function CS(e,t,r,i,s){const o=function SV(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Qc)?e[Qc]:void 0;return"number"==typeof t?t>=0?t&yS:TV:t}(r);if("function"==typeof o){if(!aS(t,e,i))return i&Te.Host?wS(s,0,i):bS(t,r,i,s);try{let a;if(a=o(i),null!=a||i&Te.Optional)return a;Bm()}finally{dS()}}else if("number"==typeof o){let a=null,c=_S(e,t),l=ha,u=i&Te.Host?t[dt][Kt]:null;for((-1===c||i&Te.SkipSelf)&&(l=-1===c?If(e,t):t[c+8],l!==ha&&SS(i,!1)?(a=t[F],c=ul(l),t=dl(l,t)):c=-1);-1!==c;){const d=t[F];if(DS(o,c,d.data)){const f=DV(c,t,r,a,i,u);if(f!==Gr)return f}l=t[c+8],l!==ha&&SS(i,t[F].data[c+8]===u)&&DS(o,c,t)?(a=d,c=ul(l),t=dl(l,t)):c=-1}}return s}function DV(e,t,r,i,s,o){const a=t[F],c=a.data[e+8],d=xf(c,a,r,null==i?Js(c)&&Cy:i!=a&&!!(3&c.type),s&Te.Host&&o===c);return null!==d?ro(t,a,d,c):Gr}function xf(e,t,r,i,s){const o=e.providerIndexes,a=t.data,c=1048575&o,l=e.directiveStart,d=o>>20,h=s?c+d:e.directiveEnd;for(let p=i?c:c+d;p<h;p++){const g=a[p];if(p<l&&r===g||p>=l&&g.type===r)return p}if(s){const p=a[l];if(p&&wr(p)&&p.type===r)return l}return null}function ro(e,t,r,i){let s=e[r];const o=t.data;if(function gV(e){return e instanceof ll}(s)){const a=s;a.resolving&&function Z3(e,t){throw t&&t.join(" > "),new A(-200,e)}(function Fe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pe(e)}(o[r]));const c=Sf(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?Tn(a.injectImpl):null;aS(e,i,Te.Default);try{s=e[r]=a.factory(void 0,o,e,i),t.firstCreatePass&&r>=i.directiveStart&&function hV(e,t,r){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:o}=t.type.prototype;if(i){const a=zD(t);(r.preOrderHooks??=[]).push(e,a),(r.preOrderCheckHooks??=[]).push(e,a)}s&&(r.preOrderHooks??=[]).push(0-e,s),o&&((r.preOrderHooks??=[]).push(e,o),(r.preOrderCheckHooks??=[]).push(e,o))}(r,o[r],t)}finally{null!==u&&Tn(u),Sf(c),a.resolving=!1,dS()}}return s}function DS(e,t,r){return!!(r[t+(e>>vS)]&1<<e)}function SS(e,t){return!(e&Te.Self||e&Te.Host&&t)}class Bt{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,i){return ES(this._tNode,this._lView,t,Yd(i),r)}}function TV(){return new Bt(qe(),N())}function Gt(e){return bi(()=>{const t=e.prototype.constructor,r=t[Ei]||Ty(t),i=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==i;){const o=s[Ei]||Ty(s);if(o&&o!==r)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function Ty(e){return Gd(e)?()=>{const t=Ty(ie(e));return t&&t()}:Ks(e)}function TS(e){const t=e[F],r=t.type;return 2===r?t.declTNode:1===r?e[Kt]:null}function NS(e,t=null,r=null,i){const s=RS(e,t,r,i);return s.resolveInjectorInitializers(),s}function RS(e,t=null,r=null,i,s=new Set){const o=[r||Pe,DB(e)];return i=i||("object"==typeof e?void 0:Ot(e)),new sa(o,t||lf(),i||null,s)}class At{static{this.THROW_IF_NOT_FOUND=Yc}static{this.NULL=new nf}static create(t,r){if(Array.isArray(t))return NS({name:""},r,t,"");{const i=t.name??"";return NS({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=j({token:At,providedIn:"any",factory:()=>z(bD)})}static{this.__NG_ELEMENT_ID__=-1}}new q("").__NG_ELEMENT_ID__=e=>{const t=qe();if(null===t)throw new A(204,!1);if(2&t.type)return t.value;if(e&Te.Optional)return null;throw new A(204,!1)};function xy(e){return e.ngOriginalError}const kS=!0;let hl=(()=>{class e{static{this.__NG_ELEMENT_ID__=FV}static{this.__NG_ENV_ID__=r=>r}}return e})();class LV extends hl{constructor(t){super(),this._lView=t}onDestroy(t){return yf(this._lView,t),()=>function uy(e,t){if(null===e[is])return;const r=e[is].indexOf(t);-1!==r&&e[is].splice(r,1)}(this._lView,t)}}function FV(){return new LV(N())}let io=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e})}}return e})();const ft=class BV extends et{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,PD()&&(this.destroyRef=O(hl,{optional:!0})??void 0,this.pendingTasks=O(io,{optional:!0})??void 0)}emit(t){const r=_e(null);try{super.next(t)}finally{_e(r)}}subscribe(t,r,i){let s=t,o=r||(()=>null),a=i;if(t&&"object"==typeof t){const l=t;s=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),s&&(s=this.wrapInTimeout(s)),a&&(a=this.wrapInTimeout(a)));const c=super.subscribe({next:s,error:o,complete:a});return t instanceof _t&&t.add(c),c}wrapInTimeout(t){return r=>{const i=this.pendingTasks?.add();setTimeout(()=>{t(r),void 0!==i&&this.pendingTasks?.remove(i)})}}};function Mf(...e){}function PS(e){let t,r;function i(){e=Mf;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),i()})),()=>i()}function LS(e){return queueMicrotask(()=>e()),()=>{e=Mf}}const Ay="isAngularZone",Nf=Ay+"_ID";let VV=0;class Re{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ft(!1),this.onMicrotaskEmpty=new ft(!1),this.onStable=new ft(!1),this.onError=new ft(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:o=kS}=t;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&i,a.shouldCoalesceRunChangeDetection=s,a.callbackScheduled=!1,a.scheduleInRootZone=o,function $V(e){const t=()=>{!function jV(e){function t(){PS(()=>{e.callbackScheduled=!1,Ny(e),e.isCheckStableRunning=!0,My(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ny(e))}(e)},r=VV++;e._inner=e._inner.fork({name:"angular",properties:{[Ay]:!0,[Nf]:r,[Nf+r]:!0},onInvokeTask:(i,s,o,a,c,l)=>{if(function HV(e){return VS(e,"__ignore_ng_zone__")}(l))return i.invokeTask(o,a,c,l);try{return FS(e),i.invokeTask(o,a,c,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),BS(e)}},onInvoke:(i,s,o,a,c,l,u)=>{try{return FS(e),i.invoke(o,a,c,l,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function zV(e){return VS(e,"__scheduler_tick__")}(l)&&t(),BS(e)}},onHasTask:(i,s,o,a)=>{i.hasTask(o,a),s===o&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,Ny(e),My(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,s,o,a)=>(i.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Ay)}static assertInAngularZone(){if(!Re.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new A(909,!1)}run(t,r,i){return this._inner.run(t,r,i)}runTask(t,r,i,s){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+s,t,UV,Mf,Mf);try{return o.runTask(a,r,i)}finally{o.cancelTask(a)}}runGuarded(t,r,i){return this._inner.runGuarded(t,r,i)}runOutsideAngular(t){return this._outer.run(t)}}const UV={};function My(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ny(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function FS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function BS(e){e._nesting--,My(e)}class Ry{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ft,this.onMicrotaskEmpty=new ft,this.onStable=new ft,this.onError=new ft}run(t,r,i){return t.apply(r,i)}runGuarded(t,r,i){return t.apply(r,i)}runOutsideAngular(t){return t()}runTask(t,r,i,s){return t.apply(r,i)}}function VS(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class nr{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&xy(t);for(;r&&xy(r);)r=xy(r);return r||null}}const GV=new q("",{providedIn:"root",factory:()=>{const e=O(Re),t=O(nr);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function WV(){return ma(qe(),N())}function ma(e,t){return new $n(gn(e,t))}let $n=(()=>{class e{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=WV}}return e})();function jS(e){return e instanceof $n?e.nativeElement:e}function ZV(){return this._results[Symbol.iterator]()}class Oy{get changes(){return this._changes??=new ft}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Oy.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=ZV)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const i=function In(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function aB(e,t,r){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],o=t[i];if(r&&(s=r(s),o=r(o)),o!==s)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function gl(e){return!(128&~e.flags)}const Py=new Map;let QV=0;function Ly(e){Py.delete(e[da])}const Rf="__ngContext__";function on(e,t){Ft(t)?(e[Rf]=t[da],function JV(e){Py.set(e[da],e)}(t)):e[Rf]=t}function YS(e){return XS(e[nl])}function JS(e){return XS(e[_r])}function XS(e){for(;null!==e&&!nn(e);)e=e[_r];return e}let By;function ss(){if(void 0!==By)return By;if(typeof document<"u")return document;throw new A(210,!1)}const va=new q("",{providedIn:"root",factory:()=>g8}),g8="ng",aT=new q(""),os=new q("",{providedIn:"platform",factory:()=>"unknown"}),cT=new q(""),lT=new q("",{providedIn:"root",factory:()=>ss().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uT=()=>null;function qy(e,t,r=!1){return uT(e,t,r)}const vT=new q("",{providedIn:"root",factory:()=>!1});let Uf,jf;function ba(e){return function Qy(){if(void 0===Uf&&(Uf=null,lt.trustedTypes))try{Uf=lt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Uf}()?.createHTML(e)||e}function bT(e){return function Yy(){if(void 0===jf&&(jf=null,lt.trustedTypes))try{jf=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jf}()?.createHTML(e)||e}class oo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sD})`}}class A8 extends oo{getTypeName(){return"HTML"}}class M8 extends oo{getTypeName(){return"Style"}}class N8 extends oo{getTypeName(){return"Script"}}class R8 extends oo{getTypeName(){return"URL"}}class O8 extends oo{getTypeName(){return"ResourceURL"}}function Hn(e){return e instanceof oo?e.changingThisBreaksApplicationSecurity:e}function Wr(e,t){const r=function k8(e){return e instanceof oo&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${sD})`)}return r===t}class U8{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(ba(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class j8{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=ba(t),r}}const H8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $f(e){return(e=String(e)).match(H8)?e:"unsafe:"+e}function xi(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function El(...e){const t={};for(const r of e)for(const i in r)r.hasOwnProperty(i)&&(t[i]=!0);return t}const ST=xi("area,br,col,hr,img,wbr"),TT=xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IT=xi("rp,rt"),Jy=El(ST,El(TT,xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),El(IT,xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),El(IT,TT)),Xy=xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xT=El(Xy,xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),z8=xi("script,style,template");class q8{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,i=!0,s=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?i=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,i&&r.firstChild)s.push(r),r=Z8(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=W8(r);if(o){r=o;break}r=s.pop()}return this.buf.join("")}startElement(t){const r=AT(t).toLowerCase();if(!Jy.hasOwnProperty(r))return this.sanitizedSomething=!0,!z8.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const i=t.attributes;for(let s=0;s<i.length;s++){const o=i.item(s),a=o.name,c=a.toLowerCase();if(!xT.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let l=o.value;Xy[c]&&(l=$f(l)),this.buf.push(" ",a,'="',NT(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=AT(t).toLowerCase();Jy.hasOwnProperty(r)&&!ST.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(NT(t))}}function W8(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw MT(t);return t}function Z8(e){const t=e.firstChild;if(t&&function G8(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw MT(t);return t}function AT(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function MT(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const K8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Q8=/([^\#-~ |!])/g;function NT(e){return e.replace(/&/g,"&amp;").replace(K8,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Q8,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hf;function RT(e,t){let r=null;try{Hf=Hf||function DT(e){const t=new j8(e);return function $8(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch{return!1}}()?new U8(t):t}(e);let i=t?String(t):"";r=Hf.getInertBodyElement(i);let s=5,o=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=o,o=r.innerHTML,r=Hf.getInertBodyElement(i)}while(i!==o);return ba((new q8).sanitizeChildren(ev(r)||r))}finally{if(r){const i=ev(r)||r;for(;i.firstChild;)i.firstChild.remove()}}}function ev(e){return"content"in e&&function Y8(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var zn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(zn||{});function tv(e){const t=function Cl(){const e=N();return e&&e[$r].sanitizer}();return t?bT(t.sanitize(zn.HTML,e)||""):Wr(e,"HTML")?bT(Hn(e)):RT(ss(),pe(e))}const rU=/^>|^->|<!--|-->|--!>|<!-$/g,iU=/(<|>)/g,sU="\u200b$1\u200b";function UT(e){return e.ownerDocument.defaultView}function qn(e){return e instanceof Function?e():e}var as=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(as||{});let iv;function sv(e,t){return iv(e,t)}function Ca(e,t,r,i,s){if(null!=i){let o,a=!1;nn(i)?o=i:Ft(i)&&(a=!0,i=i[ut]);const c=Le(i);0===e&&null!==r?null==s?KT(t,r,c):ao(t,r,c,s||null,!0):1===e&&null!==r?ao(t,r,c,s||null,!0):2===e?function Sl(e,t,r){e.removeChild(null,t,r)}(t,c,a):3===e&&t.destroyNode(c),null!=o&&function DU(e,t,r,i,s){const o=r[Hr];o!==Le(r)&&Ca(t,e,i,o,s);for(let c=wt;c<r.length;c++){const l=r[c];Kf(l[F],l,e,t,i,o)}}(t,e,o,r,s)}}function av(e,t){return e.createComment(function LT(e){return e.replace(rU,t=>t.replace(iU,sU))}(t))}function Gf(e,t,r){return e.createElement(t,r)}function GT(e,t){t[$r].changeDetectionScheduler?.notify(9),Kf(e,t,t[oe],2,null,null)}function WT(e,t){const r=e[fa],i=t[It];(Ft(i)||t[dt]!==i[It][dt])&&(e[ne]|=hf.HasTransplantedViews),null===r?e[fa]=[t]:r.push(t)}function cv(e,t){const r=e[fa],i=r.indexOf(t);r.splice(i,1)}function Dl(e,t){if(e.length<=wt)return;const r=wt+t,i=e[r];if(i){const s=i[Ys];null!==s&&s!==e&&cv(s,i),t>0&&(e[r-1][_r]=i[_r]);const o=ef(e,wt+t);!function mU(e,t){GT(e,t),t[ut]=null,t[Kt]=null}(i[F],i);const a=o[Di];null!==a&&a.detachView(o[F]),i[It]=null,i[_r]=null,i[ne]&=-129}return i}function Wf(e,t){if(!(256&t[ne])){const r=t[oe];r.destroyNode&&Kf(e,t,r,3,null,null),function vU(e){let t=e[nl];if(!t)return lv(e[F],e);for(;t;){let r=null;if(Ft(t))r=t[nl];else{const i=t[wt];i&&(r=i)}if(!r){for(;t&&!t[_r]&&t!==e;)Ft(t)&&lv(t[F],t),t=t[It];null===t&&(t=e),Ft(t)&&lv(t[F],t),r=t&&t[_r]}t=r}}(t)}}function lv(e,t){if(256&t[ne])return;const r=_e(null);try{t[ne]&=-129,t[ne]|=256,t[Xn]&&ym(t[Xn]),function bU(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let i=0;i<r.length;i+=2){const s=t[r[i]];if(!(s instanceof ll)){const o=r[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const c=s[o[a]],l=o[a+1];zr(4,c,l);try{l.call(c)}finally{zr(5,c,l)}}else{zr(4,s,o);try{o.call(s)}finally{zr(5,s,o)}}}}}(e,t),function wU(e,t){const r=e.cleanup,i=t[ca];if(null!==r)for(let o=0;o<r.length-1;o+=2)if("string"==typeof r[o]){const a=r[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else r[o].call(i[r[o+1]]);null!==i&&(t[ca]=null);const s=t[is];if(null!==s){t[is]=null;for(let o=0;o<s.length;o++)(0,s[o])()}}(e,t),1===t[F].type&&t[oe].destroy();const i=t[Ys];if(null!==i&&nn(t[It])){i!==t[It]&&cv(i,t);const s=t[Di];null!==s&&s.detachView(e)}Ly(t)}finally{_e(r)}}function uv(e,t,r){return function ZT(e,t,r){let i=t;for(;null!==i&&168&i.type;)i=(t=i).parent;if(null===i)return r[ut];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:o}=e.data[i.directiveStart+s];if(o===yr.None||o===yr.Emulated)return null}return gn(i,r)}}(e,t.parent,r)}function ao(e,t,r,i,s){e.insertBefore(t,r,i,s)}function KT(e,t,r){e.appendChild(t,r)}function QT(e,t,r,i,s){null!==i?ao(e,t,r,i,s):KT(e,t,r)}function dv(e,t){return e.parentNode(t)}let fv,XT=function JT(e,t,r){return 40&e.type?gn(e,r):null};function Zf(e,t,r,i){const s=uv(e,i,t),o=t[oe],c=function YT(e,t,r){return XT(e,t,r)}(i.parent||t[Kt],i,t);if(null!=s)if(Array.isArray(r))for(let l=0;l<r.length;l++)QT(o,s,r[l],c,!1);else QT(o,s,r,c,!1);void 0!==fv&&fv(o,i,t,r,s)}function co(e,t){if(null!==t){const r=t.type;if(3&r)return gn(t,e);if(4&r)return hv(-1,e[t.index]);if(8&r){const i=t.child;if(null!==i)return co(e,i);{const s=e[t.index];return nn(s)?hv(-1,s):Le(s)}}if(128&r)return co(e,t.next);if(32&r)return sv(t,e)()||Le(e[t.index]);{const i=tI(e,t);return null!==i?Array.isArray(i)?i[0]:co(Si(e[dt]),i):co(e,t.next)}}return null}function tI(e,t){return null!==t?e[dt][Kt].projection[t.projection]:null}function hv(e,t){const r=wt+e+1;if(r<t.length){const i=t[r],s=i[F].firstChild;if(null!==s)return co(i,s)}return t[Hr]}function pv(e,t,r,i,s,o,a){for(;null!=r;){if(128===r.type){r=r.next;continue}const c=i[r.index],l=r.type;if(a&&0===t&&(c&&on(Le(c),i),r.flags|=2),32&~r.flags)if(8&l)pv(e,t,r.child,i,s,o,!1),Ca(t,e,s,c,o);else if(32&l){const u=sv(r,i);let d;for(;d=u();)Ca(t,e,s,d,o);Ca(t,e,s,c,o)}else 16&l?rI(e,t,i,r,s,o):Ca(t,e,s,c,o);r=a?r.projectionNext:r.next}}function Kf(e,t,r,i,s,o){pv(r,i,e.firstChild,t,s,o,!1)}function rI(e,t,r,i,s,o){const a=r[dt],l=a[Kt].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ca(t,e,s,l[u],o);else{let u=l;const d=a[It];gl(i)&&(u.flags|=128),pv(e,t,u,d,s,o,!0)}}function iI(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function sI(e,t,r){const{mergedAttrs:i,classes:s,styles:o}=r;null!==i&&qm(e,t,i),null!==s&&iI(e,t,s),null!==o&&function TU(e,t,r){e.setAttribute(t,"style",r)}(e,t,o)}const ge={};function De(e=1){oI(we(),N(),Qt()+e,!1)}function oI(e,t,r,i){if(!i)if(3&~t[ne]){const o=e.preOrderHooks;null!==o&&Df(t,o,0,r)}else{const o=e.preOrderCheckHooks;null!==o&&Cf(t,o,r)}to(r)}function k(e,t=Te.Default){const r=N();return null===r?z(e,t):ES(qe(),r,ie(e),t)}function cI(e,t,r,i,s,o){const a=_e(null);try{let c=null;s&ts.SignalBased&&(c=t[i][mr]),null!==c&&void 0!==c.transformFn&&(o=c.transformFn(o)),s&ts.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),null!==e.setInput?e.setInput(t,c,o,r,i):HD(t,c,i,o)}finally{_e(a)}}function Qf(e,t,r,i,s,o,a,c,l,u,d){const f=t.blueprint.slice();return f[ut]=s,f[ne]=204|i,(null!==u||e&&2048&e[ne])&&(f[ne]|=2048),KD(f),f[It]=f[la]=e,f[nt]=r,f[$r]=a||e&&e[$r],f[oe]=c||e&&e[oe],f[xt]=l||e&&e[xt]||null,f[Kt]=o,f[da]=function YV(){return QV++}(),f[pn]=d,f[BD]=u,f[dt]=2==t.type?e[dt]:f,f}function lo(e,t,r,i,s){let o=e.data[t];if(null===o)o=function gv(e,t,r,i,s){const o=eS(),a=fy(),l=e.data[t]=function kU(e,t,r,i,s,o){let a=t?t.injectorIndex:-1,c=0;return function eo(){return null!==ae.skipHydrationRootTNode}()&&(c|=128),{type:r,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,r,t,i,s);return null===e.firstChild&&(e.firstChild=l),null!==o&&(a?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,r,i,s),function oV(){return ae.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=r,o.value=i,o.attrs=s;const a=function al(){const e=ae.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return br(o,!0),o}function Tl(e,t,r,i){if(0===r)return-1;const s=t.length;for(let o=0;o<r;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return s}function lI(e,t,r,i,s){const o=Qt(),a=2&i;try{to(-1),a&&t.length>Y&&oI(e,t,Y,!1),zr(a?2:0,s),r(i,s)}finally{to(o),zr(a?3:1,s)}}function mv(e,t,r){if(ry(t)){const i=_e(null);try{const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,r[a],a)}}finally{_e(i)}}}function yv(e,t,r){XD()&&(function jU(e,t,r,i){const s=r.directiveStart,o=r.directiveEnd;Js(r)&&function ZU(e,t,r){const i=gn(t,e),s=uI(r);let a=16;r.signals?a=4096:r.onPush&&(a=64);const c=Yf(e,Qf(e,s,null,a,i,t,null,e[$r].rendererFactory.createRenderer(i,r),null,null,null));e[t.index]=c}(t,r,e.data[s+r.componentOffset]),e.firstCreatePass||Tf(r,t),on(i,t);const a=r.initialInputs;for(let c=s;c<o;c++){const l=e.data[c],u=ro(t,e,c,r);on(u,t),null!==a&&KU(0,c-s,u,l,0,a),wr(l)&&(jn(r.index,t)[nt]=ro(t,e,c,r))}}(e,t,r,gn(r,t)),!(64&~r.flags)&&gI(e,t,r))}function vv(e,t,r=gn){const i=t.localNames;if(null!==i){let s=t.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],c=-1===a?r(t,e):e[a];e[s++]=c}}}function uI(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=_v(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function _v(e,t,r,i,s,o,a,c,l,u,d){const f=Y+i,h=f+s,p=function xU(e,t){const r=[];for(let i=0;i<t;i++)r.push(i<e?null:ge);return r}(f,h),g="function"==typeof u?u():u;return p[F]={type:e,blueprint:p,template:r,queries:null,viewQuery:c,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:d}}let dI=()=>null;function fI(e,t,r,i,s){for(let o in t){if(!t.hasOwnProperty(o))continue;const a=t[o];if(void 0===a)continue;i??={};let c,l=ts.None;Array.isArray(a)?(c=a[0],l=a[1]):c=a;let u=o;if(null!==s){if(!s.hasOwnProperty(o))continue;u=s[o]}0===e?hI(i,r,u,c,l):hI(i,r,u,c)}return i}function hI(e,t,r,i,s){let o;e.hasOwnProperty(r)?(o=e[r]).push(t,i):o=e[r]=[t,i],void 0!==s&&o.push(s)}function Mn(e,t,r,i,s,o,a,c){const l=gn(t,r);let d,u=t.inputs;!c&&null!=u&&(d=u[i])?(Dv(e,r,d,i,s),Js(t)&&function FU(e,t){const r=jn(t,e);16&r[ne]||(r[ne]|=64)}(r,t.index)):3&t.type&&(i=function LU(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),s=null!=a?a(s,t.value||"",i):s,o.setProperty(l,i,s))}function wv(e,t,r,i){if(XD()){const s=null===i?null:{"":-1},o=function HU(e,t){const r=e.directiveRegistry;let i=null,s=null;if(r)for(let o=0;o<r.length;o++){const a=r[o];if(TD(t,a.selectors,!1))if(i||(i=[]),wr(a))if(null!==a.findHostDirectiveDefs){const c=[];s=s||new Map,a.findHostDirectiveDefs(a,c,s),i.unshift(...c,a),bv(e,t,c.length)}else i.unshift(a),bv(e,t,0);else s=s||new Map,a.findHostDirectiveDefs?.(a,i,s),i.push(a)}return null===i?null:[i,s]}(e,r);let a,c;null===o?a=c=null:[a,c]=o,null!==a&&pI(e,t,r,a,s,c),s&&function zU(e,t,r){if(t){const i=e.localNames=[];for(let s=0;s<t.length;s+=2){const o=r[t[s+1]];if(null==o)throw new A(-301,!1);i.push(t[s],o)}}}(r,i,s)}r.mergedAttrs=Xc(r.mergedAttrs,r.attrs)}function pI(e,t,r,i,s,o){for(let u=0;u<i.length;u++)Sy(Tf(r,t),e,i[u].type);!function GU(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,i.length);for(let u=0;u<i.length;u++){const d=i[u];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,l=Tl(e,t,i.length,null);for(let u=0;u<i.length;u++){const d=i[u];r.mergedAttrs=Xc(r.mergedAttrs,d.hostAttrs),WU(e,r,t,l,d),qU(l,d,s),null!==d.contentQueries&&(r.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(r.flags|=64);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),a=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),c=!0),l++}!function PU(e,t,r){const s=t.directiveEnd,o=e.data,a=t.attrs,c=[];let l=null,u=null;for(let d=t.directiveStart;d<s;d++){const f=o[d],h=r?r.get(f):null,g=h?h.outputs:null;l=fI(0,f.inputs,d,l,h?h.inputs:null),u=fI(1,f.outputs,d,u,g);const m=null===l||null===a||Gm(t)?null:QU(l,d,a);c.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=l,t.outputs=u}(e,r,o)}function gI(e,t,r){const i=r.directiveStart,s=r.directiveEnd,o=r.index,a=function cV(){return ae.lFrame.currentDirectiveIndex}();try{to(o);for(let c=i;c<s;c++){const l=e.data[c],u=t[c];py(c),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&$U(l,u)}}finally{to(-1),py(a)}}function $U(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function bv(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function qU(e,t,r){if(r){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)r[t.exportAs[i]]=e;wr(t)&&(r[""]=e)}}function WU(e,t,r,i,s){e.data[i]=s;const o=s.factory||(s.factory=Ks(s.type)),a=new ll(o,wr(s),k);e.blueprint[i]=a,r[i]=a,function VU(e,t,r,i,s){const o=s.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const c=~t.index;(function UU(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(a)!=c&&a.push(c),a.push(r,i,o)}}(e,t,i,Tl(e,r,s.hostVars,ge),s)}function Zr(e,t,r,i,s,o){const a=gn(e,t);!function Ev(e,t,r,i,s,o,a){if(null==o)e.removeAttribute(t,s,r);else{const c=null==a?pe(o):a(o,i||"",s);e.setAttribute(t,s,c,r)}}(t[oe],a,o,e.value,r,i,s)}function KU(e,t,r,i,s,o){const a=o[t];if(null!==a)for(let c=0;c<a.length;)cI(i,r,a[c++],a[c++],a[c++],a[c++])}function QU(e,t,r){let i=null,s=0;for(;s<r.length;){const o=r[s];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const a=e[o];for(let c=0;c<a.length;c+=3)if(a[c]===t){i.push(o,a[c+1],a[c+2],r[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function mI(e,t,r,i){return[e,!0,0,t,null,i,null,r,null,null]}function yI(e,t){const r=e.contentQueries;if(null!==r){const i=_e(null);try{for(let s=0;s<r.length;s+=2){const a=r[s+1];if(-1!==a){const c=e.data[a];_f(r[s]),c.contentQueries(2,t[a],a)}}}finally{_e(i)}}}function Yf(e,t){return e[nl]?e[FD][_r]=t:e[nl]=t,e[FD]=t,t}function Cv(e,t,r){_f(0);const i=_e(null);try{t(e,r)}finally{_e(i)}}function vI(e){return e[ca]??=[]}function _I(e){return e.cleanup??=[]}function wI(e,t,r){return(null===e||wr(e))&&(r=function ay(e){for(;Array.isArray(e);){if("object"==typeof e[ny])return e;e=e[ut]}return null}(r[t.index])),r[oe]}function Jf(e,t){const r=e[xt],i=r?r.get(nr,null):null;i&&i.handleError(t)}function Dv(e,t,r,i,s){for(let o=0;o<r.length;){const a=r[o++],c=r[o++],l=r[o++];cI(e.data[a],t[a],i,c,l,s)}}function YU(e,t){const r=jn(t,e),i=r[F];!function JU(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(i,r);const s=r[ut];null!==s&&null===r[pn]&&(r[pn]=qy(s,r[xt])),Sv(i,r,r[nt])}function Sv(e,t,r){yy(t);try{const i=e.viewQuery;null!==i&&Cv(1,i,r);const s=e.template;null!==s&&lI(e,t,s,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[Di]?.finishViewCreation(e),e.staticContentQueries&&yI(e,t),e.staticViewQueries&&Cv(2,e.viewQuery,r);const o=e.components;null!==o&&function XU(e,t){for(let r=0;r<t.length;r++)YU(e,t[r])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[ne]&=-5,vy()}}function uo(e,t){return!t||null===t.firstChild||gl(e)}function Il(e,t,r,i,s=!1){for(;null!==r;){if(128===r.type){r=s?r.projectionNext:r.next;continue}const o=t[r.index];null!==o&&i.push(Le(o)),nn(o)&&EI(o,i);const a=r.type;if(8&a)Il(e,t,r.child,i);else if(32&a){const c=sv(r,t);let l;for(;l=c();)i.push(l)}else if(16&a){const c=tI(t,r);if(Array.isArray(c))i.push(...c);else{const l=Si(t[dt]);Il(l[F],l,c,i,!0)}}r=s?r.projectionNext:r.next}return i}function EI(e,t){for(let r=wt;r<e.length;r++){const i=e[r],s=i[F].firstChild;null!==s&&Il(i[F],i,s,t)}e[Hr]!==e[ut]&&t.push(e[Hr])}let CI=[];const r4={...kd,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{mf(e.lView)},consumerOnSignalRead(){this.lView[Xn]=this}},s4={...kd,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Si(e.lView);for(;t&&!DI(t[F]);)t=Si(t);t&&QD(t)},consumerOnSignalRead(){this.lView[Xn]=this}};function DI(e){return 2!==e.type}const o4=100;function Xf(e,t=!0,r=0){const i=e[$r],s=i.rendererFactory;s.begin?.();try{!function a4(e,t){const r=rS();try{iS(!0),Iv(e,t);let i=0;for(;gf(e);){if(i===o4)throw new A(103,!1);i++,Iv(e,1)}}finally{iS(r)}}(e,r)}catch(a){throw t&&Jf(e,a),a}finally{s.end?.(),i.inlineEffectRunner?.flush()}}function c4(e,t,r,i){const s=t[ne];if(!(256&~s))return;t[$r].inlineEffectRunner?.flush(),yy(t);let c=!0,l=null,u=null;DI(e)?(u=function e4(e){return e[Xn]??function t4(e){const t=CI.pop()??Object.create(r4);return t.lView=e,t}(e)}(t),l=Pd(u)):null===function VC(){return Rt}()?(c=!1,u=function i4(e){const t=e[Xn]??Object.create(s4);return t.lView=e,t}(t),l=Pd(u)):t[Xn]&&(ym(t[Xn]),t[Xn]=null);try{KD(t),function sS(e){return ae.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&lI(e,t,r,2,i);const d=!(3&~s);if(d){const p=e.preOrderCheckHooks;null!==p&&Cf(t,p,null)}else{const p=e.preOrderHooks;null!==p&&Df(t,p,0,null),_y(t,0)}if(function l4(e){for(let t=YS(e);null!==t;t=JS(t)){if(!(t[ne]&hf.HasTransplantedViews))continue;const r=t[fa];for(let i=0;i<r.length;i++)QD(r[i])}}(t),TI(t,0),null!==e.contentQueries&&yI(e,t),d){const p=e.contentCheckHooks;null!==p&&Cf(t,p)}else{const p=e.contentHooks;null!==p&&Df(t,p,1),_y(t,1)}!function IU(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let i=0;i<r.length;i++){const s=r[i];if(s<0)to(~s);else{const o=s,a=r[++i],c=r[++i];aV(a,o),c(2,t[o])}}}finally{to(-1)}}(e,t);const f=e.components;null!==f&&xI(t,f,0);const h=e.viewQuery;if(null!==h&&Cv(2,h,i),d){const p=e.viewCheckHooks;null!==p&&Cf(t,p)}else{const p=e.viewHooks;null!==p&&Df(t,p,2),_y(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[df]){for(const p of t[df])p();t[df]=null}t[ne]&=-73}catch(d){throw mf(t),d}finally{null!==u&&(gm(u,l),c&&function n4(e){e.lView[Xn]!==e&&(e.lView=null,CI.push(e))}(u)),vy()}}function TI(e,t){for(let r=YS(e);null!==r;r=JS(r))for(let i=wt;i<r.length;i++)II(r[i],t)}function u4(e,t,r){II(jn(t,e),r)}function II(e,t){cy(e)&&Iv(e,t)}function Iv(e,t){const i=e[F],s=e[ne],o=e[Xn];let a=!!(0===t&&16&s);if(a||=!!(64&s&&0===t),a||=!!(1024&s),a||=!(!o?.dirty||!mm(o)),a||=!1,o&&(o.dirty=!1),e[ne]&=-9217,a)c4(i,e,i.template,e[nt]);else if(8192&s){TI(e,1);const c=i.components;null!==c&&xI(e,c,1)}}function xI(e,t,r){for(let i=0;i<t.length;i++)u4(e,t[i],r)}function xl(e,t){const r=rS()?64:1088;for(e[$r].changeDetectionScheduler?.notify(t);e;){e[ne]|=r;const i=Si(e);if(il(e)&&!i)return e;e=i}return null}class Al{get rootNodes(){const t=this._lView,r=t[F];return Il(r,t,r.firstChild,[])}constructor(t,r,i=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(t){this._lView[nt]=t}get destroyed(){return!(256&~this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[It];if(nn(t)){const r=t[8],i=r?r.indexOf(this):-1;i>-1&&(Dl(t,i),ef(r,i))}this._attachedToViewContainer=!1}Wf(this._lView[F],this._lView)}onDestroy(t){yf(this._lView,t)}markForCheck(){xl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){ly(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,Xf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=il(this._lView),r=this._lView[Ys];null!==r&&!t&&cv(r,this._lView),GT(this._lView[F],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t;const r=il(this._lView),i=this._lView[Ys];null!==i&&!r&&WT(i,this._lView),ly(this._lView)}}let Mi=(()=>{class e{static{this.__NG_ELEMENT_ID__=h4}}return e})();const d4=Mi,f4=class extends d4{constructor(t,r,i){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){const s=function Da(e,t,r,i){const s=_e(null);try{const o=t.tView,l=Qf(e,o,r,4096&e[ne]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[Ys]=e[t.index];const d=e[Di];return null!==d&&(l[Di]=d.createEmbeddedView(o)),Sv(o,l,r),l}finally{_e(s)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Al(s)}};function h4(){return eh(qe(),N())}function eh(e,t){return 4&e.type?new f4(t,e,ma(e,t)):null}class Ia{}const Fl=new q("",{providedIn:"root",factory:()=>!1}),QI=new q(""),Bv=new q("");class sj{}class YI{}class aj{resolveComponentFactory(t){throw function oj(e){const t=Error(`No component factory found for ${Ot(e)}.`);return t.ngComponent=e,t}(t)}}class Bl{static{this.NULL=new aj}}class oh{}let lj=(()=>{class e{static{this.\u0275prov=j({token:e,providedIn:"root",factory:()=>null})}}return e})();function ch(e,t,r){let i=r?e.styles:null,s=r?e.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?o=c:1==o?s=Am(s,c):2==o&&(i=Am(i,c+": "+t[++a]+";"))}r?e.styles=i:e.stylesWithoutHost=i,r?e.classes=s:e.classesWithoutHost=s}class t1 extends Bl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Ce(t);return new jl(r,this.ngModule)}}function n1(e,t){const r=[];for(const i in e){if(!e.hasOwnProperty(i))continue;const s=e[i];if(void 0===s)continue;const o=Array.isArray(s),a=o?s[0]:s;r.push(t?{propName:a,templateName:i,isSignal:!!((o?s[1]:ts.None)&ts.SignalBased)}:{propName:a,templateName:i})}return r}class jl extends YI{get inputs(){const t=this.componentDef,r=t.inputTransforms,i=n1(t.inputs,!0);if(null!==r)for(const s of i)r.hasOwnProperty(s.propName)&&(s.transform=r[s.propName]);return i}get outputs(){return n1(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function vB(e){return e.map(yB).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,i,s){const o=_e(null);try{let a=(s=s||this.ngModule)instanceof xn?s:s?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const c=a?new no(t,a):t,l=c.get(oh,null);if(null===l)throw new A(407,!1);const f={rendererFactory:l,sanitizer:c.get(lj,null),inlineEffectRunner:null,changeDetectionScheduler:c.get(Ia,null)},h=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?function AU(e,t,r,i){const o=i.get(vT,!1)||r===yr.ShadowDom,a=e.selectRootElement(t,o);return function MU(e){dI(e)}(a),a}(h,i,this.componentDef.encapsulation,c):Gf(h,p,function fj(e){const t=e.toLowerCase();return"svg"===t?WD:"math"===t?"math":null}(p));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;null!==g&&(y=qy(g,c,!0));const _=_v(0,null,null,1,0,null,null,null,null,null,null),v=Qf(null,_,null,m,null,null,f,h,c,null,y);yy(v);let w,b,D=null;try{const C=this.componentDef;let S,I=null;C.findHostDirectiveDefs?(S=[],I=new Map,C.findHostDirectiveDefs(C,S,I),S.push(C)):S=[C];const P=function pj(e,t){const r=e[F],i=Y;return e[i]=t,lo(r,i,2,"#host",null)}(v,g);D=function gj(e,t,r,i,s,o,a){const c=s[F];!function mj(e,t,r,i){for(const s of e)t.mergedAttrs=Xc(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(ch(t,t.mergedAttrs,!0),null!==r&&sI(i,r,t))}(i,e,t,a);let l=null;null!==t&&(l=qy(t,s[xt]));const u=o.rendererFactory.createRenderer(t,r);let d=16;r.signals?d=4096:r.onPush&&(d=64);const f=Qf(s,uI(r),null,d,s[e.index],e,o,u,null,null,l);return c.firstCreatePass&&bv(c,e,i.length-1),Yf(s,f),s[e.index]=f}(P,g,C,S,v,f,h),b=ol(_,Y),g&&function vj(e,t,r,i){if(i)qm(e,r,["ng-version","18.2.12"]);else{const{attrs:s,classes:o}=function _B(e){const t=[],r=[];let i=1,s=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===s?""!==o&&t.push(o,e[++i]):8===s&&r.push(o);else{if(!vr(s))break;s=o}i++}return{attrs:t,classes:r}}(t.selectors[0]);s&&qm(e,r,s),o&&o.length>0&&iI(e,r,o.join(" "))}}(h,C,g,i),void 0!==r&&function _j(e,t,r){const i=e.projection=[];for(let s=0;s<t.length;s++){const o=r[s];i.push(null!=o?Array.from(o):null)}}(b,this.ngContentSelectors,r),w=function yj(e,t,r,i,s,o){const a=qe(),c=s[F],l=gn(a,s);pI(c,s,a,r,null,i);for(let d=0;d<r.length;d++)on(ro(s,c,a.directiveStart+d,a),s);gI(c,s,a),l&&on(l,s);const u=ro(s,c,a.directiveStart+a.componentOffset,a);if(e[nt]=s[nt]=u,null!==o)for(const d of o)d(u,t);return mv(c,a,s),u}(D,C,S,I,v,[wj]),Sv(_,v,null)}catch(C){throw null!==D&&Ly(D),Ly(v),C}finally{vy()}return new hj(this.componentType,w,ma(b,v),v,b)}finally{_e(o)}}}class hj extends sj{constructor(t,r,i,s,o){super(),this.location=i,this._rootLView=s,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Al(s,void 0,!1),this.componentType=t}setInput(t,r){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const o=this._rootLView;Dv(o[F],o,s,t,r),this.previousInputValues.set(t,r),xl(jn(this._tNode.index,o),1)}}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function wj(){const e=qe();Ef(N()[F],e)}let rr=(()=>{class e{static{this.__NG_ELEMENT_ID__=bj}}return e})();function bj(){return s1(qe(),N())}const Ej=rr,r1=class extends Ej{constructor(t,r,i){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=i}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){const t=If(this._hostTNode,this._hostLView);if(Ey(t)){const r=dl(t,this._hostLView),i=ul(t);return new Bt(r[F].data[i+8],r)}return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=i1(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(t,r,i){let s,o;"number"==typeof i?s=i:null!=i&&(s=i.index,o=i.injector);const c=t.createEmbeddedViewImpl(r||{},o,null);return this.insertImpl(c,s,uo(this._hostTNode,null)),c}createComponent(t,r,i,s,o){const a=t&&!function tl(e){return"function"==typeof e}(t);let c;if(a)c=r;else{const g=r||{};c=g.index,i=g.injector,s=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=a?t:new jl(Ce(t)),u=i||this.parentInjector;if(!o&&null==l.ngModule){const m=(a?u:this.parentInjector).get(xn,null);m&&(o=m)}Ce(l.componentType??{});const p=l.create(u,s,null,o);return this.insertImpl(p.hostView,c,uo(this._hostTNode,null)),p}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,i){const s=t._lView;if(function YB(e){return nn(e[It])}(s)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=s[It],u=new r1(l,l[Kt],l[It]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(r),a=this._lContainer;return function Sa(e,t,r,i=!0){const s=t[F];if(function _U(e,t,r,i){const s=wt+i,o=r.length;i>0&&(r[s-1][_r]=t),i<o-wt?(t[_r]=r[s],vD(r,wt+i,t)):(r.push(t),t[_r]=null),t[It]=r;const a=t[Ys];null!==a&&r!==a&&WT(a,t);const c=t[Di];null!==c&&c.insertView(e),ly(t),t[ne]|=128}(s,t,e,r),i){const a=hv(r,e),c=t[oe],l=dv(c,e[Hr]);null!==l&&function yU(e,t,r,i,s,o){i[ut]=s,i[Kt]=t,Kf(e,i,r,1,s,o)}(s,e[Kt],c,t,l,a)}const o=t[pn];null!==o&&null!==o.firstChild&&(o.firstChild=null)}(a,s,o,i),t.attachToViewContainerRef(),vD(jv(a),o,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=i1(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),i=Dl(this._lContainer,r);i&&(ef(jv(this._lContainer),r),Wf(i[F],i))}detach(t){const r=this._adjustIndex(t,-1),i=Dl(this._lContainer,r);return i&&null!=ef(jv(this._lContainer),r)?new Al(i):null}_adjustIndex(t,r=0){return t??this.length+r}};function i1(e){return e[8]}function jv(e){return e[8]||(e[8]=[])}function s1(e,t){let r;const i=t[e.index];return nn(i)?r=i:(r=mI(i,t,null,e),t[e.index]=r,Yf(t,r)),o1(r,t,e,i),new r1(r,e,t)}let o1=function c1(e,t,r,i){if(e[Hr])return;let s;s=8&r.type?Le(i):function Cj(e,t){const r=e[oe],i=r.createComment(""),s=gn(t,e);return ao(r,dv(r,s),i,function EU(e,t){return e.nextSibling(t)}(r,s),!1),i}(t,r),e[Hr]=s},$v=()=>!1;class Hv{constructor(t){this.queryList=t,this.matches=null}clone(){return new Hv(this.queryList)}setDirty(){this.queryList.setDirty()}}class zv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const i=null!==t.contentQueries?t.contentQueries[0]:r.length,s=[];for(let o=0;o<i;o++){const a=r.getByIndex(o);s.push(this.queries[a.indexInDeclarationView].clone())}return new zv(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Kv(t,r).matches&&this.queries[r].setDirty()}}class l1{constructor(t,r,i=null){this.flags=r,this.read=i,this.predicate="string"==typeof t?function Nj(e){return e.split(",").map(t=>t.trim())}(t):t}}class qv{constructor(t=[]){this.queries=t}elementStart(t,r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let i=0;i<this.length;i++){const s=null!==r?r.length:0,o=this.getByIndex(i).embeddedTView(t,s);o&&(o.indexInDeclarationView=i,null!==r?r.push(o):r=[o])}return null!==r?new qv(r):null}template(t,r){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Gv{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Gv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];this.matchTNodeWithReadOption(t,r,Ij(r,o)),this.matchTNodeWithReadOption(t,r,xf(r,t,o,!1,!1))}else i===Mi?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,xf(r,t,i,!1,!1))}matchTNodeWithReadOption(t,r,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===$n||s===rr||s===Mi&&4&r.type)this.addMatch(r.index,-2);else{const o=xf(r,t,s,!1,!1);null!==o&&this.addMatch(r.index,o)}else this.addMatch(r.index,i)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function Ij(e,t){const r=e.localNames;if(null!==r)for(let i=0;i<r.length;i+=2)if(r[i]===t)return r[i+1];return null}function Aj(e,t,r,i){return-1===r?function xj(e,t){return 11&e.type?ma(e,t):4&e.type?eh(e,t):null}(t,e):-2===r?function Mj(e,t,r){return r===$n?ma(t,e):r===Mi?eh(t,e):r===rr?s1(t,e):void 0}(e,t,i):ro(e,e[F],r,t)}function u1(e,t,r,i){const s=t[Di].queries[i];if(null===s.matches){const o=e.data,a=r.matches,c=[];for(let l=0;null!==a&&l<a.length;l+=2){const u=a[l];c.push(u<0?null:Aj(t,o[u],a[l+1],r.metadata.read))}s.matches=c}return s.matches}function Wv(e,t,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=u1(e,t,s,r);for(let c=0;c<o.length;c+=2){const l=o[c];if(l>0)i.push(a[c/2]);else{const u=o[c+1],d=t[-l];for(let f=wt;f<d.length;f++){const h=d[f];h[Ys]===h[It]&&Wv(h[F],h,u,i)}if(null!==d[fa]){const f=d[fa];for(let h=0;h<f.length;h++){const p=f[h];Wv(p[F],p,u,i)}}}}}return i}function f1(e,t,r){const i=we();return i.firstCreatePass&&(function p1(e,t,r){null===e.queries&&(e.queries=new qv),e.queries.track(new Gv(t,r))}(i,new l1(e,t,r),-1),!(2&~t)&&(i.staticViewQueries=!0)),function d1(e,t,r){const i=new Oy(!(4&~r));return function OU(e,t,r,i){const s=vI(t);s.push(r),e.firstCreatePass&&_I(e).push(i,s.length-1)}(e,t,i,i.destroy),(t[Di]??=new zv).queries.push(new Hv(i))-1}(i,N(),t)}function Kv(e,t){return e.queries.getByIndex(t)}function g1(e,t){const r=e[F],i=Kv(r,t);return i.crossesNgTemplate?Wv(r,e,t,[]):u1(r,e,i,t)}const m1=new Set;function yn(e){m1.has(e)||(m1.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Kr(e,t){yn("NgSignals");const r=function w3(e){const t=Object.create(E3);t.value=e;const r=()=>(pm(t),t.value);return r[mr]=t,r}(e),i=r[mr];return t?.equal&&(i.equal=t.equal),r.set=s=>KC(i,s),r.update=s=>function b3(e,t){$C()||ZC(),KC(e,t(e.value))}(i,s),r.asReadonly=v1.bind(r),r}function v1(){const e=this[mr];if(void 0===e.readonlyFn){const t=()=>this();t[mr]=e,e.readonlyFn=t}return e.readonlyFn}function He(e){let t=function M1(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const i=[e];for(;t;){let s;if(wr(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);s=t.\u0275dir}if(s){if(r){i.push(s);const a=e;a.inputs=uh(e.inputs),a.inputTransforms=uh(e.inputTransforms),a.declaredInputs=uh(e.declaredInputs),a.outputs=uh(e.outputs);const c=s.hostBindings;c&&Gj(e,c);const l=s.viewQuery,u=s.contentQueries;if(l&&zj(e,l),u&&qj(e,u),$j(e,s),B3(e.outputs,s.outputs),wr(s)&&s.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const o=s.features;if(o)for(let a=0;a<o.length;a++){const c=o[a];c&&c.ngInherit&&c(e),c===He&&(r=!1)}}t=Object.getPrototypeOf(t)}!function Hj(e){let t=0,r=null;for(let i=e.length-1;i>=0;i--){const s=e[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Xc(s.hostAttrs,r=Xc(r,s.hostAttrs))}}(i)}function $j(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const i=t.inputs[r];if(void 0!==i&&(e.inputs[r]=i,e.declaredInputs[r]=t.declaredInputs[r],null!==t.inputTransforms)){const s=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(s))continue;e.inputTransforms??={},e.inputTransforms[s]=t.inputTransforms[s]}}}function uh(e){return e===Ur?{}:e===Pe?[]:e}function zj(e,t){const r=e.viewQuery;e.viewQuery=r?(i,s)=>{t(i,s),r(i,s)}:t}function qj(e,t){const r=e.contentQueries;e.contentQueries=r?(i,s,o)=>{t(i,s,o),r(i,s,o)}:t}function Gj(e,t){const r=e.hostBindings;e.hostBindings=r?(i,s)=>{t(i,s),r(i,s)}:t}class po{}class L1{}class Jv extends po{constructor(t,r,i,s=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new t1(this);const o=tn(t);this._bootstrapComponents=qn(o.bootstrap),this._r3Injector=RS(t,r,[{provide:po,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver},...i],Ot(t),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xv extends L1{constructor(t){super(),this.moduleType=t}create(t){return new Jv(this.moduleType,t,[])}}class F1 extends po{constructor(t){super(),this.componentFactoryResolver=new t1(this),this.instance=null;const r=new sa([...t.providers,{provide:po,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver}],t.parent||lf(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function dh(e,t,r=null){return new F1({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function fh(e){return!!function e0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function bt(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function zl(e,t,r,i,s,o,a,c,l,u){const d=r+Y,f=t.firstCreatePass?function i6(e,t,r,i,s,o,a,c,l){const u=t.consts,d=lo(t,e,4,a||null,c||null);wv(t,r,d,tr(u,l)),Ef(t,d);const f=d.tView=_v(2,d,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}(d,t,e,i,s,o,a,c,l):t.data[d];br(f,!1);const h=B1(t,e,f,r);cl()&&Zf(t,e,h,f),on(h,e);const p=mI(h,e,h,f);return e[d]=p,Yf(e,p),function a1(e,t,r){return $v(e,t,r)}(p,f,e),pf(f)&&yv(t,e,f),null!=l&&vv(e,f,u),f}function sr(e,t,r,i,s,o,a,c){const l=N(),u=we();return zl(l,u,e,t,r,i,s,tr(u.consts,o),a,c),sr}let B1=function V1(e,t,r,i){return qr(!0),t[oe].createComment("")};var Na=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Na||{});let q1=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Wl{constructor(){this.ngZone=O(Re),this.scheduler=O(Ia),this.errorHandler=O(nr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Na.EarlyRead,Na.Write,Na.MixedReadWrite,Na.Read]}execute(){this.executing=!0;for(const t of Wl.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[t])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[t](r.pipelinedValue))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=j({token:Wl,providedIn:"root",factory:()=>new Wl})}}class c6{constructor(t,r,i,s){this.impl=t,this.hooks=r,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function yh(e,t){!t?.injector&&function ey(e){if(!PD())throw new A(-203,!1)}();const r=t?.injector??O(At);return function Gn(e){return"browser"===(e??O(At)).get(os)}(r)?(yn("NgAfterNextRender"),function G1(e,t,r,i){const s=t.get(q1);s.impl??=t.get(Wl);const o=r?.phase??Na.MixedReadWrite,a=!0!==r?.manualCleanup?t.get(hl):null,c=new c6(s.impl,function u6(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,o),i,a);return s.impl.register(c),c}(e,r,t,!0)):W1}const W1={destroy(){}};function an(e,t,r,i){const s=N();return bt(s,Er(),t)&&(we(),Zr(rt(),s,e,t,r,i)),an}function wh(e,t){return e<<17|t<<2}function ds(e){return e>>17&32767}function f0(e){return 2|e}function yo(e){return(131068&e)>>2}function h0(e,t){return-131069&e|t<<2}function p0(e){return 1|e}function _x(e,t,r,i){const s=e[r+1],o=null===t;let a=i?ds(s):yo(s),c=!1;for(;0!==a&&(!1===c||o);){const u=e[a+1];G6(e[a],t)&&(c=!0,e[a+1]=i?p0(u):f0(u)),a=i?ds(u):yo(u)}c&&(e[r+1]=i?f0(s):p0(s))}function G6(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ia(e,t)>=0}const Vt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wx(e){return e.substring(Vt.key,Vt.keyEnd)}function bx(e,t){const r=Vt.textEnd;return r===t?-1:(t=Vt.keyEnd=function Q6(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,Vt.key=t,r),Ga(e,t,r))}function Ga(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function Ge(e,t,r){const i=N();return bt(i,Er(),t)&&Mn(we(),rt(),i,e,t,i[oe],r,!1),Ge}function g0(e,t,r,i,s){const a=s?"class":"style";Dv(e,r,t.inputs[a],a,i)}function vo(e,t,r){return Cr(e,t,r,!1),vo}function Kl(e,t){return Cr(e,t,null,!0),Kl}function Ri(e){!function Dr(e,t,r,i){const s=we(),o=Ii(2);s.firstUpdatePass&&Ix(s,null,o,i);const a=N();if(r!==ge&&bt(a,o,r)){const c=s.data[Qt()];if(Nx(c,i)&&!Tx(s,o)){let l=i?c.classesWithoutHost:c.stylesWithoutHost;null!==l&&(r=Am(l,r||"")),g0(s,c,a,r,i)}else!function o$(e,t,r,i,s,o,a,c){s===ge&&(s=Pe);let l=0,u=0,d=0<s.length?s[0]:null,f=0<o.length?o[0]:null;for(;null!==d||null!==f;){const h=l<s.length?s[l+1]:void 0,p=u<o.length?o[u+1]:void 0;let m,g=null;d===f?(l+=2,u+=2,h!==p&&(g=f,m=p)):null===f||null!==d&&d<f?(l+=2,g=d):(u+=2,g=f,m=p),null!==g&&Ax(e,t,r,i,g,m,a,c),d=l<s.length?s[l]:null,f=u<o.length?o[u]:null}}(s,c,a,a[oe],a[o+1],a[o+1]=function i$(e,t,r){if(null==r||""===r)return Pe;const i=[],s=Hn(r);if(Array.isArray(s))for(let o=0;o<s.length;o++)e(i,s[o],!0);else if("object"==typeof s)for(const o in s)s.hasOwnProperty(o)&&e(i,o,s[o]);else"string"==typeof s&&t(i,s);return i}(e,t,r),i,o)}}(s$,Jr,e,!0)}function Jr(e,t){for(let r=function Z6(e){return function Cx(e){Vt.key=0,Vt.keyEnd=0,Vt.value=0,Vt.valueEnd=0,Vt.textEnd=e.length}(e),bx(e,Ga(e,0,Vt.textEnd))}(t);r>=0;r=bx(t,r))Un(e,wx(t),!0)}function Cr(e,t,r,i){const s=N(),o=we(),a=Ii(2);o.firstUpdatePass&&Ix(o,e,a,i),t!==ge&&bt(s,a,t)&&Ax(o,o.data[Qt()],s,s[oe],e,s[a+1]=function a$(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ot(Hn(e)))),e}(t,r),i,a)}function Tx(e,t){return t>=e.expandoStartIndex}function Ix(e,t,r,i){const s=e.data;if(null===s[r+1]){const o=s[Qt()],a=Tx(e,r);Nx(o,i)&&null===t&&!a&&(t=!1),t=function e$(e,t,r,i){const s=gy(e);let o=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(r=Ql(r=m0(null,e,t,r,i),t.attrs,i),o=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==s)if(r=m0(s,e,t,r,i),null===o){let l=function t$(e,t,r){const i=r?t.classBindings:t.styleBindings;if(0!==yo(i))return e[ds(i)]}(e,t,i);void 0!==l&&Array.isArray(l)&&(l=m0(null,e,t,l[1],i),l=Ql(l,t.attrs,i),function n$(e,t,r,i){e[ds(r?t.classBindings:t.styleBindings)]=i}(e,t,i,l))}else o=function r$(e,t,r){let i;const s=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<s;o++)i=Ql(i,e[o].hostAttrs,r);return Ql(i,t.attrs,r)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),r}(s,o,t,i),function z6(e,t,r,i,s,o){let a=o?t.classBindings:t.styleBindings,c=ds(a),l=yo(a);e[i]=r;let d,u=!1;if(Array.isArray(r)?(d=r[1],(null===d||ia(r,d)>0)&&(u=!0)):d=r,s)if(0!==l){const h=ds(e[c+1]);e[i+1]=wh(h,c),0!==h&&(e[h+1]=h0(e[h+1],i)),e[c+1]=function $6(e,t){return 131071&e|t<<17}(e[c+1],i)}else e[i+1]=wh(c,0),0!==c&&(e[c+1]=h0(e[c+1],i)),c=i;else e[i+1]=wh(l,0),0===c?c=i:e[l+1]=h0(e[l+1],i),l=i;u&&(e[i+1]=f0(e[i+1])),_x(e,d,i,!0),_x(e,d,i,!1),function q6(e,t,r,i,s){const o=s?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&ia(o,t)>=0&&(r[i+1]=p0(r[i+1]))}(t,d,e,i,o),a=wh(c,l),o?t.classBindings=a:t.styleBindings=a}(s,o,t,r,a,i)}}function m0(e,t,r,i,s){let o=null;const a=r.directiveEnd;let c=r.directiveStylingLast;for(-1===c?c=r.directiveStart:c++;c<a&&(o=t[c],i=Ql(i,o.hostAttrs,s),o!==e);)c++;return null!==e&&(r.directiveStylingLast=c),i}function Ql(e,t,r){const i=r?1:2;let s=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:s===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Un(e,a,!!r||t[++o]))}return void 0===e?null:e}function s$(e,t,r){const i=String(t);""!==i&&!i.includes(" ")&&Un(e,i,r)}function Ax(e,t,r,i,s,o,a,c){if(!(3&t.type))return;const l=e.data,u=l[c+1],d=function H6(e){return!(1&~e)}(u)?Mx(l,t,r,s,yo(u),a):void 0;bh(d)||(bh(o)||function j6(e){return!(2&~e)}(u)&&(o=Mx(l,null,r,s,c,a)),function SU(e,t,r,i,s){if(t)s?e.addClass(r,i):e.removeClass(r,i);else{let o=-1===i.indexOf("-")?void 0:as.DashCase;null==s?e.removeStyle(r,i,o):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),o|=as.Important),e.setStyle(r,i,s,o))}}(i,a,sl(Qt(),r),s,o))}function Mx(e,t,r,i,s,o){const a=null===t;let c;for(;s>0;){const l=e[s],u=Array.isArray(l),d=u?l[1]:l,f=null===d;let h=r[s+1];h===ge&&(h=f?Pe:void 0);let p=f?Hm(h,i):d===i?h:void 0;if(u&&!bh(p)&&(p=Hm(l,i)),bh(p)&&(c=p,a))return c;const g=e[s+1];s=a?ds(g):yo(g)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(c=Hm(l,i))}return c}function bh(e){return void 0!==e}function Nx(e,t){return!!(e.flags&(t?8:16))}function fe(e,t,r,i){const s=N(),o=we(),a=Y+e,c=s[oe],l=o.firstCreatePass?function M$(e,t,r,i,s,o){const a=t.consts,l=lo(t,e,2,i,tr(a,s));return wv(t,r,l,tr(a,o)),null!==l.attrs&&ch(l,l.attrs,!1),null!==l.mergedAttrs&&ch(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(a,o,s,t,r,i):o.data[a],u=Px(o,s,l,c,t,e);s[a]=u;const d=pf(l);return br(l,!0),sI(c,u,l),!function Aa(e){return!(32&~e.flags)}(l)&&cl()&&Zf(o,s,u,l),0===function JB(){return ae.lFrame.elementDepthCount}()&&on(u,s),function XB(){ae.lFrame.elementDepthCount++}(),d&&(yv(o,s,l),mv(o,l,s)),null!==i&&vv(s,l),fe}function ye(){let e=qe();fy()?hy():(e=e.parent,br(e,!1));const t=e;(function tV(e){return ae.skipHydrationRootTNode===e})(t)&&function sV(){ae.skipHydrationRootTNode=null}(),function eV(){ae.lFrame.elementDepthCount--}();const r=we();return r.firstCreatePass&&(Ef(r,e),ry(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function yV(e){return!!(8&e.flags)}(t)&&g0(r,t,N(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vV(e){return!!(16&e.flags)}(t)&&g0(r,t,N(),t.stylesWithoutHost,!1),ye}function or(e,t,r,i){return fe(e,t,r,i),ye(),or}let Px=(e,t,r,i,s,o)=>(qr(!0),Gf(i,s,function fS(){return ae.lFrame.currentNamespace}()));function Wa(e,t,r){const i=N(),s=we(),o=e+Y,a=s.firstCreatePass?function O$(e,t,r,i,s){const o=t.consts,a=tr(o,i),c=lo(t,e,8,"ng-container",a);return null!==a&&ch(c,a,!0),wv(t,r,c,tr(o,s)),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,t,r):s.data[o];br(a,!0);const c=Fx(s,i,a,e);return i[o]=c,cl()&&Zf(s,i,c,a),on(c,i),pf(a)&&(yv(s,i,a),mv(s,a,i)),null!=r&&vv(i,a),Wa}function Za(){let e=qe();const t=we();return fy()?hy():(e=e.parent,br(e,!1)),t.firstCreatePass&&(Ef(t,e),ry(e)&&t.queries.elementEnd(e)),Za}let Fx=(e,t,r,i)=>(qr(!0),av(t[oe],""));function Xr(){return N()}function w0(e,t,r){const i=N();if(bt(i,Er(),t)){const o=we(),a=rt();Mn(o,a,i,e,t,wI(gy(o.data),a,i),r,!0)}return w0}const Ch="en-US";let jx=Ch,sA=(e,t,r)=>{};function Be(e,t,r,i){const s=N(),o=we(),a=qe();return function C0(e,t,r,i,s,o,a){const c=pf(i),u=e.firstCreatePass&&_I(e),d=t[nt],f=vI(t);let h=!0;if(3&i.type||a){const m=gn(i,t),y=a?a(m):m,_=f.length,v=a?b=>a(Le(b[i.index])):i.index;let w=null;if(!a&&c&&(w=function T5(e,t,r,i){const s=e.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const a=s[o];if(a===r&&s[o+1]===i){const c=t[ca],l=s[o+2];return c.length>l?c[l]:null}"string"==typeof a&&(o+=2)}return null}(e,t,s,i.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,h=!1;else{o=lA(i,t,d,o),sA(m,s,o);const b=r.listen(y,s,o);f.push(o,b),u&&u.push(s,v,_,_+1)}}else o=lA(i,t,d,o);const p=i.outputs;let g;if(h&&null!==p&&(g=p[s])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const D=t[g[y]][g[y+1]].subscribe(o),C=f.length;f.push(o,D),u&&u.push(s,i.index,C,-(C+1))}}}(o,s,s[oe],a,e,t,i),Be}function cA(e,t,r,i){const s=_e(null);try{return zr(6,t,r),!1!==r(i)}catch(o){return Jf(e,o),!1}finally{zr(7,t,r),_e(s)}}function lA(e,t,r,i){return function s(o){if(o===Function)return i;xl(e.componentOffset>-1?jn(e.index,t):t,5);let c=cA(t,r,i,o),l=s.__ngNextListenerFn__;for(;l;)c=cA(t,r,l,o)&&c,l=l.__ngNextListenerFn__;return c}}function Dt(e=1){return function uV(e){return(ae.lFrame.contextLView=function YD(e,t){for(;e>0;)t=t[la],e--;return t}(e,ae.lFrame.contextLView))[nt]}(e)}function Ih(e,t,r){f1(e,t,r)}function nu(e){const t=N(),r=we(),i=my();_f(i+1);const s=Kv(r,i);if(e.dirty&&function QB(e){return!(4&~e[ne])}(t)===!(2&~s.metadata.flags)){if(null===s.matches)e.reset([]);else{const o=g1(t,i);e.reset(o,jS),e.notifyOnChanges()}return!0}return!1}function ru(){return function Zv(e,t){return e[Di].queries[t].queryList}(N(),my())}function Qa(e){return Xs(function tS(){return ae.lFrame.contextLView}(),Y+e)}function Ve(e,t=""){const r=N(),i=we(),s=e+Y,o=i.firstCreatePass?lo(i,s,1,t,null):i.data[s],a=AA(i,r,o,t,e);r[s]=a,cl()&&Zf(i,r,a,o),br(o,!1)}let AA=(e,t,r,i,s)=>(qr(!0),function ov(e,t){return e.createText(t)}(t[oe],i));function iu(e){return ei("",e,""),iu}function ei(e,t,r){const i=N(),s=function Ba(e,t,r,i){return bt(e,Er(),r)?t+pe(r)+i:ge}(i,e,t,r);return s!==ge&&function Ai(e,t,r){const i=sl(t,e);!function qT(e,t,r){e.setValue(t,r)}(e[oe],i,r)}(i,Qt(),s),ei}function T0(e,t,r,i,s){if(e=ie(e),Array.isArray(e))for(let o=0;o<e.length;o++)T0(e[o],t,r,i,s);else{const o=we(),a=N(),c=qe();let l=Qs(e)?e:ie(e.provide);const u=kD(e),d=1048575&c.providerIndexes,f=c.directiveStart,h=c.providerIndexes>>20;if(Qs(e)||!e.multi){const p=new ll(u,s,k),g=x0(l,t,s?d:d+h,f);-1===g?(Sy(Tf(c,a),o,l),I0(o,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),r.push(p),a.push(p)):(r[g]=p,a[g]=p)}else{const p=x0(l,t,d+h,f),g=x0(l,t,d,d+h),y=g>=0&&r[g];if(s&&!y||!s&&!(p>=0&&r[p])){Sy(Tf(c,a),o,l);const _=function Y5(e,t,r,i,s){const o=new ll(e,r,k);return o.multi=[],o.index=t,o.componentProviders=0,$A(o,s,i&&!r),o}(s?Q5:K5,r.length,s,i,u);!s&&y&&(r[g].providerFactory=_),I0(o,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),r.push(_),a.push(_)}else I0(o,e,p>-1?p:g,$A(r[s?g:p],u,!s&&i));!s&&i&&y&&r[g].componentProviders++}}}function I0(e,t,r,i){const s=Qs(t),o=function TB(e){return!!e.useClass}(t);if(s||o){const l=(o?ie(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const d=u.indexOf(r);-1===d?u.push(r,[i,l]):u[d+1].push(i,l)}else u.push(r,l)}}}function $A(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function x0(e,t,r,i){for(let s=r;s<i;s++)if(t[s]===e)return s;return-1}function K5(e,t,r,i){return A0(this.multi,[])}function Q5(e,t,r,i){const s=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=ro(r,r[F],this.providerFactory.index,i);o=c.slice(0,a),A0(s,o);for(let l=a;l<c.length;l++)o.push(c[l])}else o=[],A0(s,o);return o}function A0(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function ht(e,t=[]){return r=>{r.providersResolver=(i,s)=>function Z5(e,t,r){const i=we();if(i.firstCreatePass){const s=wr(e);T0(r,i.data,i.blueprint,s,!0),T0(t,i.data,i.blueprint,s,!1)}}(i,s?s(e):e,t)}}let J5=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=Wm(0,r.type),s=i.length>0?dh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(z(xn))})}}return e})();function xh(e){yn("NgStandalone"),e.getStandaloneInjector=t=>t.get(J5).getOrCreateStandaloneInjector(e)}function qA(e,t,r,i,s,o){const a=t+r;return bt(e,a,s)?function Qr(e,t,r){return e[t]=r}(e,a+1,o?i.call(o,s):i(s)):function su(e,t){const r=e[t];return r===ge?void 0:r}(e,a+1)}function YA(e,t,r){const i=e+Y,s=N(),o=Xs(s,i);return function ou(e,t){return e[F].data[t].pure}(s,i)?qA(s,function mn(){const e=ae.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,o.transform,r,o):o.transform(r)}function JA(e,t){return eh(e,t)}let pM=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const _M=new q(""),Oh=new q("");let F0,P0=(()=>{class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,F0||(function lz(e){F0=e}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}static{this.\u0275fac=function(i){return new(i||e)(z(Re),z(L0),z(Oh))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),L0=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return F0?.findTestabilityInTree(this,r,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function uu(e){return!!e&&"function"==typeof e.then}function wM(e){return!!e&&"function"==typeof e.subscribe}const B0=new q("");let bM=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(B0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(uu(o))r.push(o);else if(wM(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const kh=new q("");function CM(e,t){return Array.isArray(t)?t.reduce(CM,e):{...e,...t}}let ar=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(GV),this.afterRenderManager=O(q1),this.zonelessEnabled=O(Fl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new et,this.afterTick=new et,this.componentTypes=[],this.components=[],this.isStable=O(io).hasPendingTasks.pipe($e(r=>!r)),this._injector=O(xn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof YI;if(!this._injector.get(bM).done)throw!s&&function rs(e){const t=Ce(e)||Pt(e)||Zt(e);return null!==t&&t.standalone}(r),new A(405,!1);let a;a=s?r:this._injector.get(Bl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function uz(e){return e.isBoundToModule}(a)?void 0:this._injector.get(po),u=a.create(At.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(_M,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ph(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new A(101,!1);const r=_e(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,_e(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(oh,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)hz(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>gf(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Ph(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(kh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ph(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ph(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function hz(e,t,r,i){(r||gf(e))&&Xf(e,t,r&&!i?0:1)}class pz{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let SM=(()=>{class e{compileModuleSync(r){return new Xv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=qn(tn(r).declarations).reduce((a,c)=>{const l=Ce(c);return l&&a.push(new jl(l)),a},[]);return new pz(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yz=(()=>{class e{constructor(){this.zone=O(Re),this.changeDetectionScheduler=O(Ia),this.applicationRef=O(ar)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function V0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new Re({...U0(),scheduleInRootZone:r}),[{provide:Re,useFactory:e},{provide:jr,multi:!0,useFactory:()=>{const i=O(yz,{optional:!0});return()=>i.initialize()}},{provide:jr,multi:!0,useFactory:()=>{const i=O(_z);return()=>{i.initialize()}}},!0===t?{provide:QI,useValue:!0}:[],{provide:Bv,useValue:r??kS}]}function U0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let _z=(()=>{class e{constructor(){this.subscription=new _t,this.initialized=!1,this.zone=O(Re),this.pendingTasks=O(io)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),du=(()=>{class e{constructor(){this.appRef=O(ar),this.taskService=O(io),this.ngZone=O(Re),this.zonelessEnabled=O(Fl),this.disableScheduling=O(QI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new _t,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(Bv,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ry||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?LS:PS;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,LS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const fs=new q("",{providedIn:"root",factory:()=>O(fs,Te.Optional|Te.SkipSelf)||function wz(){return typeof $localize<"u"&&$localize.locale||Ch}()}),Fh=new q("");function Bh(e){return!e.moduleRef}let NM=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=i?.scheduleInRootZone,a=i?.ignoreChangesOutsideZone,c=[V0({ngZoneFactory:()=>function qV(e="zone.js",t){return"noop"===e?new Ry:"zone.js"===e?new Re(t):e}(i?.ngZone,{...U0({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}),scheduleInRootZone:s}),ignoreChangesOutsideZone:a}),{provide:Ia,useExisting:du}],l=function Xj(e,t,r){return new Jv(e,t,r,!1)}(r.moduleType,this.injector,c);return function MM(e){const t=Bh(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Re);return r.run(()=>{Bh(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const i=t.get(nr,null);let s;if(r.runOutsideAngular(()=>{s=r.onError.subscribe({next:o=>{i.handleError(o)}})}),Bh(e)){const o=()=>t.destroy(),a=e.platformInjector.get(Fh);a.add(o),t.onDestroy(()=>{s.unsubscribe(),a.delete(o)})}else{const o=()=>e.moduleRef.destroy(),a=e.platformInjector.get(Fh);a.add(o),e.moduleRef.onDestroy(()=>{Ph(e.allPlatformModules,e.moduleRef),s.unsubscribe(),a.delete(o)})}return function fz(e,t,r){try{const i=r();return uu(i)?i.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(i,r,()=>{const o=t.get(bM);return o.runInitializers(),o.donePromise.then(()=>{if(function $$(e){"string"==typeof e&&(jx=e.toLowerCase().replace(/_/g,"-"))}(t.get(fs,Ch)||Ch),Bh(e)){const c=t.get(ar);return void 0!==e.rootComponent&&c.bootstrap(e.rootComponent),c}return function Tz(e,t){const r=e.injector.get(ar);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new A(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,i=[]){const s=CM({},i);return function mz(e,t,r){const i=new Xv(r);return Promise.resolve(i)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Fh,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(z(At))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),hs=null;const RM=new q("");function OM(e,t,r=[]){const i=`Platform: ${t}`,s=new q(i);return(o=[])=>{let a=$0();if(!a||a.injector.get(RM,!1)){const c=[...r,...o,{provide:s,useValue:!0}];e?e(c):function Iz(e){if(hs&&!hs.get(RM,!1))throw new A(400,!1);(function EM(){!function _3(e){WC=e}(()=>{throw new A(600,!1)})})(),hs=e;const t=e.get(NM);(function PM(e){e.get(aT,null)?.forEach(r=>r())})(e)}(function kM(e=[],t){return At.create({name:t,providers:[{provide:Qm,useValue:"platform"},{provide:Fh,useValue:new Set([()=>hs=null])},...e]})}(c,i))}return function xz(){const t=$0();if(!t)throw new A(401,!1);return t}()}}function $0(){return hs?.get(NM)??null}let fu=(()=>{class e{static{this.__NG_ELEMENT_ID__=Mz}}return e})();function Mz(e){return function Nz(e,t,r){if(Js(e)&&!r){const i=jn(e.index,t);return new Al(i,i)}return 175&e.type?new Al(t[dt],t):null}(qe(),N(),!(16&~e))}class UM{constructor(){}supports(t){return fh(t)}create(t){return new Lz(t)}}const Pz=(e,t)=>t;class Lz{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Pz}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,i=this._removalsHead,s=0,o=null;for(;r||i;){const a=!i||r&&r.currentIndex<$M(i,s,o)?r:i,c=$M(a,s,o),l=a.currentIndex;if(a===i)s--,i=i._nextRemoved;else if(r=r._next,null==a.previousIndex)s++;else{o||(o=[]);const u=c-s,d=l-s;if(u!=d){for(let h=0;h<u;h++){const p=h<o.length?o[h]:o[h]=0,g=p+h;d<=g&&g<u&&(o[h]=p+1)}o[a.previousIndex]=d-u}}c!==l&&t(a,c,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!fh(t))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,o,a,r=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],a=this._trackByFn(c,o),null!==r&&Object.is(r.trackById,a)?(i&&(r=this._verifyReinsertion(r,o,a,c)),Object.is(r.item,o)||this._addIdentityChange(r,o)):(r=this._mismatch(r,o,a,c),i=!0),r=r._next}else s=0,function n6(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let i;for(;!(i=r.next()).done;)t(i.value)}}(t,c=>{a=this._trackByFn(s,c),null!==r&&Object.is(r.trackById,a)?(i&&(r=this._verifyReinsertion(r,c,a,s)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,a,s),i=!0),r=r._next,s++}),this.length=s;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,i,s){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,o,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,o,s)):t=this._addAfter(new Fz(r,i),o,s),t}_verifyReinsertion(t,r,i,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,o=t._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(t,r,i),this._addToMoves(t,i),t}_moveAfter(t,r,i){return this._unlink(t),this._insertAfter(t,r,i),this._addToMoves(t,i),t}_addAfter(t,r,i){return this._insertAfter(t,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,i){const s=null===r?this._itHead:r._next;return t._next=s,t._prev=r,null===s?this._itTail=t:s._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new jM),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,i=t._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fz{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Bz{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const r=t._prevDup,i=t._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}class jM{constructor(){this.map=new Map}put(t){const r=t.trackById;let i=this.map.get(r);i||(i=new Bz,this.map.set(r,i)),i.add(t)}get(t,r){const s=this.map.get(t);return s?s.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $M(e,t,r){const i=e.previousIndex;if(null===i)return i;let s=0;return r&&i<r.length&&(s=r[i]),i+t+s}function zM(){return new W0([new UM])}let W0=(()=>{class e{static{this.\u0275prov=j({token:e,providedIn:"root",factory:zM})}constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||zM()),deps:[[e,new Xd,new Jd]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new A(901,!1)}}return e})();const Hz=OM(null,"core",[]);let zz=(()=>{class e{constructor(r){}static{this.\u0275fac=function(i){return new(i||e)(z(ar))}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({})}}return e})();function mu(e,t){yn("NgSignals");const r=function m3(e){const t=Object.create(y3);t.computation=e;const r=()=>{if(UC(t),pm(t),t.value===Bd)throw t.error;return t.value};return r[mr]=t,r}(e);return t?.equal&&(r[mr].equal=t.equal),r}function ti(e){const t=_e(null);try{return e()}finally{_e(t)}}let pN=null;function ps(){return pN}class A9{}const cn=new q("");let Q0=(()=>{class e{historyGo(r){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:()=>O(N9),providedIn:"platform"})}}return e})();const M9=new q("");let N9=(()=>{class e extends Q0{constructor(){super(),this._doc=O(cn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ps().getBaseHref(this._doc)}onPopState(r){const i=ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Y0(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function gN(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Oi(e){return e&&"?"!==e[0]?"?"+e:e}let bo=(()=>{class e{historyGo(r){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:()=>O(yN),providedIn:"root"})}}return e})();const mN=new q("");let yN=(()=>{class e extends bo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Y0(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Oi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Oi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Oi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static{this.\u0275fac=function(i){return new(i||e)(z(Q0),z(mN,8))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),R9=(()=>{class e extends bo{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=Y0(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Oi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Oi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static{this.\u0275fac=function(i){return new(i||e)(z(Q0),z(mN,8))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),yu=(()=>{class e{constructor(r){this._subject=new ft,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function P9(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(gN(vN(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Oi(i))}normalize(r){return e.stripTrailingSlash(function k9(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,vN(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Oi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Oi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}static{this.normalizeQueryParams=Oi}static{this.joinWithSlash=Y0}static{this.stripTrailingSlash=gN}static{this.\u0275fac=function(i){return new(i||e)(z(bo))}}static{this.\u0275prov=j({token:e,factory:()=>function O9(){return new yu(z(bo))}(),providedIn:"root"})}}return e})();function vN(e){return e.replace(/\/index.html$/,"")}class E7{constructor(t,r,i,s){this.$implicit=t,this.ngForOf=r,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let c_=(()=>{class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new E7(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),AN(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{AN(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(k(rr),k(Mi),k(W0))}}static{this.\u0275dir=se({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function AN(e,t){e.context.$implicit=t.item}let sp=(()=>{class e{constructor(r,i){this._viewContainer=r,this._context=new C7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){MN("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){MN("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(k(rr),k(Mi))}}static{this.\u0275dir=se({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class C7{constructor(){this.$implicit=null,this.ngIf=null}}function MN(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ot(t)}'.`)}let gs=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({})}}return e})();const ON="browser";function kN(e){return"server"===e}let Q7=(()=>{class e{static{this.\u0275prov=j({token:e,providedIn:"root",factory:()=>function K7(e){return e===ON}(O(os))?new Y7(O(cn),window):new X7})}}return e})();class Y7{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const r=function J7(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const o=s.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}s=i.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}}class X7{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class xq extends A9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class m_ extends xq{static makeCurrent(){!function x9(e){pN??=e}(new m_)}onAndCancel(t,r,i){return t.addEventListener(r,i),()=>{t.removeEventListener(r,i)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.remove()}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function Aq(){return bu=bu||document.querySelector("base"),bu?bu.getAttribute("href"):null}();return null==r?null:function Mq(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function _7(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const i=r.indexOf("="),[s,o]=-1==i?[r,""]:[r.slice(0,i),r.slice(i+1)];if(s.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let bu=null,Rq=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();const y_=new q("");let qN=(()=>{class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}static{this.\u0275fac=function(i){return new(i||e)(z(y_),z(Re))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();class GN{constructor(t){this._doc=t}}const v_="ng-app-id";let WN=(()=>{class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kN(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${v_}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(v_),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(v_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(z(cn),z(va),z(lT,8),z(os))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();const __={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},w_=/%COMP%/g,Lq=new q("",{providedIn:"root",factory:()=>!0});function KN(e,t){return t.map(r=>r.replace(w_,e))}let b_=(()=>{class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=kN(c),this.defaultRenderer=new E_(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yr.ShadowDom&&(i={...i,encapsulation:yr.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof YN?s.applyToHost(r):s instanceof C_&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case yr.Emulated:o=new YN(l,u,i,this.appId,d,a,c,f);break;case yr.ShadowDom:return new Uq(l,u,r,i,a,c,this.nonce,f);default:o=new C_(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(z(qN),z(WN),z(va),z(Lq),z(cn),z(os),z(Re),z(lT))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();class E_{constructor(t,r,i,s){this.eventManager=t,this.doc=r,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(__[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(QN(t)?t.content:t).appendChild(r)}insertBefore(t,r,i){t&&(QN(t)?t.content:t).insertBefore(r,i)}removeChild(t,r){r.remove()}selectRootElement(t,r){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new A(-5104,!1);return r||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,i,s){if(s){r=s+":"+r;const o=__[s];o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}removeAttribute(t,r,i){if(i){const s=__[i];s?t.removeAttributeNS(s,r):t.removeAttribute(`${i}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,i,s){s&(as.DashCase|as.Important)?t.style.setProperty(r,i,s&as.Important?"important":""):t.style[r]=i}removeStyle(t,r,i){i&as.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,i){null!=t&&(t[r]=i)}setValue(t,r){t.nodeValue=r}listen(t,r,i){if("string"==typeof t&&!(t=ps().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(i))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function QN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Uq extends E_{constructor(t,r,i,s,o,a,c,l){super(t,o,a,l),this.sharedStylesHost=r,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=KN(s.id,s.styles);for(const d of u){const f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,i){return super.insertBefore(this.nodeOrShadowRoot(t),r,i)}removeChild(t,r){return super.removeChild(null,r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class C_ extends E_{constructor(t,r,i,s,o,a,c,l){super(t,o,a,c),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=s,this.styles=l?KN(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class YN extends C_{constructor(t,r,i,s,o,a,c,l){const u=s+"-"+i.id;super(t,r,i,o,a,c,l,u),this.contentAttr=function Fq(e){return"_ngcontent-%COMP%".replace(w_,e)}(u),this.hostAttr=function Bq(e){return"_nghost-%COMP%".replace(w_,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const i=super.createElement(t,r);return super.setAttribute(i,this.contentAttr,""),i}}let jq=(()=>{class e extends GN{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}static{this.\u0275fac=function(i){return new(i||e)(z(cn))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();const JN=["alt","control","meta","shift"],$q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hq={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let zq=(()=>{class e extends GN{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ps().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),JN.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=$q[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),JN.forEach(a=>{a!==s&&(0,Hq[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}static{this.\u0275fac=function(i){return new(i||e)(z(cn))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();const eR=[{provide:os,useValue:ON},{provide:aT,useValue:function qq(){m_.makeCurrent()},multi:!0},{provide:cn,useFactory:function Wq(){return function p8(e){By=e}(document),document},deps:[]}],Zq=OM(Hz,"browser",eR),Kq=new q(""),tR=[{provide:Oh,useClass:class Nq{addToWindow(t){lt.getAngularTestability=(i,s=!0)=>{const o=t.findTestabilityInTree(i,s);if(null==o)throw new A(5103,!1);return o},lt.getAllAngularTestabilities=()=>t.getAllTestabilities(),lt.getAllAngularRootElements=()=>t.getAllRootElements(),lt.frameworkStabilizers||(lt.frameworkStabilizers=[]),lt.frameworkStabilizers.push(i=>{const s=lt.getAllAngularTestabilities();let o=s.length;const a=function(){o--,0==o&&i()};s.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,r,i){return null==r?null:t.getTestability(r)??(i?ps().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:_M,useClass:P0,deps:[Re,L0,Oh]},{provide:P0,useClass:P0,deps:[Re,L0,Oh]}],nR=[{provide:Qm,useValue:"root"},{provide:nr,useFactory:function Gq(){return new nr},deps:[]},{provide:y_,useClass:jq,multi:!0,deps:[cn,Re,os]},{provide:y_,useClass:zq,multi:!0,deps:[cn]},b_,WN,qN,{provide:oh,useExisting:b_},{provide:class eq{},useClass:Rq,deps:[]},[]];let rR=(()=>{class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:va,useValue:r.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(z(Kq,12))}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({providers:[...nR,...tR],imports:[gs,zz]})}}return e})(),Qq=(()=>{class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static{this.\u0275fac=function(i){return new(i||e)(z(cn))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oR=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:function(i){let s=null;return s=i?new(i||e):z(eG),s},providedIn:"root"})}}return e})(),eG=(()=>{class e extends oR{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case zn.NONE:return i;case zn.HTML:return Wr(i,"HTML")?Hn(i):RT(this._doc,String(i)).toString();case zn.STYLE:return Wr(i,"Style")?Hn(i):i;case zn.SCRIPT:if(Wr(i,"Script"))return Hn(i);throw new A(5200,!1);case zn.URL:return Wr(i,"URL")?Hn(i):$f(String(i));case zn.RESOURCE_URL:if(Wr(i,"ResourceURL"))return Hn(i);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(r){return function P8(e){return new A8(e)}(r)}bypassSecurityTrustStyle(r){return function L8(e){return new M8(e)}(r)}bypassSecurityTrustScript(r){return function F8(e){return new N8(e)}(r)}bypassSecurityTrustUrl(r){return function B8(e){return new R8(e)}(r)}bypassSecurityTrustResourceUrl(r){return function V8(e){return new O8(e)}(r)}static{this.\u0275fac=function(i){return new(i||e)(z(cn))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ms(e){return this instanceof ms?(this.v=e,this):new ms(e)}function uR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function I_(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=e[o]&&function(a){return new Promise(function(c,l){!function s(o,a,c,l){Promise.resolve(l).then(function(u){o({value:u,done:c})},a)}(c,l,(a=e[o](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const dR=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function fR(e){return ct(e?.then)}function hR(e){return ct(e[Im])}function pR(e){return Symbol.asyncIterator&&ct(e?.[Symbol.asyncIterator])}function gR(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mR=function xG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yR(e){return ct(e?.[mR])}function vR(e){return function lR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=r.apply(e,t||[]),o=[];return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function a(p){return function(g){return Promise.resolve(g).then(p,f)}}),s[Symbol.asyncIterator]=function(){return this},s;function c(p,g){i[p]&&(s[p]=function(m){return new Promise(function(y,_){o.push([p,m,y,_])>1||l(p,m)})},g&&(s[p]=g(s[p])))}function l(p,g){try{!function u(p){p.value instanceof ms?Promise.resolve(p.value.v).then(d,f):h(o[0][2],p)}(i[p](g))}catch(m){h(o[0][3],m)}}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,g){p(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:i,done:s}=yield ms(r.read());if(s)return yield ms(void 0);yield yield ms(i)}}finally{r.releaseLock()}})}function _R(e){return ct(e?.getReader)}function Ir(e){if(e instanceof zt)return e;if(null!=e){if(hR(e))return function AG(e){return new zt(t=>{const r=e[Im]();if(ct(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(dR(e))return function MG(e){return new zt(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(fR(e))return function NG(e){return new zt(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,eD)})}(e);if(pR(e))return wR(e);if(yR(e))return function RG(e){return new zt(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(_R(e))return function OG(e){return wR(vR(e))}(e)}throw gR(e)}function wR(e){return new zt(t=>{(function kG(e,t){var r,i,s,o;return function aR(e,t,r,i){return new(r||(r=Promise))(function(o,a){function c(d){try{u(i.next(d))}catch(f){a(f)}}function l(d){try{u(i.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):function s(o){return o instanceof r?o:new r(function(a){a(o)})}(d.value).then(c,l)}u((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=uR(e);!(i=yield r.next()).done;)if(t.next(i.value),t.closed)return}catch(a){s={error:a}}finally{try{i&&!i.done&&(o=r.return)&&(yield o.call(r))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function ni(e,t,r,i=0,s=!1){const o=t.schedule(function(){r(),s?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!s)return o}function bR(e,t=0){return qt((r,i)=>{r.subscribe(St(i,s=>ni(i,e,()=>i.next(s),t),()=>ni(i,e,()=>i.complete(),t),s=>ni(i,e,()=>i.error(s),t)))})}function ER(e,t=0){return qt((r,i)=>{i.add(e.schedule(()=>r.subscribe(i),t))})}function CR(e,t){if(!e)throw new Error("Iterable cannot be null");return new zt(r=>{ni(r,t,()=>{const i=e[Symbol.asyncIterator]();ni(r,t,()=>{i.next().then(s=>{s.done?r.complete():r.next(s.value)})},0,!0)})})}function Wt(e,t){return t?function UG(e,t){if(null!=e){if(hR(e))return function PG(e,t){return Ir(e).pipe(ER(t),bR(t))}(e,t);if(dR(e))return function FG(e,t){return new zt(r=>{let i=0;return t.schedule(function(){i===e.length?r.complete():(r.next(e[i++]),r.closed||this.schedule())})})}(e,t);if(fR(e))return function LG(e,t){return Ir(e).pipe(ER(t),bR(t))}(e,t);if(pR(e))return CR(e,t);if(yR(e))return function BG(e,t){return new zt(r=>{let i;return ni(r,t,()=>{i=e[mR](),ni(r,t,()=>{let s,o;try{({value:s,done:o}=i.next())}catch(a){return void r.error(a)}o?r.complete():r.next(s)},0,!0)}),()=>ct(i?.return)&&i.return()})}(e,t);if(_R(e))return function VG(e,t){return CR(vR(e),t)}(e,t)}throw gR(e)}(e,t):Ir(e)}function A_(e){return e[e.length-1]}function DR(e){return ct(A_(e))?e.pop():void 0}function up(e){return function jG(e){return e&&ct(e.schedule)}(A_(e))?e.pop():void 0}function he(...e){return Wt(e,up(e))}const{isArray:$G}=Array,{getPrototypeOf:HG,prototype:zG,keys:qG}=Object;function SR(e){if(1===e.length){const t=e[0];if($G(t))return{args:t,keys:null};if(function GG(e){return e&&"object"==typeof e&&HG(e)===zG}(t)){const r=qG(t);return{args:r.map(i=>t[i]),keys:r}}}return{args:e,keys:null}}const{isArray:WG}=Array;function TR(e){return $e(t=>function ZG(e,t){return WG(t)?e(...t):e(t)}(e,t))}function IR(e,t){return e.reduce((r,i,s)=>(r[i]=t[s],r),{})}function M_(...e){const t=up(e),r=DR(e),{args:i,keys:s}=SR(e);if(0===i.length)return Wt([],t);const o=new zt(function KG(e,t,r=Zs){return i=>{xR(t,()=>{const{length:s}=e,o=new Array(s);let a=s,c=s;for(let l=0;l<s;l++)xR(t,()=>{const u=Wt(e[l],t);let d=!1;u.subscribe(St(i,f=>{o[l]=f,d||(d=!0,c--),c||i.next(r(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,s?a=>IR(s,a):Zs));return r?o.pipe(TR(r)):o}function xR(e,t,r){e?ni(r,e,t):t()}const dp=Ud(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ln(e,t,r=1/0){return ct(t)?ln((i,s)=>$e((o,a)=>t(i,o,s,a))(Ir(e(i,s))),r):("number"==typeof t&&(r=t),qt((i,s)=>function QG(e,t,r,i,s,o,a,c){const l=[];let u=0,d=0,f=!1;const h=()=>{f&&!l.length&&!u&&t.complete()},p=m=>u<i?g(m):l.push(m),g=m=>{o&&t.next(m),u++;let y=!1;Ir(r(m,d++)).subscribe(St(t,_=>{s?.(_),o?p(_):t.next(_)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;l.length&&u<i;){const _=l.shift();a?ni(t,a,()=>g(_)):g(_)}h()}catch(_){t.error(_)}}))};return e.subscribe(St(t,p,()=>{f=!0,h()})),()=>{c?.()}}(i,s,e,r)))}function Eu(e=1/0){return ln(Zs,e)}function N_(...e){return function YG(){return Eu(1)}()(Wt(e,up(e)))}function AR(e){return new zt(t=>{Ir(e()).subscribe(t)})}function Cu(e,t){const r=ct(e)?e:()=>e,i=s=>s.error(r());return new zt(t?s=>t.schedule(i,0,s):i)}const ri=new zt(e=>e.complete());function R_(){return qt((e,t)=>{let r=null;e._refCount++;const i=St(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const s=e._connection,o=r;r=null,s&&(!o||s===o)&&s.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(r=e.connect())})}class MR extends zt{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,iD(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new _t;const r=this.getSubject();t.add(this.source.subscribe(St(r,void 0,()=>{this._teardown(),r.complete()},i=>{this._teardown(),r.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=_t.EMPTY)}return t}refCount(){return R_()(this)}}function ii(e,t){return qt((r,i)=>{let s=null,o=0,a=!1;const c=()=>a&&!s&&i.complete();r.subscribe(St(i,l=>{s?.unsubscribe();let u=0;const d=o++;Ir(e(l,d)).subscribe(s=St(i,f=>i.next(t?t(l,f,d,u++):f),()=>{s=null,c()}))},()=>{a=!0,c()}))})}function nc(e){return e<=0?()=>ri:qt((t,r)=>{let i=0;t.subscribe(St(r,s=>{++i<=e&&(r.next(s),e<=i&&r.complete())}))})}function Li(e,t){return qt((r,i)=>{let s=0;r.subscribe(St(i,o=>e.call(t,o,s++)&&i.next(o)))})}function fp(e){return qt((t,r)=>{let i=!1;t.subscribe(St(r,s=>{i=!0,r.next(s)},()=>{i||r.next(e),r.complete()}))})}function NR(e=eW){return qt((t,r)=>{let i=!1;t.subscribe(St(r,s=>{i=!0,r.next(s)},()=>i?r.complete():r.error(e())))})}function eW(){return new dp}function ys(e,t){const r=arguments.length>=2;return i=>i.pipe(e?Li((s,o)=>e(s,o,i)):Zs,nc(1),r?fp(t):NR(()=>new dp))}function Du(e,t){return ct(t)?ln(e,t,1):ln(e,1)}function bn(e,t,r){const i=ct(e)||t||r?{next:e,error:t,complete:r}:e;return i?qt((s,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let c=!0;s.subscribe(St(o,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),o.next(l)},()=>{var l;c=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var u;c=!1,null===(u=i.error)||void 0===u||u.call(i,l),o.error(l)},()=>{var l,u;c&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):Zs}function Co(e){return qt((t,r)=>{let o,i=null,s=!1;i=t.subscribe(St(r,void 0,void 0,a=>{o=Ir(e(a,Co(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(r)):s=!0})),s&&(i.unsubscribe(),i=null,o.subscribe(r))})}function O_(e){return e<=0?()=>ri:qt((t,r)=>{let i=[];t.subscribe(St(r,s=>{i.push(s),e<i.length&&i.shift()},()=>{for(const s of i)r.next(s);r.complete()},void 0,()=>{i=null}))})}function hp(e){return qt((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}const ve="primary",Su=Symbol("RouteTitle");class oW{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function rc(e){return new oW(e)}function aW(e,t,r){const i=r.path.split("/");if(i.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const s={};for(let o=0;o<i.length;o++){const a=i[o],c=e[o];if(":"===a[0])s[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:e.slice(0,i.length),posParams:s}}function si(e,t){const r=e?k_(e):void 0,i=t?k_(t):void 0;if(!r||!i||r.length!=i.length)return!1;let s;for(let o=0;o<r.length;o++)if(s=r[o],!RR(e[s],t[s]))return!1;return!0}function k_(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function RR(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),i=[...t].sort();return r.every((s,o)=>i[o]===s)}return e===t}function OR(e){return e.length>0?e[e.length-1]:null}function vs(e){return function tG(e){return!!e&&(e instanceof zt||ct(e.lift)&&ct(e.subscribe))}(e)?e:uu(e)?Wt(Promise.resolve(e)):he(e)}const lW={exact:function LR(e,t,r){if(!So(e.segments,t.segments)||!pp(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!LR(e.children[i],t.children[i],r))return!1;return!0},subset:FR},kR={exact:function uW(e,t){return si(e,t)},subset:function dW(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>RR(e[r],t[r]))},ignored:()=>!0};function PR(e,t,r){return lW[r.paths](e.root,t.root,r.matrixParams)&&kR[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function FR(e,t,r){return BR(e,t,t.segments,r)}function BR(e,t,r,i){if(e.segments.length>r.length){const s=e.segments.slice(0,r.length);return!(!So(s,r)||t.hasChildren()||!pp(s,r,i))}if(e.segments.length===r.length){if(!So(e.segments,r)||!pp(e.segments,r,i))return!1;for(const s in t.children)if(!e.children[s]||!FR(e.children[s],t.children[s],i))return!1;return!0}{const s=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!!(So(e.segments,s)&&pp(e.segments,s,i)&&e.children[ve])&&BR(e.children[ve],t,o,i)}}function pp(e,t,r){return t.every((i,s)=>kR[r](e[s].parameters,i.parameters))}class Do{constructor(t=new We([],{}),r={},i=null){this.root=t,this.queryParams=r,this.fragment=i}get queryParamMap(){return this._queryParamMap??=rc(this.queryParams),this._queryParamMap}toString(){return pW.serialize(this)}}class We{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mp(this)}}class Tu{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=rc(this.parameters),this._parameterMap}toString(){return jR(this)}}function So(e,t){return e.length===t.length&&e.every((r,i)=>r.path===t[i].path)}let ic=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:()=>new gp,providedIn:"root"})}}return e})();class gp{parse(t){const r=new SW(t);return new Do(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Iu(t.root,!0)}`,i=function yW(e){const t=Object.entries(e).map(([r,i])=>Array.isArray(i)?i.map(s=>`${yp(r)}=${yp(s)}`).join("&"):`${yp(r)}=${yp(i)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${i}${"string"==typeof t.fragment?`#${function gW(e){return encodeURI(e)}(t.fragment)}`:""}`}}const pW=new gp;function mp(e){return e.segments.map(t=>jR(t)).join("/")}function Iu(e,t){if(!e.hasChildren())return mp(e);if(t){const r=e.children[ve]?Iu(e.children[ve],!1):"",i=[];return Object.entries(e.children).forEach(([s,o])=>{s!==ve&&i.push(`${s}:${Iu(o,!1)}`)}),i.length>0?`${r}(${i.join("//")})`:r}{const r=function hW(e,t){let r=[];return Object.entries(e.children).forEach(([i,s])=>{i===ve&&(r=r.concat(t(s,i)))}),Object.entries(e.children).forEach(([i,s])=>{i!==ve&&(r=r.concat(t(s,i)))}),r}(e,(i,s)=>s===ve?[Iu(e.children[ve],!1)]:[`${s}:${Iu(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ve]?`${mp(e)}/${r[0]}`:`${mp(e)}/(${r.join("//")})`}}function VR(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yp(e){return VR(e).replace(/%3B/gi,";")}function P_(e){return VR(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vp(e){return decodeURIComponent(e)}function UR(e){return vp(e.replace(/\+/g,"%20"))}function jR(e){return`${P_(e.path)}${function mW(e){return Object.entries(e).map(([t,r])=>`;${P_(t)}=${P_(r)}`).join("")}(e.parameters)}`}const vW=/^[^\/()?;#]+/;function L_(e){const t=e.match(vW);return t?t[0]:""}const _W=/^[^\/()?;=#]+/,bW=/^[^=?&#]+/,CW=/^[^&#]+/;class SW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(i[ve]=new We(t,r)),i}parseSegment(){const t=L_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(t),new Tu(vp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function wW(e){const t=e.match(_W);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){const s=L_(this.remaining);s&&(i=s,this.capture(i))}t[vp(r)]=vp(i)}parseQueryParam(t){const r=function EW(e){const t=e.match(bW);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){const a=function DW(e){const t=e.match(CW);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const s=UR(r),o=UR(i);if(t.hasOwnProperty(s)){let a=t[s];Array.isArray(a)||(a=[a],t[s]=a),a.push(o)}else t[s]=o}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=L_(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new A(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ve);const a=this.parseChildren();r[o]=1===Object.keys(a).length?a[ve]:new We([],a),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new A(4011,!1)}}function $R(e){return e.segments.length>0?new We([],{[ve]:e}):e}function HR(e){const t={};for(const[i,s]of Object.entries(e.children)){const o=HR(s);if(i===ve&&0===o.segments.length&&o.hasChildren())for(const[a,c]of Object.entries(o.children))t[a]=c;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function TW(e){if(1===e.numberOfChildren&&e.children[ve]){const t=e.children[ve];return new We(e.segments.concat(t.segments),t.children)}return e}(new We(e.segments,t))}function To(e){return e instanceof Do}function zR(e){let t;const s=$R(function r(o){const a={};for(const l of o.children){const u=r(l);a[l.outlet]=u}const c=new We(o.url,a);return o===e&&(t=c),c}(e.root));return t??s}function qR(e,t,r,i){let s=e;for(;s.parent;)s=s.parent;if(0===t.length)return F_(s,s,s,r,i);const o=function xW(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new WR(!0,0,e);let t=0,r=!1;const i=e.reduce((s,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([l,u])=>{c[l]="string"==typeof u?u.split("/"):u}),[...s,{outlets:c}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===a?(o.split("/").forEach((c,l)=>{0==l&&"."===c||(0==l&&""===c?r=!0:".."===c?t++:""!=c&&s.push(c))}),s):[...s,o]},[]);return new WR(r,t,i)}(t);if(o.toRoot())return F_(s,s,new We([],{}),r,i);const a=function AW(e,t,r){if(e.isAbsolute)return new wp(t,!0,0);if(!r)return new wp(t,!1,NaN);if(null===r.parent)return new wp(r,!0,0);const i=_p(e.commands[0])?0:1;return function MW(e,t,r){let i=e,s=t,o=r;for(;o>s;){if(o-=s,i=i.parent,!i)throw new A(4005,!1);s=i.segments.length}return new wp(i,!1,s-o)}(r,r.segments.length-1+i,e.numberOfDoubleDots)}(o,s,e),c=a.processChildren?Au(a.segmentGroup,a.index,o.commands):ZR(a.segmentGroup,a.index,o.commands);return F_(s,a.segmentGroup,c,r,i)}function _p(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function xu(e){return"object"==typeof e&&null!=e&&e.outlets}function F_(e,t,r,i,s){let a,o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),a=e===t?r:GR(e,t,r);const c=$R(HR(a));return new Do(c,o,s)}function GR(e,t,r){const i={};return Object.entries(e.children).forEach(([s,o])=>{i[s]=o===t?r:GR(o,t,r)}),new We(e.segments,i)}class WR{constructor(t,r,i){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=i,t&&i.length>0&&_p(i[0]))throw new A(4003,!1);const s=i.find(xu);if(s&&s!==OR(i))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wp{constructor(t,r,i){this.segmentGroup=t,this.processChildren=r,this.index=i}}function ZR(e,t,r){if(e??=new We([],{}),0===e.segments.length&&e.hasChildren())return Au(e,t,r);const i=function RW(e,t,r){let i=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(i>=r.length)return o;const a=e.segments[s],c=r[i];if(xu(c))break;const l=`${c}`,u=i<r.length-1?r[i+1]:null;if(s>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!QR(l,u,a))return o;i+=2}else{if(!QR(l,{},a))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(e,t,r),s=r.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new We(e.segments.slice(0,i.pathIndex),{});return o.children[ve]=new We(e.segments.slice(i.pathIndex),e.children),Au(o,0,s)}return i.match&&0===s.length?new We(e.segments,{}):i.match&&!e.hasChildren()?B_(e,t,r):i.match?Au(e,0,s):B_(e,t,r)}function Au(e,t,r){if(0===r.length)return new We(e.segments,{});{const i=function NW(e){return xu(e[0])?e[0].outlets:{[ve]:e}}(r),s={};if(Object.keys(i).some(o=>o!==ve)&&e.children[ve]&&1===e.numberOfChildren&&0===e.children[ve].segments.length){const o=Au(e.children[ve],t,r);return new We(e.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(s[o]=ZR(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{void 0===i[o]&&(s[o]=a)}),new We(e.segments,s)}}function B_(e,t,r){const i=e.segments.slice(0,t);let s=0;for(;s<r.length;){const o=r[s];if(xu(o)){const l=OW(o.outlets);return new We(i,l)}if(0===s&&_p(r[0])){i.push(new Tu(e.segments[t].path,KR(r[0]))),s++;continue}const a=xu(o)?o.outlets[ve]:`${o}`,c=s<r.length-1?r[s+1]:null;a&&c&&_p(c)?(i.push(new Tu(a,KR(c))),s+=2):(i.push(new Tu(a,{})),s++)}return new We(i,{})}function OW(e){const t={};return Object.entries(e).forEach(([r,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[r]=B_(new We([],{}),0,i))}),t}function KR(e){const t={};return Object.entries(e).forEach(([r,i])=>t[r]=`${i}`),t}function QR(e,t,r){return e==r.path&&si(t,r.parameters)}const Mu="imperative";var Ne=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ne||{});class oi{constructor(t,r){this.id=t,this.url=r}}class Nu extends oi{constructor(t,r,i="imperative",s=null){super(t,r),this.type=Ne.NavigationStart,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fi extends oi{constructor(t,r,i){super(t,r),this.urlAfterRedirects=i,this.type=Ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Kn||{}),bp=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(bp||{});class Io extends oi{constructor(t,r,i,s){super(t,r),this.reason=i,this.code=s,this.type=Ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sc extends oi{constructor(t,r,i,s){super(t,r),this.reason=i,this.code=s,this.type=Ne.NavigationSkipped}}class V_ extends oi{constructor(t,r,i,s){super(t,r),this.error=i,this.target=s,this.type=Ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YR extends oi{constructor(t,r,i,s){super(t,r),this.urlAfterRedirects=i,this.state=s,this.type=Ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kW extends oi{constructor(t,r,i,s){super(t,r),this.urlAfterRedirects=i,this.state=s,this.type=Ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PW extends oi{constructor(t,r,i,s,o){super(t,r),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o,this.type=Ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LW extends oi{constructor(t,r,i,s){super(t,r),this.urlAfterRedirects=i,this.state=s,this.type=Ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FW extends oi{constructor(t,r,i,s){super(t,r),this.urlAfterRedirects=i,this.state=s,this.type=Ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BW{constructor(t){this.route=t,this.type=Ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VW{constructor(t){this.route=t,this.type=Ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class UW{constructor(t){this.snapshot=t,this.type=Ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jW{constructor(t){this.snapshot=t,this.type=Ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $W{constructor(t){this.snapshot=t,this.type=Ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HW{constructor(t){this.snapshot=t,this.type=Ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JR{constructor(t,r,i){this.routerEvent=t,this.position=r,this.anchor=i,this.type=Ne.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class U_{}class Ep{constructor(t,r){this.url=t,this.navigationBehaviorOptions=r}}function xr(e){return e.outlet||ve}function Ru(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class KW{get injector(){return Ru(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Ou(this.rootInjector),this.attachRef=null}}let Ou=(()=>{class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new KW(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}static{this.\u0275fac=function(i){return new(i||e)(z(xn))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class XR{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=j_(t,this._root);return r?r.children.map(i=>i.value):[]}firstChild(t){const r=j_(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=$_(t,this._root);return r.length<2?[]:r[r.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return $_(t,this._root).map(r=>r.value)}}function j_(e,t){if(e===t.value)return t;for(const r of t.children){const i=j_(e,r);if(i)return i}return null}function $_(e,t){if(e===t.value)return[t];for(const r of t.children){const i=$_(e,r);if(i.length)return i.unshift(t),i}return[]}class Ar{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function oc(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class eO extends XR{constructor(t,r){super(t),this.snapshot=r,H_(this,t)}toString(){return this.snapshot.toString()}}function tO(e){const t=function QW(e){const o=new Dp([],{},{},"",{},ve,e,null,{});return new nO("",new Ar(o,[]))}(e),r=new Fn([new Tu("",{})]),i=new Fn({}),s=new Fn({}),o=new Fn({}),a=new Fn(""),c=new ac(r,i,o,a,s,ve,e,t.root);return c.snapshot=t.root,new eO(new Ar(c,[]),t)}class ac{constructor(t,r,i,s,o,a,c,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=o,this.outlet=a,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe($e(u=>u[Su]))??he(void 0),this.url=t,this.params=r,this.queryParams=i,this.fragment=s,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($e(t=>rc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($e(t=>rc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cp(e,t,r="emptyOnly"){let i;const{routeConfig:s}=e;return i=null===t||"always"!==r&&""!==s?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...s?.data,...e._resolvedData}},s&&iO(s)&&(i.resolve[Su]=s.title),i}class Dp{get title(){return this.data?.[Su]}constructor(t,r,i,s,o,a,c,l,u){this.url=t,this.params=r,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=a,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=rc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=rc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nO extends XR{constructor(t,r){super(r),this.url=t,H_(this,r)}toString(){return rO(this._root)}}function H_(e,t){t.value._routerState=e,t.children.forEach(r=>H_(e,r))}function rO(e){const t=e.children.length>0?` { ${e.children.map(rO).join(", ")} } `:"";return`${e.value}${t}`}function z_(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,si(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),si(t.params,r.params)||e.paramsSubject.next(r.params),function cW(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!si(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),si(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function q_(e,t){const r=si(e.params,t.params)&&function fW(e,t){return So(e,t)&&e.every((r,i)=>si(r.parameters,t[i].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||q_(e.parent,t.parent))}function iO(e){return"string"==typeof e.title||null===e.title}let G_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new ft,this.deactivateEvents=new ft,this.attachEvents=new ft,this.detachEvents=new ft,this.parentContexts=O(Ou),this.location=O(rr),this.changeDetector=O(fu),this.inputBinder=O(Sp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new W_(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=se({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[er]})}}return e})();class W_{__ngOutletInjector(t){return new W_(this.route,this.childContexts,t)}constructor(t,r,i){this.route=t,this.childContexts=r,this.parent=i}get(t,r){return t===ac?this.route:t===Ou?this.childContexts:this.parent.get(t,r)}}const Sp=new q("");let sO=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=M_([i.queryParams,i.params,i.data]).pipe(ii(([o,a,c],l)=>(c={...o,...a,...c},0===l?he(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function I9(e){const t=Ce(e);if(!t)return null;const r=new jl(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();function ku(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=t.value;const s=function JW(e,t,r){return t.children.map(i=>{for(const s of r.children)if(e.shouldReuseRoute(i.value,s.value.snapshot))return ku(e,i,s);return ku(e,i)})}(e,t,r);return new Ar(i,s)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>ku(e,c)),a}}const i=function XW(e){return new ac(new Fn(e.url),new Fn(e.params),new Fn(e.queryParams),new Fn(e.fragment),new Fn(e.data),e.outlet,e.component,e)}(t.value),s=t.children.map(o=>ku(e,o));return new Ar(i,s)}}class Z_{constructor(t,r){this.redirectTo=t,this.navigationBehaviorOptions=r}}const oO="ngNavigationCancelingError";function Tp(e,t){const{redirectTo:r,navigationBehaviorOptions:i}=To(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=aO(!1,Kn.Redirect);return s.url=r,s.navigationBehaviorOptions=i,s}function aO(e,t){const r=new Error(`NavigationCancelingError: ${e||""}`);return r[oO]=!0,r.cancellationCode=t,r}function cO(e){return!!e&&e[oO]}class nZ{constructor(t,r,i,s,o){this.routeReuseStrategy=t,this.futureState=r,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=o}activate(t){const r=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,i,t),z_(this.futureState.root),this.activateChildRoutes(r,i,t)}deactivateChildRoutes(t,r,i){const s=oc(r);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,s[a],i),delete s[a]}),Object.values(s).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,r,i){const s=t.value,o=r?r.value:null;if(s===o)if(s.component){const a=i.getContext(s.outlet);a&&this.deactivateChildRoutes(t,r,a.children)}else this.deactivateChildRoutes(t,r,i);else o&&this.deactivateRouteAndItsChildren(r,i)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const i=r.getContext(t.value.outlet),s=i&&t.value.component?i.children:r,o=oc(t);for(const a of Object.values(o))this.deactivateRouteAndItsChildren(a,s);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,r){const i=r.getContext(t.value.outlet),s=i&&t.value.component?i.children:r,o=oc(t);for(const a of Object.values(o))this.deactivateRouteAndItsChildren(a,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,r,i){const s=oc(r);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new HW(o.value.snapshot))}),t.children.length&&this.forwardEvent(new jW(t.value.snapshot))}activateRoutes(t,r,i){const s=t.value,o=r?r.value:null;if(z_(s),s===o)if(s.component){const a=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,r,a.children)}else this.activateChildRoutes(t,r,i);else if(s.component){const a=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),z_(c.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=s,a.outlet&&a.outlet.activateWith(s,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}}class lO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ip{constructor(t,r){this.component=t,this.route=r}}function rZ(e,t,r){const i=e._root;return Pu(i,t?t._root:null,r,[i.value])}function cc(e,t){const r=Symbol(),i=t.get(e,r);return i===r?"function"!=typeof e||function H3(e){return null!==Wd(e)}(e)?t.get(e):e:i}function Pu(e,t,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=oc(t);return e.children.forEach(a=>{(function sZ(e,t,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=t?t.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function oZ(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!So(e.url,t.url);case"pathParamsOrQueryParamsChange":return!So(e.url,t.url)||!si(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!q_(e,t)||!si(e.queryParams,t.queryParams);default:return!q_(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new lO(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Pu(e,t,o.component?c?c.children:null:r,i,s),l&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new Ip(c.outlet.component,a))}else a&&Lu(t,c,s),s.canActivateChecks.push(new lO(i)),Pu(e,null,o.component?c?c.children:null:r,i,s)})(a,o[a.value.outlet],r,i.concat([a.value]),s),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,c])=>Lu(c,r.getContext(a),s)),s}function Lu(e,t,r){const i=oc(e),s=e.value;Object.entries(i).forEach(([o,a])=>{Lu(a,s.component?t?t.children.getContext(o):null:t,r)}),r.canDeactivateChecks.push(new Ip(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function Fu(e){return"function"==typeof e}function uO(e){return e instanceof dp||"EmptyError"===e?.name}const xp=Symbol("INITIAL_VALUE");function lc(){return ii(e=>M_(e.map(t=>t.pipe(nc(1),function XG(...e){const t=up(e);return qt((r,i)=>{(t?N_(e,r,t):N_(e,r)).subscribe(i)})}(xp)))).pipe($e(t=>{for(const r of t)if(!0!==r){if(r===xp)return xp;if(!1===r||hZ(r))return r}return!0}),Li(t=>t!==xp),nc(1)))}function hZ(e){return To(e)||e instanceof Z_}function dO(e){return function O3(...e){return tD(e)}(bn(t=>{if("boolean"!=typeof t)throw Tp(0,t)}),$e(t=>!0===t))}class K_{constructor(t){this.segmentGroup=t||null}}class Ap extends Error{constructor(t){super(),this.urlTree=t}}function uc(e){return Cu(new K_(e))}class TZ{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let i=[],s=r.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return he(i);if(s.numberOfChildren>1||!s.children[ve])return Cu(new A(4e3,!1));s=s.children[ve]}}applyRedirectCommands(t,r,i,s,o){if("string"!=typeof r){const c=r,{queryParams:l,fragment:u,routeConfig:d,url:f,outlet:h,params:p,data:g,title:m}=s,y=Ci(o,()=>c({params:p,data:g,queryParams:l,fragment:u,routeConfig:d,url:f,outlet:h,title:m}));if(y instanceof Do)throw new Ap(y);r=y}const a=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,i);if("/"===r[0])throw new Ap(a);return a}applyRedirectCreateUrlTree(t,r,i,s){const o=this.createSegmentGroup(t,r.root,i,s);return new Do(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const i={};return Object.entries(t).forEach(([s,o])=>{if("string"==typeof o&&":"===o[0]){const c=o.substring(1);i[s]=r[c]}else i[s]=o}),i}createSegmentGroup(t,r,i,s){const o=this.createSegments(t,r.segments,i,s);let a={};return Object.entries(r.children).forEach(([c,l])=>{a[c]=this.createSegmentGroup(t,l,i,s)}),new We(o,a)}createSegments(t,r,i,s){return r.map(o=>":"===o.path[0]?this.findPosParam(t,o,s):this.findOrReturn(o,i))}findPosParam(t,r,i){const s=i[r.path.substring(1)];if(!s)throw new A(4001,!1);return s}findOrReturn(t,r){let i=0;for(const s of r){if(s.path===t.path)return r.splice(i),s;i++}return t}}const Q_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IZ(e,t,r,i,s){const o=fO(e,t,r);return o.matched?(i=function zW(e,t){return e.providers&&!e._injector&&(e._injector=dh(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,i),function CZ(e,t,r,i){const s=t.canMatch;return s&&0!==s.length?he(s.map(a=>{const c=cc(a,e);return vs(function fZ(e){return e&&Fu(e.canMatch)}(c)?c.canMatch(t,r):Ci(e,()=>c(t,r)))})).pipe(lc(),dO()):he(!0)}(i,t,r).pipe($e(a=>!0===a?o:{...Q_}))):he(o)}function fO(e,t,r){if("**"===t.path)return function xZ(e){return{matched:!0,parameters:e.length>0?OR(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...Q_}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const s=(t.matcher||aW)(r,e,t);if(!s)return{...Q_};const o={};Object.entries(s.posParams??{}).forEach(([c,l])=>{o[c]=l.path});const a=s.consumed.length>0?{...o,...s.consumed[s.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:r.slice(s.consumed.length),parameters:a,positionalParamSegments:s.posParams??{}}}function hO(e,t,r,i){return r.length>0&&function NZ(e,t,r){return r.some(i=>Mp(e,t,i)&&xr(i)!==ve)}(e,r,i)?{segmentGroup:new We(t,MZ(i,new We(r,e.children))),slicedSegments:[]}:0===r.length&&function RZ(e,t,r){return r.some(i=>Mp(e,t,i))}(e,r,i)?{segmentGroup:new We(e.segments,AZ(e,r,i,e.children)),slicedSegments:r}:{segmentGroup:new We(e.segments,e.children),slicedSegments:r}}function AZ(e,t,r,i){const s={};for(const o of r)if(Mp(e,t,o)&&!i[xr(o)]){const a=new We([],{});s[xr(o)]=a}return{...i,...s}}function MZ(e,t){const r={};r[ve]=t;for(const i of e)if(""===i.path&&xr(i)!==ve){const s=new We([],{});r[xr(i)]=s}return r}function Mp(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class kZ{}class FZ{constructor(t,r,i,s,o,a,c){this.injector=t,this.configLoader=r,this.rootComponentType=i,this.config=s,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new TZ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new A(4002,`'${t.segmentGroup}'`)}recognize(){const t=hO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe($e(({children:r,rootSnapshot:i})=>{const s=new Ar(i,r),o=new nO("",s),a=function IW(e,t,r=null,i=null){return qR(zR(e),t,r,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){const r=new Dp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ve,r).pipe($e(i=>({children:i,rootSnapshot:r})),Co(i=>{if(i instanceof Ap)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof K_?this.noMatchError(i):i}))}processSegmentGroup(t,r,i,s,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,r,i,o):this.processSegment(t,r,i,i.segments,s,!0,o).pipe($e(a=>a instanceof Ar?[a]:[]))}processChildren(t,r,i,s){const o=[];for(const a of Object.keys(i.children))"primary"===a?o.unshift(a):o.push(a);return Wt(o).pipe(Du(a=>{const c=i.children[a],l=function ZW(e,t){const r=e.filter(i=>xr(i)===t);return r.push(...e.filter(i=>xr(i)!==t)),r}(r,a);return this.processSegmentGroup(t,l,c,a,s)}),function nW(e,t){return qt(function tW(e,t,r,i,s){return(o,a)=>{let c=r,l=t,u=0;o.subscribe(St(a,d=>{const f=u++;l=c?e(l,d,f):(c=!0,d),i&&a.next(l)},s&&(()=>{c&&a.next(l),a.complete()})))}}(e,t,arguments.length>=2,!0))}((a,c)=>(a.push(...c),a)),fp(null),function rW(e,t){const r=arguments.length>=2;return i=>i.pipe(e?Li((s,o)=>e(s,o,i)):Zs,O_(1),r?fp(t):NR(()=>new dp))}(),ln(a=>{if(null===a)return uc(i);const c=pO(a);return function BZ(e){e.sort((t,r)=>t.value.outlet===ve?-1:r.value.outlet===ve?1:t.value.outlet.localeCompare(r.value.outlet))}(c),he(c)}))}processSegment(t,r,i,s,o,a,c){return Wt(r).pipe(Du(l=>this.processSegmentAgainstRoute(l._injector??t,r,l,i,s,o,a,c).pipe(Co(u=>{if(u instanceof K_)return he(null);throw u}))),ys(l=>!!l),Co(l=>{if(uO(l))return function OZ(e,t,r){return 0===t.length&&!e.children[r]}(i,s,o)?he(new kZ):uc(i);throw l}))}processSegmentAgainstRoute(t,r,i,s,o,a,c,l){return xr(i)===a||a!==ve&&Mp(s,o,i)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,s,i,o,a,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,s,r,i,o,a,l):uc(s):uc(s)}expandSegmentAgainstRouteUsingRedirect(t,r,i,s,o,a,c){const{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:h}=fO(r,s,o);if(!l)return uc(r);"string"==typeof s.redirectTo&&"/"===s.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=new Dp(o,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gO(s),xr(s),s.component??s._loadedComponent??null,s,mO(s)),g=Cp(p,c,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);const m=this.applyRedirects.applyRedirectCommands(d,s.redirectTo,f,p,t);return this.applyRedirects.lineralizeSegments(s,m).pipe(ln(y=>this.processSegment(t,i,r,y.concat(h),a,!1,c)))}matchSegmentAgainstRoute(t,r,i,s,o,a){const c=IZ(r,i,s,t);return"**"===i.path&&(r.children={}),c.pipe(ii(l=>l.matched?this.getChildConfig(t=i._injector??t,i,s).pipe(ii(({routes:u})=>{const d=i._loadedInjector??t,{parameters:f,consumedSegments:h,remainingSegments:p}=l,g=new Dp(h,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gO(i),xr(i),i.component??i._loadedComponent??null,i,mO(i)),m=Cp(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);const{segmentGroup:y,slicedSegments:_}=hO(r,h,p,u);if(0===_.length&&y.hasChildren())return this.processChildren(d,u,y,g).pipe($e(w=>new Ar(g,w)));if(0===u.length&&0===_.length)return he(new Ar(g,[]));const v=xr(i)===o;return this.processSegment(d,u,y,_,v?ve:o,!0,g).pipe($e(w=>new Ar(g,w instanceof Ar?[w]:[])))})):uc(r)))}getChildConfig(t,r,i){return r.children?he({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?he({routes:r._loadedRoutes,injector:r._loadedInjector}):function EZ(e,t,r,i){const s=t.canLoad;return void 0===s||0===s.length?he(!0):he(s.map(a=>{const c=cc(a,e);return vs(function cZ(e){return e&&Fu(e.canLoad)}(c)?c.canLoad(t,r):Ci(e,()=>c(t,r)))})).pipe(lc(),dO())}(t,r,i).pipe(ln(s=>s?this.configLoader.loadChildren(t,r).pipe(bn(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):function SZ(){return Cu(aO(!1,Kn.GuardRejected))}())):he({routes:[],injector:t})}}function VZ(e){const t=e.value.routeConfig;return t&&""===t.path}function pO(e){const t=[],r=new Set;for(const i of e){if(!VZ(i)){t.push(i);continue}const s=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...i.children),r.add(s)):t.push(i)}for(const i of r){const s=pO(i.children);t.push(new Ar(i.value,s))}return t.filter(i=>!r.has(i))}function gO(e){return e.data||{}}function mO(e){return e.resolve||{}}function yO(e){const t=e.children.map(r=>yO(r)).flat();return[e,...t]}function Y_(e){return ii(t=>{const r=e(t);return r?Wt(r).pipe($e(()=>t)):he(t)})}let vO=(()=>{class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ve);return i}getResolvedTitleForRoute(r){return r.data[Su]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:()=>O(qZ),providedIn:"root"})}}return e})(),qZ=(()=>{class e extends vO{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(z(Qq))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const dc=new q("",{providedIn:"root",factory:()=>({})});let _O=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ns({type:e,selectors:[["ng-component"]],standalone:!0,features:[xh],decls:1,vars:0,template:function(i,s){1&i&&or(0,"router-outlet")},dependencies:[G_],encapsulation:2})}}return e})();function J_(e){const t=e.children&&e.children.map(J_),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==ve&&(r.component=_O),r}const fc=new q("");let X_=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(SM)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return he(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=vs(r.loadComponent()).pipe($e(wO),bn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),hp(()=>{this.componentLoaders.delete(r)})),s=new MR(i,()=>new et).pipe(R_());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return he({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function GZ(e,t,r,i){return vs(e.loadChildren()).pipe($e(wO),ln(s=>s instanceof L1||Array.isArray(s)?he(s):Wt(t.compileModuleAsync(s))),$e(s=>{i&&i(e);let o,a,c=!1;return Array.isArray(s)?(a=s,!0):(o=s.create(r).injector,a=o.get(fc,[],{optional:!0,self:!0}).flat()),{routes:a.map(J_),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(hp(()=>{this.childrenLoaders.delete(i)})),a=new MR(o,()=>new et).pipe(R_());return this.childrenLoaders.set(i,a),a}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wO(e){return function WZ(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let ew=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:()=>O(ZZ),providedIn:"root"})}}return e})(),ZZ=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const bO=new q(""),EO=new q("");function KZ(e,t,r){const i=e.get(EO),s=e.get(cn);return e.get(Re).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o;const a=new Promise(u=>{o=u}),c=s.startViewTransition(()=>(o(),function QZ(e){return new Promise(t=>{yh({read:()=>setTimeout(t)},{injector:e})})}(e))),{onViewTransitionCreated:l}=i;return l&&Ci(e,()=>l({transition:c,from:t,to:r})),a})}const CO=new q("");let Np=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=O(X_),this.environmentInjector=O(xn),this.urlSerializer=O(ic),this.rootContexts=O(Ou),this.location=O(yu),this.inputBindingEnabled=null!==O(Sp,{optional:!0}),this.titleStrategy=O(vO),this.options=O(dc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(ew),this.createViewTransition=O(bO,{optional:!0}),this.navigationErrorHandler=O(CO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new VW(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new BW(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Fn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Mu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(o=>0!==o.id),$e(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ii(o=>{let a=!1,c=!1;return he(o).pipe(ii(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Kn.SupersededByNewNavigation),ri;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:"string"==typeof l.extras.browserUrl?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new sc(l.id,this.urlSerializer.serialize(l.rawUrl),f,bp.IgnoredSameUrlNavigation)),l.resolve(!1),ri}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return he(l).pipe(ii(f=>{const h=this.transitions?.getValue();return this.events.next(new Nu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?ri:Promise.resolve(f)}),function UZ(e,t,r,i,s,o){return ln(a=>function PZ(e,t,r,i,s,o,a="emptyOnly"){return new FZ(e,t,r,i,s,a,o).recognize()}(e,t,r,i,a.extractedUrl,s,o).pipe($e(({state:c,tree:l})=>({...a,targetSnapshot:c,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),bn(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new YR(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=l,y=new Nu(f,this.urlSerializer.serialize(h),p,g);this.events.next(y);const _=tO(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:_,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,he(o)}{const f="";return this.events.next(new sc(l.id,this.urlSerializer.serialize(l.extractedUrl),f,bp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ri}}),bn(l=>{const u=new kW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),$e(l=>(this.currentTransition=o={...l,guards:rZ(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function pZ(e,t){return ln(r=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:a}}=r;return 0===a.length&&0===o.length?he({...r,guardsResult:!0}):function gZ(e,t,r,i){return Wt(e).pipe(ln(s=>function bZ(e,t,r,i,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?he(o.map(c=>{const l=Ru(t)??s,u=cc(c,l);return vs(function dZ(e){return e&&Fu(e.canDeactivate)}(u)?u.canDeactivate(e,t,r,i):Ci(l,()=>u(e,t,r,i))).pipe(ys())})).pipe(lc()):he(!0)}(s.component,s.route,r,t,i)),ys(s=>!0!==s,!0))}(a,i,s,e).pipe(ln(c=>c&&function aZ(e){return"boolean"==typeof e}(c)?function mZ(e,t,r,i){return Wt(t).pipe(Du(s=>N_(function vZ(e,t){return null!==e&&t&&t(new UW(e)),he(!0)}(s.route.parent,i),function yZ(e,t){return null!==e&&t&&t(new $W(e)),he(!0)}(s.route,i),function wZ(e,t,r){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function iZ(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>AR(()=>he(a.guards.map(l=>{const u=Ru(a.node)??r,d=cc(l,u);return vs(function uZ(e){return e&&Fu(e.canActivateChild)}(d)?d.canActivateChild(i,e):Ci(u,()=>d(i,e))).pipe(ys())})).pipe(lc())));return he(o).pipe(lc())}(e,s.path,r),function _Z(e,t,r){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return he(!0);const s=i.map(o=>AR(()=>{const a=Ru(t)??r,c=cc(o,a);return vs(function lZ(e){return e&&Fu(e.canActivate)}(c)?c.canActivate(t,e):Ci(a,()=>c(t,e))).pipe(ys())}));return he(s).pipe(lc())}(e,s.route,r))),ys(s=>!0!==s,!0))}(i,o,e,t):he(c)),$e(c=>({...r,guardsResult:c})))})}(this.environmentInjector,l=>this.events.next(l)),bn(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&"boolean"!=typeof l.guardsResult)throw Tp(0,l.guardsResult);const u=new PW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Li(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Kn.GuardRejected),!1)),Y_(l=>{if(l.guards.canActivateChecks.length)return he(l).pipe(bn(u=>{const d=new LW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ii(u=>{let d=!1;return he(u).pipe(function jZ(e,t){return ln(r=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=r;if(!s.length)return he(r);const o=new Set(s.map(l=>l.route)),a=new Set;for(const l of o)if(!a.has(l))for(const u of yO(l))a.add(u);let c=0;return Wt(a).pipe(Du(l=>o.has(l)?function $Z(e,t,r,i){const s=e.routeConfig,o=e._resolve;return void 0!==s?.title&&!iO(s)&&(o[Su]=s.title),function HZ(e,t,r,i){const s=k_(e);if(0===s.length)return he({});const o={};return Wt(s).pipe(ln(a=>function zZ(e,t,r,i){const s=Ru(t)??i,o=cc(e,s);return vs(o.resolve?o.resolve(t,r):Ci(s,()=>o(t,r)))}(e[a],t,r,i).pipe(ys(),bn(c=>{if(c instanceof Z_)throw Tp(new gp,c);o[a]=c}))),O_(1),function iW(e){return $e(()=>e)}(o),Co(a=>uO(a)?ri:Cu(a)))}(o,e,t,i).pipe($e(a=>(e._resolvedData=a,e.data=Cp(e,e.parent,r).resolve,null)))}(l,i,e,t):(l.data=Cp(l,l.parent,e).resolve,he(void 0))),bn(()=>c++),O_(1),ln(l=>c===a.size?he(r):ri))})}(this.paramsInheritanceStrategy,this.environmentInjector),bn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Kn.NoDataFromResolver)}}))}),bn(u=>{const d=new FW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Y_(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(bn(h=>{d.component=h}),$e(()=>{})));for(const h of d.children)f.push(...u(h));return f};return M_(u(l.targetSnapshot.root)).pipe(fp(null),nc(1))}),Y_(()=>this.afterPreactivation()),ii(()=>{const{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Wt(d).pipe($e(()=>o)):he(o)}),$e(l=>{const u=function YW(e,t,r){const i=ku(e,t._root,r?r._root:void 0);return new eO(i,t)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},this.currentNavigation.targetRouterState=u,o}),bn(()=>{this.events.next(new U_)}),((e,t,r,i)=>$e(s=>(new nZ(t,s.targetRouterState,s.currentRouterState,r,i).activate(e),s)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),nc(1),bn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function sW(e){return qt((t,r)=>{Ir(e).subscribe(St(r,()=>r.complete(),bm)),!r.closed&&t.subscribe(r)})}(this.transitionAbortSubject.pipe(bn(l=>{throw l}))),hp(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Kn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Co(l=>{if(c=!0,cO(l))this.events.next(new Io(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function eZ(e){return cO(e)&&To(e.url)}(l)?this.events.next(new Ep(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{const u=new V_(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{const d=Ci(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Z_){const{message:f,cancellationCode:h}=Tp(0,d);this.events.next(new Io(o.id,this.urlSerializer.serialize(o.extractedUrl),f,h)),this.events.next(new Ep(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);const f=r.errorHandler(l);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ri}))}))}cancelNavigationTransition(r,i,s){const o=new Io(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YZ(e){return e!==Mu}let JZ=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:()=>O(eK),providedIn:"root"})}}return e})();class XZ{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let eK=(()=>{class e extends XZ{static{this.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gt(e)))(s||e)}})()}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),DO=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:()=>O(tK),providedIn:"root"})}}return e})(),tK=(()=>{class e extends DO{constructor(){super(...arguments),this.location=O(yu),this.urlSerializer=O(ic),this.options=O(dc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(ew),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Do,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tO(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Nu)this.stateMemento=this.createStateMemento();else if(r instanceof sc)this.rawUrlTree=i.initialUrl;else if(r instanceof YR){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof U_?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Io&&(r.code===Kn.GuardRejected||r.code===Kn.NoDataFromResolver)?this.restoreHistory(i):r instanceof V_?this.restoreHistory(i,!0):r instanceof Fi&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const s=r instanceof Do?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&0===o&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}static{this.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gt(e)))(s||e)}})()}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Bu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Bu||{});function SO(e,t){e.events.pipe(Li(r=>r instanceof Fi||r instanceof Io||r instanceof V_||r instanceof sc),$e(r=>r instanceof Fi||r instanceof sc?Bu.COMPLETE:r instanceof Io&&(r.code===Kn.Redirect||r.code===Kn.SupersededByNewNavigation)?Bu.REDIRECTING:Bu.FAILED),Li(r=>r!==Bu.REDIRECTING),nc(1)).subscribe(()=>{t()})}function nK(e){throw e}const rK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ai=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(pM),this.stateManager=O(DO),this.options=O(dc,{optional:!0})||{},this.pendingTasks=O(io),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(Np),this.urlSerializer=O(ic),this.location=O(yu),this.urlHandlingStrategy=O(ew),this._events=new et,this.errorHandler=this.options.errorHandler||nK,this.navigated=!1,this.routeReuseStrategy=O(JZ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(fc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Sp,{optional:!0}),this.eventsSubscription=new _t,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==s&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Io&&i.code!==Kn.Redirect&&i.code!==Kn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Fi)this.navigated=!0;else if(i instanceof Ep){const a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l={browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||"eager"===this.urlUpdateStrategy||YZ(s.source),...a};this.scheduleNavigation(c,Mu,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function oK(e){return!(e instanceof U_||e instanceof Ep)})(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(J_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=zR(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||"/"!==r[0][0])&&(r=[]),f=this.currentUrlTree.root}return qR(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=To(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Mu,null,i)}navigate(r,i={skipLocationChange:!1}){return function sK(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new A(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(s=!0===i?{...rK}:!1===i?{...iK}:i,To(r))return PR(this.currentUrlTree,r,s);const o=this.parseUrl(r);return PR(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(null!=o&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return SO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class TO{}let lK=(()=>{class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Li(r=>r instanceof Fi),Du(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=dh(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Wt(s).pipe(Eu())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):he(null);const o=s.pipe(ln(a=>null===a?he(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?Wt([o,this.loader.loadComponent(i)]).pipe(Eu()):o})}static{this.\u0275fac=function(i){return new(i||e)(z(ai),z(SM),z(xn),z(TO),z(X_))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const nw=new q("");let IO=(()=>{class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Nu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Fi?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof sc&&r.code===bp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof JR&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new JR(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){!function aI(){throw new Error("invalid")}()}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();function ci(e,t){return{\u0275kind:e,\u0275providers:t}}function AO(){const e=O(At);return t=>{const r=e.get(ar);if(t!==r.components[0])return;const i=e.get(ai),s=e.get(MO);1===e.get(rw)&&i.initialNavigation(),e.get(NO,null,Te.Optional)?.setUpPreloading(),e.get(nw,null,Te.Optional)?.init(),i.resetRootComponentType(r.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const MO=new q("",{factory:()=>new et}),rw=new q("",{providedIn:"root",factory:()=>1}),NO=new q("");function hK(e){return ci(0,[{provide:NO,useExisting:lK},{provide:TO,useExisting:e}])}function gK(e){return ci(9,[{provide:bO,useValue:KZ},{provide:EO,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const RO=new q("ROUTER_FORROOT_GUARD"),mK=[yu,{provide:ic,useClass:gp},ai,Ou,{provide:ac,useFactory:function xO(e){return e.routerState.root},deps:[ai]},X_,[]];let OO=(()=>{class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[mK,[],{provide:fc,multi:!0,useValue:r},{provide:RO,useFactory:wK,deps:[[ai,new Jd,new Xd]]},{provide:dc,useValue:i||{}},i?.useHash?{provide:bo,useClass:R9}:{provide:bo,useClass:yN},{provide:nw,useFactory:()=>{const e=O(Q7),t=O(Re),r=O(dc),i=O(Np),s=O(ic);return r.scrollOffset&&e.setOffset(r.scrollOffset),new IO(s,i,e,t,r)}},i?.preloadingStrategy?hK(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?bK(i):[],i?.bindToComponentInputs?ci(8,[sO,{provide:Sp,useExisting:sO}]).\u0275providers:[],i?.enableViewTransitions?gK().\u0275providers:[],[{provide:kO,useFactory:AO},{provide:kh,multi:!0,useExisting:kO}]]}}static forChild(r){return{ngModule:e,providers:[{provide:fc,multi:!0,useValue:r}]}}static{this.\u0275fac=function(i){return new(i||e)(z(RO,8))}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({})}}return e})();function wK(e){return"guarded"}function bK(e){return["disabled"===e.initialNavigation?ci(3,[{provide:B0,multi:!0,useFactory:()=>{const t=O(ai);return()=>{t.setUpLocationChangeListener()}}},{provide:rw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ci(2,[{provide:rw,useValue:0},{provide:B0,multi:!0,deps:[At],useFactory:t=>{const r=t.get(M9,Promise.resolve());return()=>r.then(()=>new Promise(i=>{const s=t.get(ai),o=t.get(MO);SO(s,()=>{i(!0)}),t.get(Np).afterPreactivation=()=>(i(!0),o.closed?he(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const kO=new q("");function PO(e,t,r,i,s,o,a){try{var c=e[o](a),l=c.value}catch(u){return void r(u)}c.done?t(l):Promise.resolve(l).then(i,s)}function U(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var o=e.apply(t,r);function a(l){PO(o,i,s,a,c,"next",l)}function c(l){PO(o,i,s,a,c,"throw",l)}a(void 0)})}}function _s(e){var t,r,i,s=2;for(typeof Symbol<"u"&&(r=Symbol.asyncIterator,i=Symbol.iterator);s--;){if(r&&null!=(t=e[r]))return t.call(e);if(i&&null!=(t=e[i]))return new Rp(t.call(e));r="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Rp(e){function t(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var i=r.done;return Promise.resolve(r.value).then(function(s){return{value:s,done:i}})}return(Rp=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var s=this.s.return;return void 0===s?Promise.resolve({value:i,done:!0}):t(s.apply(this.s,arguments))},throw:function(i){var s=this.s.return;return void 0===s?Promise.reject(i):t(s.apply(this.s,arguments))}},new Rp(e)}class CK extends _t{constructor(t,r){super()}schedule(t,r=0){return this}}const Op={setInterval(e,t,...r){const{delegate:i}=Op;return i?.setInterval?i.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=Op;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},LO={now:()=>(LO.delegate||Date).now(),delegate:void 0};class Vu{constructor(t,r=Vu.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,i){return new this.schedulerActionCtor(this,t).schedule(i,r)}}Vu.now=LO.now;const TK=new class SK extends Vu{constructor(t,r=Vu.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}}}(class DK extends CK{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var i;if(this.closed)return this;this.state=t;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,r),this}requestAsyncId(t,r,i=0){return Op.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,r,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return r;null!=r&&Op.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,r);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let s,i=!1;try{this.work(t)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:i}=r;this.work=this.state=this.scheduler=null,this.pending=!1,jd(i,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}}),xK=Ud(e=>function(r=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r});function MK(e){throw new xK(e)}function iw(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function sw(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Uu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const ow="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,aw=e=>e instanceof Uint8Array,cw=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),li=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function ju(e){if("string"==typeof e&&(e=function kK(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!aw(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class VO{clone(){return this._cloneInto()}}function FK(e){const t=i=>e().update(ju(i)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function UO(e=32){if(ow&&"function"==typeof ow.getRandomValues)return ow.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class VK extends VO{constructor(t,r,i,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=cw(this.buffer)}update(t){Uu(this);const{view:r,buffer:i,blockLen:s}=this,o=(t=ju(t)).length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c!==s)i.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(r,0),this.pos=0);else{const l=cw(t);for(;s<=o-a;a+=s)this.process(l,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Uu(this),function BO(e,t){sw(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(t,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let f=a;f<s;f++)r[f]=0;(function BK(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),c=Number(r&o),u=i?0:4;e.setUint32(t+(i?4:0),a,i),e.setUint32(t+u,c,i)})(i,s-8,BigInt(8*this.length),o),this.process(i,0);const c=cw(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const i=t.slice(0,r);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:c}=this;return t.length=s,t.pos=c,t.finished=o,t.destroyed=a,s%r&&t.buffer.set(i),t}}const UK=(e,t,r)=>e&t^~e&r,jK=(e,t,r)=>e&t^e&r^t&r,$K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ws=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bs=new Uint32Array(64);class jO extends VK{constructor(){super(64,32,8,!1),this.A=0|ws[0],this.B=0|ws[1],this.C=0|ws[2],this.D=0|ws[3],this.E=0|ws[4],this.F=0|ws[5],this.G=0|ws[6],this.H=0|ws[7]}get(){const{A:t,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;return[t,r,i,s,o,a,c,l]}set(t,r,i,s,o,a,c,l){this.A=0|t,this.B=0|r,this.C=0|i,this.D=0|s,this.E=0|o,this.F=0|a,this.G=0|c,this.H=0|l}process(t,r){for(let f=0;f<16;f++,r+=4)bs[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=bs[f-15],p=bs[f-2],g=li(h,7)^li(h,18)^h>>>3,m=li(p,17)^li(p,19)^p>>>10;bs[f]=m+bs[f-7]+g+bs[f-16]|0}let{A:i,B:s,C:o,D:a,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const p=d+(li(c,6)^li(c,11)^li(c,25))+UK(c,l,u)+$K[f]+bs[f]|0,m=(li(i,2)^li(i,13)^li(i,22))+jK(i,s,o)|0;d=u,u=l,l=c,c=a+p|0,a=o,o=s,s=i,i=p+m|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,c,l,u,d)}roundClean(){bs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const uw=FK(()=>new jO),kp=(BigInt(0),BigInt(1)),HK=BigInt(2),Pp=e=>e instanceof Uint8Array,zK=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hc(e){if(!Pp(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=zK[e[r]];return t}function HO(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function pc(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let i=0;i<r.length;i++){const s=2*i,o=e.slice(s,s+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[i]=a}return r}function Rn(e){return HO(hc(e))}function dw(e){if(!Pp(e))throw new Error("Uint8Array expected");return HO(hc(Uint8Array.from(e).reverse()))}function Es(e,t){return pc(e.toString(16).padStart(2*t,"0"))}function fw(e,t){return Es(e,t).reverse()}function un(e,t,r){let i;if("string"==typeof t)try{i=pc(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!Pp(t))throw new Error(`${e} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const s=i.length;if("number"==typeof r&&s!==r)throw new Error(`${e} expected ${r} bytes, got ${s}`);return i}function xo(...e){const t=new Uint8Array(e.reduce((i,s)=>i+s.length,0));let r=0;return e.forEach(i=>{if(!Pp(i))throw new Error("Uint8Array expected");t.set(i,r),r+=i.length}),t}const hw=e=>(HK<<BigInt(e-1))-kp,pw=e=>new Uint8Array(e),zO=e=>Uint8Array.from(e);function qO(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let i=pw(e),s=pw(e),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},c=(...f)=>r(s,i,...f),l=(f=pw())=>{s=c(zO([0]),f),i=c(),0!==f.length&&(s=c(zO([1]),f),i=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){i=c();const p=i.slice();h.push(p),f+=i.length}return xo(...h)};return(f,h)=>{let p;for(a(),l(f);!(p=h(u()));)l();return a(),p}}const GK={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function $u(e,t,r={}){const i=(s,o,a)=>{const c=GK[o];if("function"!=typeof c)throw new Error(`Invalid validator "${o}", expected function`);const l=e[s];if(!(a&&void 0===l||c(l,e)))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${o}`)};for(const[s,o]of Object.entries(t))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return e}const jt=BigInt(0),Ye=BigInt(1),Cs=BigInt(2),WK=BigInt(3),gw=BigInt(4),GO=BigInt(5),WO=BigInt(8);function $t(e,t){const r=e%t;return r>=jt?r:t+r}function QK(e,t,r){if(r<=jt||t<jt)throw new Error("Expected power/modulo > 0");if(r===Ye)return jt;let i=Ye;for(;t>jt;)t&Ye&&(i=i*e%r),e=e*e%r,t>>=Ye;return i}function ur(e,t,r){let i=e;for(;t-- >jt;)i*=i,i%=r;return i}function Lp(e,t){if(e===jt||t<=jt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=$t(e,t),i=t,s=jt,o=Ye,a=Ye,c=jt;for(;r!==jt;){const u=i/r,d=i%r,f=s-a*u,h=o-c*u;i=r,r=d,s=a,o=c,a=f,c=h}if(i!==Ye)throw new Error("invert: does not exist");return $t(s,t)}BigInt(9),BigInt(16);const XK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mw(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function ZO(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function KO(e){const t=ZO(e);return t+Math.ceil(t/2)}class QO extends VO{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,function FO(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");iw(e.outputLen),iw(e.blockLen)}(t);const i=ju(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?t.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(t){return Uu(this),this.iHash.update(t),this}digestInto(t){Uu(this),sw(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:c}=this;return t.finished=s,t.destroyed=o,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const YO=(e,t,r)=>new QO(e,t).update(r).digest();YO.create=(e,t)=>new QO(e,t);const sQ=BigInt(0),yw=BigInt(1);function JO(e){return function eQ(e){$u(e,XK.reduce((i,s)=>(i[s]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),$u(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mw(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:cQ,aT:lQ}=Gc,Ao={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Ao;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],i=e.subarray(2,r+2);if(!r||i.length!==r)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:cQ(i),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Ao,r="string"==typeof e?lQ(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:s,l:o}=Ao._parseInt(r.subarray(2)),{d:a,l:c}=Ao._parseInt(o);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(e){const t=u=>8&Number.parseInt(u[0],16)?"00"+u:u,r=u=>{const d=u.toString(16);return 1&d.length?`0${d}`:d},i=t(r(e.s)),s=t(r(e.r)),o=i.length/2,a=s.length/2,c=r(o),l=r(a);return`30${r(a+o+4)}02${l}${s}02${c}${i}`}},Mr=BigInt(0),gt=BigInt(1),Fp=(BigInt(2),BigInt(3));function fQ(e){const t=function dQ(e){const t=JO(e);return $u(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:i}=t,s=r.BYTES+1,o=2*r.BYTES+1;function c(T){return $t(T,i)}function l(T){return Lp(T,i)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=function uQ(e){const t=function aQ(e){const t=JO(e);$u(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:s}=t;if(r){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,i=t.toBytes||((g,m,y)=>{const _=m.toAffine();return xo(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),s=t.fromBytes||(g=>{const m=g.subarray(1);return{x:r.fromBytes(m.subarray(0,r.BYTES)),y:r.fromBytes(m.subarray(r.BYTES,2*r.BYTES))}});function o(g){const{a:m,b:y}=t,_=r.sqr(g),v=r.mul(_,g);return r.add(r.add(v,r.mul(g,m)),y)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return"bigint"==typeof g&&Mr<g&&g<t.n}function c(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(g){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:_,n:v}=t;if(m&&"bigint"!=typeof g){if(g instanceof Uint8Array&&(g=hc(g)),"string"!=typeof g||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(2*y,"0")}let w;try{w="bigint"==typeof g?g:Rn(un("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return _&&(w=$t(w,v)),c(w),w}const u=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,y,_){if(this.px=m,this.py=y,this.pz=_,null==m||!r.isValid(m))throw new Error("x required");if(null==y||!r.isValid(y))throw new Error("y required");if(null==_||!r.isValid(_))throw new Error("z required")}static fromAffine(m){const{x:y,y:_}=m||{};if(!m||!r.isValid(y)||!r.isValid(_))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");const v=w=>r.eql(w,r.ZERO);return v(y)&&v(_)?f.ZERO:new f(y,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=r.invertBatch(m.map(_=>_.pz));return m.map((_,v)=>_.toAffine(y[v])).map(f.fromAffine)}static fromHex(m){const y=f.fromAffine(s(un("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return f.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!r.isValid(m)||!r.isValid(y))throw new Error("bad point: x or y not FE");const _=r.sqr(y),v=o(m);if(!r.eql(_,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){d(m);const{px:y,py:_,pz:v}=this,{px:w,py:b,pz:D}=m,C=r.eql(r.mul(y,D),r.mul(w,v)),S=r.eql(r.mul(_,D),r.mul(b,v));return C&&S}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:m,b:y}=t,_=r.mul(y,Fp),{px:v,py:w,pz:b}=this;let D=r.ZERO,C=r.ZERO,S=r.ZERO,I=r.mul(v,v),P=r.mul(w,w),H=r.mul(b,b),V=r.mul(v,w);return V=r.add(V,V),S=r.mul(v,b),S=r.add(S,S),D=r.mul(m,S),C=r.mul(_,H),C=r.add(D,C),D=r.sub(P,C),C=r.add(P,C),C=r.mul(D,C),D=r.mul(V,D),S=r.mul(_,S),H=r.mul(m,H),V=r.sub(I,H),V=r.mul(m,V),V=r.add(V,S),S=r.add(I,I),I=r.add(S,I),I=r.add(I,H),I=r.mul(I,V),C=r.add(C,I),H=r.mul(w,b),H=r.add(H,H),I=r.mul(H,V),D=r.sub(D,I),S=r.mul(H,P),S=r.add(S,S),S=r.add(S,S),new f(D,C,S)}add(m){d(m);const{px:y,py:_,pz:v}=this,{px:w,py:b,pz:D}=m;let C=r.ZERO,S=r.ZERO,I=r.ZERO;const P=t.a,H=r.mul(t.b,Fp);let V=r.mul(y,w),$=r.mul(_,b),X=r.mul(v,D),L=r.add(y,_),T=r.add(w,b);L=r.mul(L,T),T=r.add(V,$),L=r.sub(L,T),T=r.add(y,v);let E=r.add(w,D);return T=r.mul(T,E),E=r.add(V,X),T=r.sub(T,E),E=r.add(_,v),C=r.add(b,D),E=r.mul(E,C),C=r.add($,X),E=r.sub(E,C),I=r.mul(P,T),C=r.mul(H,X),I=r.add(C,I),C=r.sub($,I),I=r.add($,I),S=r.mul(C,I),$=r.add(V,V),$=r.add($,V),X=r.mul(P,X),T=r.mul(H,T),$=r.add($,X),X=r.sub(V,X),X=r.mul(P,X),T=r.add(T,X),V=r.mul($,T),S=r.add(S,V),V=r.mul(E,T),C=r.mul(L,C),C=r.sub(C,V),V=r.mul(L,$),I=r.mul(E,I),I=r.add(I,V),new f(C,S,I)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,u,m,y=>{const _=r.invertBatch(y.map(v=>v.pz));return y.map((v,w)=>v.toAffine(_[w])).map(f.fromAffine)})}multiplyUnsafe(m){const y=f.ZERO;if(m===Mr)return y;if(c(m),m===gt)return this;const{endo:_}=t;if(!_)return p.unsafeLadder(this,m);let{k1neg:v,k1:w,k2neg:b,k2:D}=_.splitScalar(m),C=y,S=y,I=this;for(;w>Mr||D>Mr;)w&gt&&(C=C.add(I)),D&gt&&(S=S.add(I)),I=I.double(),w>>=gt,D>>=gt;return v&&(C=C.negate()),b&&(S=S.negate()),S=new f(r.mul(S.px,_.beta),S.py,S.pz),C.add(S)}multiply(m){c(m);let _,v,y=m;const{endo:w}=t;if(w){const{k1neg:b,k1:D,k2neg:C,k2:S}=w.splitScalar(y);let{p:I,f:P}=this.wNAF(D),{p:H,f:V}=this.wNAF(S);I=p.constTimeNegate(b,I),H=p.constTimeNegate(C,H),H=new f(r.mul(H.px,w.beta),H.py,H.pz),_=I.add(H),v=P.add(V)}else{const{p:b,f:D}=this.wNAF(y);_=b,v=D}return f.normalizeZ([_,v])[0]}multiplyAndAddUnsafe(m,y,_){const v=f.BASE,w=(D,C)=>C!==Mr&&C!==gt&&D.equals(v)?D.multiply(C):D.multiplyUnsafe(C),b=w(this,y).add(w(m,_));return b.is0()?void 0:b}toAffine(m){const{px:y,py:_,pz:v}=this,w=this.is0();null==m&&(m=w?r.ONE:r.inv(v));const b=r.mul(y,m),D=r.mul(_,m),C=r.mul(v,m);if(w)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x:b,y:D}}isTorsionFree(){const{h:m,isTorsionFree:y}=t;if(m===gt)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=t;return m===gt?this:y?y(f,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return this.assertValidity(),i(f,this,m)}toHex(m=!0){return hc(this.toRawBytes(m))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,p=function oQ(e,t){const r=(s,o)=>{const a=o.negate();return s?a:o},i=s=>({windows:Math.ceil(t/s)+1,windowSize:2**(s-1)});return{constTimeNegate:r,unsafeLadder(s,o){let a=e.ZERO,c=s;for(;o>sQ;)o&yw&&(a=a.add(c)),c=c.double(),o>>=yw;return a},precomputeWindow(s,o){const{windows:a,windowSize:c}=i(o),l=[];let u=s,d=u;for(let f=0;f<a;f++){d=u,l.push(d);for(let h=1;h<c;h++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(s,o,a){const{windows:c,windowSize:l}=i(s);let u=e.ZERO,d=e.BASE;const f=BigInt(2**s-1),h=2**s,p=BigInt(s);for(let g=0;g<c;g++){const m=g*l;let y=Number(a&f);a>>=p,y>l&&(y-=h,a+=yw);const _=m,v=m+Math.abs(y)-1,b=y<0;0===y?d=d.add(r(g%2!=0,o[_])):u=u.add(r(b,o[v]))}return{p:u,f:d}},wNAFCached(s,o,a,c){const l=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,l),1!==l&&o.set(s,c(u))),this.wNAF(l,u,a)}}}(f,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}({...t,toBytes(T,E,x){const R=E.toAffine(),M=r.toBytes(R.x),W=xo;return x?W(Uint8Array.from([E.hasEvenY()?2:3]),M):W(Uint8Array.from([4]),M,r.toBytes(R.y))},fromBytes(T){const E=T.length,x=T[0],R=T.subarray(1);if(E!==s||2!==x&&3!==x){if(E===o&&4===x)return{x:r.fromBytes(R.subarray(0,r.BYTES)),y:r.fromBytes(R.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${E} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}{const M=Rn(R);if(!function a(T){return Mr<T&&T<r.ORDER}(M))throw new Error("Point is not on curve");const W=f(M);let J=r.sqrt(W);return!(1&~x)!=((J&gt)===gt)&&(J=r.neg(J)),{x:M,y:J}}}}),p=T=>hc(Es(T,t.nByteLength));function g(T){return T>i>>gt}const y=(T,E,x)=>Rn(T.slice(E,x));class _{constructor(E,x,R){this.r=E,this.s=x,this.recovery=R,this.assertValidity()}static fromCompact(E){const x=t.nByteLength;return E=un("compactSignature",E,2*x),new _(y(E,0,x),y(E,x,2*x))}static fromDER(E){const{r:x,s:R}=Ao.toSig(un("DER",E));return new _(x,R)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new _(this.r,this.s,E)}recoverPublicKey(E){const{r:x,s:R,recovery:M}=this,W=S(un("msgHash",E));if(null==M||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const J=2===M||3===M?x+t.n:x;if(J>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Se=u.fromHex((1&M?"03":"02")+p(J)),de=l(J),vt=c(-W*de),pt=c(R*de),Me=u.BASE.multiplyAndAddUnsafe(Se,vt,pt);if(!Me)throw new Error("point at infinify");return Me.assertValidity(),Me}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return pc(this.toDERHex())}toDERHex(){return Ao.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return pc(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(T){try{return d(T),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const T=KO(t.n);return function iQ(e,t,r=!1){const i=e.length,s=ZO(t),o=KO(t);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const c=$t(r?Rn(e):dw(e),t-Ye)+Ye;return r?fw(c,s):Es(c,s)}(t.randomBytes(T),t.n)},precompute:(T=8,E=u.BASE)=>(E._setWindowSize(T),E.multiply(BigInt(3)),E)};function b(T){const E=T instanceof Uint8Array,x="string"==typeof T,R=(E||x)&&T.length;return E?R===s||R===o:x?R===2*s||R===2*o:T instanceof u}const C=t.bits2int||function(T){const E=Rn(T),x=8*T.length-t.nBitLength;return x>0?E>>BigInt(x):E},S=t.bits2int_modN||function(T){return c(C(T))},I=hw(t.nBitLength);function P(T){if("bigint"!=typeof T)throw new Error("bigint expected");if(!(Mr<=T&&T<I))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Es(T,t.nByteLength)}const V={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function w(T,E=!0){return u.fromPrivateKey(T).toRawBytes(E)},getSharedSecret:function D(T,E,x=!0){if(b(T))throw new Error("first arg must be private key");if(!b(E))throw new Error("second arg must be public key");return u.fromHex(E).multiply(d(T)).toRawBytes(x)},sign:function X(T,E,x=V){const{seed:R,k2sig:M}=function H(T,E,x=V){if(["recovered","canonical"].some(ke=>ke in x))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:M}=t;let{lowS:W,prehash:J,extraEntropy:ee}=x;null==W&&(W=!0),T=un("msgHash",T),J&&(T=un("prehashed msgHash",R(T)));const Se=S(T),de=d(E),vt=[P(de),P(Se)];if(null!=ee){const ke=!0===ee?M(r.BYTES):ee;vt.push(un("extraEntropy",ke))}const pt=xo(...vt),Me=Se;return{seed:pt,k2sig:function at(ke){const Ln=C(ke);if(!h(Ln))return;const Xt=l(Ln),en=u.BASE.multiply(Ln).toAffine(),Vr=c(en.x);if(Vr===Mr)return;const Qo=c(Xt*c(Me+Vr*de));if(Qo===Mr)return;let Rd=(en.x===Vr?0:2)|Number(en.y&gt),h3=Qo;return W&&g(Qo)&&(h3=function m(T){return g(T)?c(-T):T}(Qo),Rd^=1),new _(Vr,h3,Rd)}}}(T,E,x);return qO(t.hash.outputLen,t.nByteLength,t.hmac)(R,M)},verify:function L(T,E,x,R=$){const M=T;if(E=un("msgHash",E),x=un("publicKey",x),"strict"in R)throw new Error("options.strict was renamed to lowS");const{lowS:W,prehash:J}=R;let ee,Se;try{if("string"==typeof M||M instanceof Uint8Array)try{ee=_.fromDER(M)}catch(en){if(!(en instanceof Ao.Err))throw en;ee=_.fromCompact(M)}else{if("object"!=typeof M||"bigint"!=typeof M.r||"bigint"!=typeof M.s)throw new Error("PARSE");{const{r:en,s:Vr}=M;ee=new _(en,Vr)}}Se=u.fromHex(x)}catch(en){if("PARSE"===en.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&ee.hasHighS())return!1;J&&(E=t.hash(E));const{r:de,s:vt}=ee,pt=S(E),Me=l(vt),at=c(pt*Me),ke=c(de*Me),Ln=u.BASE.multiplyAndAddUnsafe(Se,at,ke)?.toAffine();return!!Ln&&c(Ln.x)===de},ProjectivePoint:u,Signature:_,utils:v}}function pQ(e){return{hash:e,hmac:(t,...r)=>YO(e,t,function PK(...e){const t=new Uint8Array(e.reduce((i,s)=>i+s.length,0));let r=0;return e.forEach(i=>{if(!aw(i))throw new Error("Uint8Array expected");t.set(i,r),r+=i.length}),t}(...r)),randomBytes:UO}}BigInt(4);const Bp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Vp=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ek=BigInt(1),Up=BigInt(2),tk=(e,t)=>(e+t/Up)/t;function nk(e){const t=Bp,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=ur(d,r,t)*d%t,h=ur(f,r,t)*d%t,p=ur(h,Up,t)*u%t,g=ur(p,s,t)*p%t,m=ur(g,o,t)*g%t,y=ur(m,c,t)*m%t,_=ur(y,l,t)*y%t,v=ur(_,c,t)*m%t,w=ur(v,r,t)*d%t,b=ur(w,a,t)*g%t,D=ur(b,i,t)*u%t,C=ur(D,Up,t);if(!vw.eql(vw.sqr(C),e))throw new Error("Cannot find square root");return C}const vw=function rQ(e,t,r=!1,i={}){if(e<=jt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=mw(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function JK(e){if(e%gw===WK){const t=(e+Ye)/gw;return function(i,s){const o=i.pow(s,t);if(!i.eql(i.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%WO===GO){const t=(e-GO)/WO;return function(i,s){const o=i.mul(s,Cs),a=i.pow(o,t),c=i.mul(s,a),l=i.mul(i.mul(c,Cs),a),u=i.mul(c,i.sub(l,i.ONE));if(!i.eql(i.sqr(u),s))throw new Error("Cannot find square root");return u}}return function YK(e){const t=(e-Ye)/Cs;let r,i,s;for(r=e-Ye,i=0;r%Cs===jt;r/=Cs,i++);for(s=Cs;s<e&&QK(s,t,e)!==e-Ye;s++);if(1===i){const a=(e+Ye)/gw;return function(l,u){const d=l.pow(u,a);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const o=(r+Ye)/Cs;return function(c,l){if(c.pow(l,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=i,d=c.pow(c.mul(c.ONE,s),r),f=c.pow(l,o),h=c.pow(l,r);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let p=1;for(let m=c.sqr(h);p<u&&!c.eql(m,c.ONE);p++)m=c.sqr(m);const g=c.pow(d,Ye<<BigInt(u-p-1));d=c.sqr(g),f=c.mul(f,g),h=c.mul(h,d),u=p}return f}}(e)}(e),c=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:hw(s),ZERO:jt,ONE:Ye,create:l=>$t(l,e),isValid:l=>{if("bigint"!=typeof l)throw new Error("Invalid field element: expected bigint, got "+typeof l);return jt<=l&&l<e},is0:l=>l===jt,isOdd:l=>(l&Ye)===Ye,neg:l=>$t(-l,e),eql:(l,u)=>l===u,sqr:l=>$t(l*l,e),add:(l,u)=>$t(l+u,e),sub:(l,u)=>$t(l-u,e),mul:(l,u)=>$t(l*u,e),pow:(l,u)=>function tQ(e,t,r){if(r<jt)throw new Error("Expected power > 0");if(r===jt)return e.ONE;if(r===Ye)return t;let i=e.ONE,s=t;for(;r>jt;)r&Ye&&(i=e.mul(i,s)),s=e.sqr(s),r>>=Ye;return i}(c,l,u),div:(l,u)=>$t(l*Lp(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Lp(l,e),sqrt:i.sqrt||(l=>a(c,l)),invertBatch:l=>function nQ(e,t){const r=new Array(t.length),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}(c,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>r?fw(l,o):Es(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?dw(l):Rn(l)}});return Object.freeze(c)}(Bp,void 0,void 0,{sqrt:nk}),gc=function gQ(e,t){const r=i=>fQ({...e,...pQ(i)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:vw,n:Vp,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Vp,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-ek*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),c=tk(o*e,t),l=tk(-i*e,t);let u=$t(e-c*r-l*s,t),d=$t(-c*i-l*o,t);const f=u>a,h=d>a;if(f&&(u=t-u),h&&(d=t-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},uw),jp=BigInt(0),rk=e=>"bigint"==typeof e&&jp<e&&e<Bp,ik={};function $p(e,...t){let r=ik[e];if(void 0===r){const i=uw(Uint8Array.from(e,s=>s.charCodeAt(0)));r=xo(i,i),ik[e]=r}return uw(xo(r,...t))}const _w=e=>e.toRawBytes(!0).slice(1),ww=e=>Es(e,32),bw=e=>$t(e,Bp),Hu=e=>$t(e,Vp),Ew=gc.ProjectivePoint;function Cw(e){let t=gc.utils.normPrivateKeyToScalar(e),r=Ew.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:Hu(-t),bytes:_w(r)}}function sk(e){if(!rk(e))throw new Error("bad x: need 0 < x < p");const t=bw(e*e);let i=nk(bw(t*e+BigInt(7)));i%Up!==jp&&(i=bw(-i));const s=new Ew(e,i,ek);return s.assertValidity(),s}function ok(...e){return Hu(Rn($p("BIP0340/challenge",...e)))}function ak(e,t,r){const i=un("signature",e,64),s=un("message",t),o=un("publicKey",r,32);try{const a=sk(Rn(o)),c=Rn(i.subarray(0,32));if(!rk(c))return!1;const l=Rn(i.subarray(32,64));if(!(e=>"bigint"==typeof e&&jp<e&&e<Vp)(l))return!1;const u=ok(ww(c),_w(a),s),d=((e,t,r)=>Ew.BASE.multiplyAndAddUnsafe(e,t,r))(a,l,Hu(-u));return!(!d||!d.hasEvenY()||d.toAffine().x!==c)}catch{return!1}}const zu={getPublicKey:function vQ(e){return Cw(e).bytes},sign:function _Q(e,t,r=UO(32)){const i=un("message",e),{bytes:s,scalar:o}=Cw(t),a=un("auxRand",r,32),c=ww(o^Rn($p("BIP0340/aux",a))),l=$p("BIP0340/nonce",c,s,i),u=Hu(Rn(l));if(u===jp)throw new Error("sign failed: k is zero");const{bytes:d,scalar:f}=Cw(u),h=ok(d,s,i),p=new Uint8Array(64);if(p.set(d,0),p.set(ww(Hu(f+h*o)),32),!ak(p,i,s))throw new Error("sign: Invalid signature produced");return p},verify:ak,utils:{randomPrivateKey:gc.utils.randomPrivateKey,lift_x:sk,pointToBytes:_w,numberToBytesBE:Es,bytesToNumberBE:Rn,taggedHash:$p,mod:$t}},Dw="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Sw=e=>e instanceof Uint8Array,Tw=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ui=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const wQ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function mt(e){if(!Sw(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=wQ[e[r]];return t}function Mo(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let i=0;i<r.length;i++){const s=2*i,o=e.slice(s,s+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[i]=a}return r}function No(e){if("string"==typeof e&&(e=function EQ(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Sw(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function Hp(...e){const t=new Uint8Array(e.reduce((i,s)=>i+s.length,0));let r=0;return e.forEach(i=>{if(!Sw(i))throw new Error("Uint8Array expected");t.set(i,r),r+=i.length}),t}class ck{clone(){return this._cloneInto()}}function lk(e){const t=i=>e().update(No(i)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function uk(e=32){if(Dw&&"function"==typeof Dw.getRandomValues)return Dw.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function xw(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function dk(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const di={number:xw,bool:function DQ(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:dk,hash:function SQ(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");xw(e.outputLen),xw(e.blockLen)},exists:function TQ(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function IQ(e,t){dk(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}};class AQ extends ck{constructor(t,r,i,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Tw(this.buffer)}update(t){di.exists(this);const{view:r,buffer:i,blockLen:s}=this,o=(t=No(t)).length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c!==s)i.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(r,0),this.pos=0);else{const l=Tw(t);for(;s<=o-a;a+=s)this.process(l,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){di.exists(this),di.output(t,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let f=a;f<s;f++)r[f]=0;(function xQ(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),c=Number(r&o),u=i?0:4;e.setUint32(t+(i?4:0),a,i),e.setUint32(t+u,c,i)})(i,s-8,BigInt(8*this.length),o),this.process(i,0);const c=Tw(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const i=t.slice(0,r);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:c}=this;return t.length=s,t.pos=c,t.finished=o,t.destroyed=a,s%r&&t.buffer.set(i),t}}const MQ=(e,t,r)=>e&t^~e&r,NQ=(e,t,r)=>e&t^e&r^t&r,RQ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ss=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ts=new Uint32Array(64);class fk extends AQ{constructor(){super(64,32,8,!1),this.A=0|Ss[0],this.B=0|Ss[1],this.C=0|Ss[2],this.D=0|Ss[3],this.E=0|Ss[4],this.F=0|Ss[5],this.G=0|Ss[6],this.H=0|Ss[7]}get(){const{A:t,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;return[t,r,i,s,o,a,c,l]}set(t,r,i,s,o,a,c,l){this.A=0|t,this.B=0|r,this.C=0|i,this.D=0|s,this.E=0|o,this.F=0|a,this.G=0|c,this.H=0|l}process(t,r){for(let f=0;f<16;f++,r+=4)Ts[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=Ts[f-15],p=Ts[f-2],g=ui(h,7)^ui(h,18)^h>>>3,m=ui(p,17)^ui(p,19)^p>>>10;Ts[f]=m+Ts[f-7]+g+Ts[f-16]|0}let{A:i,B:s,C:o,D:a,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const p=d+(ui(c,6)^ui(c,11)^ui(c,25))+MQ(c,l,u)+RQ[f]+Ts[f]|0,m=(ui(i,2)^ui(i,13)^ui(i,22))+NQ(i,s,o)|0;d=u,u=l,l=c,c=a+p|0,a=o,o=s,s=i,i=p+m|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,c,l,u,d)}roundClean(){Ts.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class OQ extends fk{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const mc=lk(()=>new fk);function Ro(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Nr(...e){const t=(s,o)=>a=>s(o(a));return{encode:Array.from(e).reverse().reduce((s,o)=>s?t(s,o.encode):o.encode,void 0),decode:e.reduce((s,o)=>s?t(s,o.decode):o.decode,void 0)}}function fi(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(Ro(r),r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if("string"!=typeof r)throw new Error(`alphabet.decode: not string element=${r}`);const i=e.indexOf(r);if(-1===i)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return i})}}}function hi(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let r of t)if("string"!=typeof r)throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function qu(e,t="="){if(Ro(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let i of r)if("string"!=typeof i)throw new Error(`padding.encode: non-string input=${i}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let s of r)if("string"!=typeof s)throw new Error(`padding.decode: non-string input=${s}`);let i=r.length;if(i*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;i>0&&r[i-1]===t;i--)if(!((i-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,i)}}}function hk(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function pk(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const s=[],o=Array.from(e);for(o.forEach(a=>{if(Ro(a),a<0||a>=t)throw new Error(`Wrong integer: ${a}`)});;){let a=0,c=!0;for(let l=i;l<o.length;l++){const u=o[l],d=t*a+u;if(!Number.isSafeInteger(d)||t*a/t!==a||d-u!=t*a)throw new Error("convertRadix: carry overflow");if(a=d%r,o[l]=Math.floor(d/r),!Number.isSafeInteger(o[l])||o[l]*r+a!==d)throw new Error("convertRadix: carry overflow");c&&(o[l]?c=!1:i=l)}if(s.push(a),c)break}for(let a=0;a<e.length-1&&0===e[a];a++)s.push(0);return s.reverse()}lk(()=>new OQ);const gk=(e,t)=>t?gk(t,e%t):e,zp=(e,t)=>e+(t-gk(e,t));function Aw(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(zp(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${zp(t,r)}`);let s=0,o=0;const a=2**r-1,c=[];for(const l of e){if(Ro(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(s=s<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)c.push((s>>o-r&a)>>>0);s&=2**o-1}if(s=s<<r-o&a,!i&&o>=t)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&c.push(s>>>0),c}function Bi(e,t=!1){if(Ro(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(zp(8,e)>32||zp(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Aw(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Aw(r,e,8,t))}}}function yk(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}Nr(Bi(4),fi("0123456789ABCDEF"),hi("")),Nr(Bi(5),fi("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),qu(5),hi("")),Nr(Bi(5),fi("0123456789ABCDEFGHIJKLMNOPQRSTUV"),qu(5),hi("")),Nr(Bi(5),fi("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),hi(""),hk(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Vi=Nr(Bi(6),fi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),qu(6),hi("")),Mw=(Nr(Bi(6),fi("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),qu(6),hi("")),e=>Nr(function mk(e){return Ro(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return pk(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(pk(t,e,256))}}}(58),fi(e),hi(""))),Nw=(Mw("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Mw("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Mw("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Nr(fi("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),hi(""))),wk=[996825010,642813549,513874426,1027748829,705979059];function Gu(e){const t=e>>25;let r=(33554431&e)<<5;for(let i=0;i<wk.length;i++)1==(t>>i&1)&&(r^=wk[i]);return r}function bk(e,t,r=1){const i=e.length;let s=1;for(let o=0;o<i;o++){const a=e.charCodeAt(o);if(a<33||a>126)throw new Error(`Invalid prefix (${e})`);s=Gu(s)^a>>5}s=Gu(s);for(let o=0;o<i;o++)s=Gu(s)^31&e.charCodeAt(o);for(let o of t)s=Gu(s)^o;for(let o=0;o<6;o++)s=Gu(s);return s^=r,Nw.encode(Aw([s%2**30],30,5,!1))}function Ek(e){const t="bech32"===e?1:734539939,r=Bi(5),i=r.decode,s=r.encode,o=yk(i);function c(d,f=90){if("string"!=typeof d)throw new Error("bech32.decode input should be string, not "+typeof d);if(d.length<8||!1!==f&&d.length>f)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${f})`);const h=d.toLowerCase();if(d!==h&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");const p=(d=h).lastIndexOf("1");if(0===p||-1===p)throw new Error('Letter "1" must be present between prefix and data only');const g=d.slice(0,p),m=d.slice(p+1);if(m.length<6)throw new Error("Data must be at least 6 characters long");const y=Nw.decode(m).slice(0,-6),_=bk(g,y,t);if(!m.endsWith(_))throw new Error(`Invalid checksum in ${d}: expected "${_}"`);return{prefix:g,words:y}}return{encode:function a(d,f,h=90){if("string"!=typeof d)throw new Error("bech32.encode prefix should be string, not "+typeof d);if(!Array.isArray(f)||f.length&&"number"!=typeof f[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof f);const p=d.length+7+f.length;if(!1!==h&&p>h)throw new TypeError(`Length ${p} exceeds limit ${h}`);return`${d=d.toLowerCase()}1${Nw.encode(f)}${bk(d,f,t)}`},decode:c,decodeToBytes:function u(d){const{prefix:f,words:h}=c(d,!1);return{prefix:f,words:h,bytes:i(h)}},decodeUnsafe:yk(c),fromWords:i,fromWordsUnsafe:o,toWords:s}}const pi=Ek("bech32");function yc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Rw(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function Dk(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function Ae(e,...t){if(!Dk(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Oo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wp(e,t){Ae(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ek("bech32m"),Nr(Bi(4),fi("0123456789abcdef"),hi(""),hk(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const Ie=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),vc=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Is(e){if("string"==typeof e)e=function GQ(e){if("string"!=typeof e)throw new Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Dk(e))throw new Error("Uint8Array expected, got "+typeof e);e=e.slice()}return e}function Zp(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}const xs=(e,t)=>(Object.assign(t,e),t);function ko(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),c=Number(r&o),u=i?0:4;e.setUint32(t+(i?4:0),a,i),e.setUint32(t+u,c,i)}const Pw=new Uint8Array(16),gi=Ie(Pw),KQ=(e,t,r,i)=>({s3:r<<31|i>>>1,s2:t<<31|r>>>1,s1:e<<31|t>>>1,s0:e>>>1^225<<24&-(1&i)}),dr=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class Tk{constructor(t,r){this.blockLen=16,this.outputLen=16,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,Ae(t=Is(t),16);const i=vc(t);let s=i.getUint32(0,!1),o=i.getUint32(4,!1),a=i.getUint32(8,!1),c=i.getUint32(12,!1);const l=[];for(let g=0;g<128;g++)l.push({s0:dr(s),s1:dr(o),s2:dr(a),s3:dr(c)}),({s0:s,s1:o,s2:a,s3:c}=KQ(s,o,a,c));const u=(e=r||1024)>65536?8:e>1024?4:2;var e;if(![1,2,4,8].includes(u))throw new Error(`ghash: wrong window size=${u}, should be 2, 4 or 8`);this.W=u;const f=128/u,h=this.windowSize=2**u,p=[];for(let g=0;g<f;g++)for(let m=0;m<h;m++){let y=0,_=0,v=0,w=0;for(let b=0;b<u;b++){if(!(m>>>u-b-1&1))continue;const{s0:C,s1:S,s2:I,s3:P}=l[u*g+b];y^=C,_^=S,v^=I,w^=P}p.push({s0:y,s1:_,s2:v,s3:w})}this.t=p}_updateBlock(t,r,i,s){t^=this.s0,r^=this.s1,i^=this.s2,s^=this.s3;const{W:o,t:a,windowSize:c}=this;let l=0,u=0,d=0,f=0;const h=(1<<o)-1;let p=0;for(const g of[t,r,i,s])for(let m=0;m<4;m++){const y=g>>>8*m&255;for(let _=8/o-1;_>=0;_--){const v=y>>>o*_&h,{s0:w,s1:b,s2:D,s3:C}=a[p*c+v];l^=w,u^=b,d^=D,f^=C,p+=1}}this.s0=l,this.s1=u,this.s2=d,this.s3=f}update(t){t=Is(t),Oo(this);const r=Ie(t),i=Math.floor(t.length/16),s=t.length%16;for(let o=0;o<i;o++)this._updateBlock(r[4*o+0],r[4*o+1],r[4*o+2],r[4*o+3]);return s&&(Pw.set(t.subarray(16*i)),this._updateBlock(gi[0],gi[1],gi[2],gi[3]),gi.fill(0)),this}destroy(){const{t}=this;for(const r of t)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(t){Oo(this),Wp(t,this),this.finished=!0;const{s0:r,s1:i,s2:s,s3:o}=this,a=Ie(t);return a[0]=r,a[1]=i,a[2]=s,a[3]=o,t}digest(){const t=new Uint8Array(16);return this.digestInto(t),this.destroy(),t}}class JQ extends Tk{constructor(t,r){const i=function QQ(e){e.reverse();const t=1&e[15];let r=0;for(let i=0;i<e.length;i++){const s=e[i];e[i]=s>>>1|r,r=(1&s)<<7}return e[0]^=225&-t,e}((t=Is(t)).slice());super(i,r),i.fill(0)}update(t){t=Is(t),Oo(this);const r=Ie(t),i=t.length%16,s=Math.floor(t.length/16);for(let o=0;o<s;o++)this._updateBlock(dr(r[4*o+3]),dr(r[4*o+2]),dr(r[4*o+1]),dr(r[4*o+0]));return i&&(Pw.set(t.subarray(16*s)),this._updateBlock(dr(gi[3]),dr(gi[2]),dr(gi[1]),dr(gi[0])),gi.fill(0)),this}digestInto(t){Oo(this),Wp(t,this),this.finished=!0;const{s0:r,s1:i,s2:s,s3:o}=this,a=Ie(t);return a[0]=r,a[1]=i,a[2]=s,a[3]=o,t.reverse()}}function Ik(e){const t=(i,s)=>e(s,i.length).update(Is(i)).digest(),r=e(new Uint8Array(16),0);return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=(i,s)=>e(i,s),t}Ik((e,t)=>new Tk(e,t)),Ik((e,t)=>new JQ(e,t)),new Uint8Array(16);const eY=283;function Fw(e){return e<<1^eY&-(e>>7)}function _c(e,t){let r=0;for(;t>0;t>>=1)r^=e&-(1&t),e=Fw(e);return r}const Bw=(()=>{let e=new Uint8Array(256);for(let r=0,i=1;r<256;r++,i^=Fw(i))e[r]=i;const t=new Uint8Array(256);t[0]=99;for(let r=0;r<255;r++){let i=e[255-r];i|=i<<8,t[e[r]]=255&(i^i>>4^i>>5^i>>6^i>>7^99)}return t})(),tY=Bw.map((e,t)=>Bw.indexOf(t)),nY=e=>e<<24|e>>>8,Vw=e=>e<<8|e>>>24;function Ak(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const r=new Uint32Array(256).map((u,d)=>t(e[d])),i=r.map(Vw),s=i.map(Vw),o=s.map(Vw),a=new Uint32Array(65536),c=new Uint32Array(65536),l=new Uint16Array(65536);for(let u=0;u<256;u++)for(let d=0;d<256;d++){const f=256*u+d;a[f]=r[u]^i[d],c[f]=s[u]^o[d],l[f]=e[u]<<8|e[d]}return{sbox:e,sbox2:l,T0:r,T1:i,T2:s,T3:o,T01:a,T23:c}}const Uw=Ak(Bw,e=>_c(e,3)<<24|e<<16|e<<8|_c(e,2)),Mk=Ak(tY,e=>_c(e,11)<<24|_c(e,13)<<16|_c(e,9)<<8|_c(e,14)),rY=(()=>{const e=new Uint8Array(16);for(let t=0,r=1;t<16;t++,r=Fw(r))e[t]=r;return e})();function $i(e){Ae(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:r}=Uw,i=Ie(e),s=i.length,o=c=>mi(r,c,c,c,c),a=new Uint32Array(t+28);a.set(i);for(let c=s;c<a.length;c++){let l=a[c-1];c%s==0?l=o(nY(l))^rY[c/s-1]:s>6&&c%s==4&&(l=o(l)),a[c]=a[c-s]^l}return a}function As(e,t,r,i,s,o){return e[r<<8&65280|i>>>8&255]^t[s>>>8&65280|o>>>24&255]}function mi(e,t,r,i,s){return e[255&t|65280&r]|e[i>>>16&255|s>>>16&65280]<<16}function On(e,t,r,i,s){const{sbox2:o,T01:a,T23:c}=Uw;let l=0;t^=e[l++],r^=e[l++],i^=e[l++],s^=e[l++];const u=e.length/4-2;for(let g=0;g<u;g++){const m=e[l++]^As(a,c,t,r,i,s),y=e[l++]^As(a,c,r,i,s,t),_=e[l++]^As(a,c,i,s,t,r),v=e[l++]^As(a,c,s,t,r,i);t=m,r=y,i=_,s=v}return{s0:e[l++]^mi(o,t,r,i,s),s1:e[l++]^mi(o,r,i,s,t),s2:e[l++]^mi(o,i,s,t,r),s3:e[l++]^mi(o,s,t,r,i)}}function Qp(e,t,r,i,s){const{sbox2:o,T01:a,T23:c}=Mk;let l=0;t^=e[l++],r^=e[l++],i^=e[l++],s^=e[l++];const u=e.length/4-2;for(let g=0;g<u;g++){const m=e[l++]^As(a,c,t,s,i,r),y=e[l++]^As(a,c,r,t,s,i),_=e[l++]^As(a,c,i,r,t,s),v=e[l++]^As(a,c,s,i,r,t);t=m,r=y,i=_,s=v}return{s0:e[l++]^mi(o,t,s,i,r),s1:e[l++]^mi(o,r,t,s,i),s2:e[l++]^mi(o,i,r,t,s),s3:e[l++]^mi(o,s,i,r,t)}}function wc(e,t){if(!t)return new Uint8Array(e);if(Ae(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}const Lk=xs({blockSize:16,nonceLength:16},function(t,r,i={}){Ae(t),Ae(r,16);const s=!i.disablePadding;return{encrypt:(o,a)=>{const c=$i(t),{b:l,o:u,out:d}=function Ok(e,t,r){let i=e.length;const s=i%16;if(!t&&0!==s)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=Ie(e);if(t){let l=16-s;l||(l=16),i+=l}const a=wc(i,r);return{b:o,o:Ie(a),out:a}}(o,s,a),f=Ie(r);let h=f[0],p=f[1],g=f[2],m=f[3],y=0;for(;y+4<=l.length;)h^=l[y+0],p^=l[y+1],g^=l[y+2],m^=l[y+3],({s0:h,s1:p,s2:g,s3:m}=On(c,h,p,g,m)),u[y++]=h,u[y++]=p,u[y++]=g,u[y++]=m;if(s){const _=function Pk(e){const t=new Uint8Array(16),r=Ie(t);t.set(e);const i=16-e.length;for(let s=16-i;s<16;s++)t[s]=i;return r}(o.subarray(4*y));h^=_[0],p^=_[1],g^=_[2],m^=_[3],({s0:h,s1:p,s2:g,s3:m}=On(c,h,p,g,m)),u[y++]=h,u[y++]=p,u[y++]=g,u[y++]=m}return c.fill(0),d},decrypt:(o,a)=>{!function Rk(e){if(Ae(e),e.length%16!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}(o);const c=function jw(e){const t=$i(e),r=t.slice(),i=t.length,{sbox2:s}=Uw,{T0:o,T1:a,T2:c,T3:l}=Mk;for(let u=0;u<i;u+=4)for(let d=0;d<4;d++)r[u+d]=t[i-u-4+d];t.fill(0);for(let u=4;u<i-4;u++){const d=r[u],f=mi(s,d,d,d,d);r[u]=o[255&f]^a[f>>>8&255]^c[f>>>16&255]^l[f>>>24]}return r}(t),l=Ie(r),u=wc(o.length,a),d=Ie(o),f=Ie(u);let h=l[0],p=l[1],g=l[2],m=l[3];for(let y=0;y+4<=d.length;){const _=h,v=p,w=g,b=m;h=d[y+0],p=d[y+1],g=d[y+2],m=d[y+3];const{s0:D,s1:C,s2:S,s3:I}=Qp(c,h,p,g,m);f[y++]=D^_,f[y++]=C^v,f[y++]=S^w,f[y++]=I^b}return c.fill(0),function kk(e,t){if(!t)return e;const r=e.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");const i=e[r-1];if(i<=0||i>16)throw new Error(`aes/pcks5: wrong padding byte: ${i}`);const s=e.subarray(0,-i);for(let o=0;o<i;o++)if(e[r-o-1]!==i)throw new Error("aes/pcks5: wrong padding");return s}(u,s)}}}),Yt=(e,t)=>255&e[t++]|(255&e[t++])<<8;class oY{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Ae(t=Is(t),32);const r=Yt(t,0),i=Yt(t,2),s=Yt(t,4),o=Yt(t,6),a=Yt(t,8),c=Yt(t,10),l=Yt(t,12),u=Yt(t,14);this.r[0]=8191&r,this.r[1]=8191&(r>>>13|i<<3),this.r[2]=7939&(i>>>10|s<<6),this.r[3]=8191&(s>>>7|o<<9),this.r[4]=255&(o>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|c<<2),this.r[7]=8065&(c>>>11|l<<5),this.r[8]=8191&(l>>>8|u<<8),this.r[9]=u>>>5&127;for(let d=0;d<8;d++)this.pad[d]=Yt(t,16+2*d)}process(t,r,i=!1){const s=i?0:2048,{h:o,r:a}=this,c=a[0],l=a[1],u=a[2],d=a[3],f=a[4],h=a[5],p=a[6],g=a[7],m=a[8],y=a[9],_=Yt(t,r+0),v=Yt(t,r+2),w=Yt(t,r+4),b=Yt(t,r+6),D=Yt(t,r+8),C=Yt(t,r+10),S=Yt(t,r+12),I=Yt(t,r+14);let P=o[0]+(8191&_),H=o[1]+(8191&(_>>>13|v<<3)),V=o[2]+(8191&(v>>>10|w<<6)),$=o[3]+(8191&(w>>>7|b<<9)),X=o[4]+(8191&(b>>>4|D<<12)),L=o[5]+(D>>>1&8191),T=o[6]+(8191&(D>>>14|C<<2)),E=o[7]+(8191&(C>>>11|S<<5)),x=o[8]+(8191&(S>>>8|I<<8)),R=o[9]+(I>>>5|s),M=0,W=M+P*c+H*(5*y)+V*(5*m)+$*(5*g)+X*(5*p);M=W>>>13,W&=8191,W+=L*(5*h)+T*(5*f)+E*(5*d)+x*(5*u)+R*(5*l),M+=W>>>13,W&=8191;let J=M+P*l+H*c+V*(5*y)+$*(5*m)+X*(5*g);M=J>>>13,J&=8191,J+=L*(5*p)+T*(5*h)+E*(5*f)+x*(5*d)+R*(5*u),M+=J>>>13,J&=8191;let ee=M+P*u+H*l+V*c+$*(5*y)+X*(5*m);M=ee>>>13,ee&=8191,ee+=L*(5*g)+T*(5*p)+E*(5*h)+x*(5*f)+R*(5*d),M+=ee>>>13,ee&=8191;let Se=M+P*d+H*u+V*l+$*c+X*(5*y);M=Se>>>13,Se&=8191,Se+=L*(5*m)+T*(5*g)+E*(5*p)+x*(5*h)+R*(5*f),M+=Se>>>13,Se&=8191;let de=M+P*f+H*d+V*u+$*l+X*c;M=de>>>13,de&=8191,de+=L*(5*y)+T*(5*m)+E*(5*g)+x*(5*p)+R*(5*h),M+=de>>>13,de&=8191;let vt=M+P*h+H*f+V*d+$*u+X*l;M=vt>>>13,vt&=8191,vt+=L*c+T*(5*y)+E*(5*m)+x*(5*g)+R*(5*p),M+=vt>>>13,vt&=8191;let pt=M+P*p+H*h+V*f+$*d+X*u;M=pt>>>13,pt&=8191,pt+=L*l+T*c+E*(5*y)+x*(5*m)+R*(5*g),M+=pt>>>13,pt&=8191;let Me=M+P*g+H*p+V*h+$*f+X*d;M=Me>>>13,Me&=8191,Me+=L*u+T*l+E*c+x*(5*y)+R*(5*m),M+=Me>>>13,Me&=8191;let at=M+P*m+H*g+V*p+$*h+X*f;M=at>>>13,at&=8191,at+=L*d+T*u+E*l+x*c+R*(5*y),M+=at>>>13,at&=8191;let ke=M+P*y+H*m+V*g+$*p+X*h;M=ke>>>13,ke&=8191,ke+=L*f+T*d+E*u+x*l+R*c,M+=ke>>>13,ke&=8191,M=(M<<2)+M|0,M=M+W|0,W=8191&M,M>>>=13,J+=M,o[0]=W,o[1]=J,o[2]=ee,o[3]=Se,o[4]=de,o[5]=vt,o[6]=pt,o[7]=Me,o[8]=at,o[9]=ke}finalize(){const{h:t,pad:r}=this,i=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let c=2;c<10;c++)t[c]+=s,s=t[c]>>>13,t[c]&=8191;t[0]+=5*s,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,i[0]=t[0]+5,s=i[0]>>>13,i[0]&=8191;for(let c=1;c<10;c++)i[c]=t[c]+s,s=i[c]>>>13,i[c]&=8191;i[9]-=8192;let o=(1^s)-1;for(let c=0;c<10;c++)i[c]&=o;o=~o;for(let c=0;c<10;c++)t[c]=t[c]&o|i[c];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let a=t[0]+r[0];t[0]=65535&a;for(let c=1;c<8;c++)a=(t[c]+r[c]|0)+(a>>>16)|0,t[c]=65535&a}update(t){Oo(this);const{buffer:r,blockLen:i}=this,s=(t=Is(t)).length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a!==i)r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0,!1),this.pos=0);else for(;i<=s-o;o+=i)this.process(t,o)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Oo(this),Wp(t,this),this.finished=!0;const{buffer:r,h:i}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let a=0;a<8;a++)t[o++]=i[a]>>>0,t[o++]=i[a]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const i=t.slice(0,r);return this.destroy(),i}}const cY=function aY(e){const t=(i,s)=>e(s).update(Is(i)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=i=>e(i),t}(e=>new oY(e)),Vk=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),lY=Vk("expand 16-byte k"),uY=Vk("expand 32-byte k"),dY=Ie(lY),Uk=Ie(uY);function Q(e,t){return e<<t|e>>>32-t}function $w(e){return e.byteOffset%4==0}Uk.slice();const jk=2**32-1,$k=new Uint32Array;function Wu(e,t){const{allowShortKeys:r,extendNonceFn:i,counterLength:s,counterRight:o,rounds:a}=function WQ(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return yc(s),yc(a),Rw(o),Rw(r),(c,l,u,d,f=0)=>{Ae(c),Ae(l),Ae(u);const h=u.length;if(d||(d=new Uint8Array(h)),Ae(d),yc(f),f<0||f>=jk)throw new Error("arx: counter overflow");if(d.length<h)throw new Error(`arx: output (${d.length}) is shorter than data (${h})`);const p=[];let m,y,g=c.length;if(32===g)m=c.slice(),p.push(m),y=Uk;else{if(16!==g||!r)throw new Error(`arx: invalid 32-byte key, got length=${g}`);m=new Uint8Array(32),m.set(c),m.set(c,16),y=dY,p.push(m)}$w(l)||(l=l.slice(),p.push(l));const _=Ie(m);if(i){if(24!==l.length)throw new Error("arx: extended nonce must be 24 bytes");i(y,_,Ie(l.subarray(0,16)),_),l=l.subarray(16)}const v=16-s;if(v!==l.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(12!==v){const b=new Uint8Array(12);b.set(l,o?0:12-l.length),p.push(l=b)}const w=Ie(l);for(function hY(e,t,r,i,s,o,a,c){const l=s.length,u=new Uint8Array(64),d=Ie(u),f=$w(s)&&$w(o),h=f?Ie(s):$k,p=f?Ie(o):$k;for(let g=0;g<l;a++){if(e(t,r,i,d,a,c),a>=jk)throw new Error("arx: counter overflow");const m=Math.min(64,l-g);if(f&&64===m){const y=g/4;if(g%4!=0)throw new Error("arx: invalid block position");for(let v,_=0;_<16;_++)v=y+_,p[v]=h[v]^d[_];g+=64}else{for(let _,y=0;y<m;y++)_=g+y,o[_]=s[_]^u[y];g+=m}}}(e,y,_,w,u,d,f,a);p.length>0;)p.pop().fill(0);return d}}function Zu(e,t,r,i,s,o=20){let a=e[0],c=e[1],l=e[2],u=e[3],d=t[0],f=t[1],h=t[2],p=t[3],g=t[4],m=t[5],y=t[6],_=t[7],v=s,w=r[0],b=r[1],D=r[2],C=a,S=c,I=l,P=u,H=d,V=f,$=h,X=p,L=g,T=m,E=y,x=_,R=v,M=w,W=b,J=D;for(let Se=0;Se<o;Se+=2)C=C+H|0,R=Q(R^C,16),L=L+R|0,H=Q(H^L,12),C=C+H|0,R=Q(R^C,8),L=L+R|0,H=Q(H^L,7),S=S+V|0,M=Q(M^S,16),T=T+M|0,V=Q(V^T,12),S=S+V|0,M=Q(M^S,8),T=T+M|0,V=Q(V^T,7),I=I+$|0,W=Q(W^I,16),E=E+W|0,$=Q($^E,12),I=I+$|0,W=Q(W^I,8),E=E+W|0,$=Q($^E,7),P=P+X|0,J=Q(J^P,16),x=x+J|0,X=Q(X^x,12),P=P+X|0,J=Q(J^P,8),x=x+J|0,X=Q(X^x,7),C=C+V|0,J=Q(J^C,16),E=E+J|0,V=Q(V^E,12),C=C+V|0,J=Q(J^C,8),E=E+J|0,V=Q(V^E,7),S=S+$|0,R=Q(R^S,16),x=x+R|0,$=Q($^x,12),S=S+$|0,R=Q(R^S,8),x=x+R|0,$=Q($^x,7),I=I+X|0,M=Q(M^I,16),L=L+M|0,X=Q(X^L,12),I=I+X|0,M=Q(M^I,8),L=L+M|0,X=Q(X^L,7),P=P+H|0,W=Q(W^P,16),T=T+W|0,H=Q(H^T,12),P=P+H|0,W=Q(W^P,8),T=T+W|0,H=Q(H^T,7);let ee=0;i[ee++]=a+C|0,i[ee++]=c+S|0,i[ee++]=l+I|0,i[ee++]=u+P|0,i[ee++]=d+H|0,i[ee++]=f+V|0,i[ee++]=h+$|0,i[ee++]=p+X|0,i[ee++]=g+L|0,i[ee++]=m+T|0,i[ee++]=y+E|0,i[ee++]=_+x|0,i[ee++]=v+R|0,i[ee++]=w+M|0,i[ee++]=b+W|0,i[ee++]=D+J|0}const Hw=Wu(Zu,{counterRight:!1,counterLength:4,allowShortKeys:!1}),gY=Wu(Zu,{counterRight:!1,counterLength:8,extendNonceFn:function pY(e,t,r,i){let s=e[0],o=e[1],a=e[2],c=e[3],l=t[0],u=t[1],d=t[2],f=t[3],h=t[4],p=t[5],g=t[6],m=t[7],y=r[0],_=r[1],v=r[2],w=r[3];for(let D=0;D<20;D+=2)s=s+l|0,y=Q(y^s,16),h=h+y|0,l=Q(l^h,12),s=s+l|0,y=Q(y^s,8),h=h+y|0,l=Q(l^h,7),o=o+u|0,_=Q(_^o,16),p=p+_|0,u=Q(u^p,12),o=o+u|0,_=Q(_^o,8),p=p+_|0,u=Q(u^p,7),a=a+d|0,v=Q(v^a,16),g=g+v|0,d=Q(d^g,12),a=a+d|0,v=Q(v^a,8),g=g+v|0,d=Q(d^g,7),c=c+f|0,w=Q(w^c,16),m=m+w|0,f=Q(f^m,12),c=c+f|0,w=Q(w^c,8),m=m+w|0,f=Q(f^m,7),s=s+u|0,w=Q(w^s,16),g=g+w|0,u=Q(u^g,12),s=s+u|0,w=Q(w^s,8),g=g+w|0,u=Q(u^g,7),o=o+d|0,y=Q(y^o,16),m=m+y|0,d=Q(d^m,12),o=o+d|0,y=Q(y^o,8),m=m+y|0,d=Q(d^m,7),a=a+f|0,_=Q(_^a,16),h=h+_|0,f=Q(f^h,12),a=a+f|0,_=Q(_^a,8),h=h+_|0,f=Q(f^h,7),c=c+l|0,v=Q(v^c,16),p=p+v|0,l=Q(l^p,12),c=c+l|0,v=Q(v^c,8),p=p+v|0,l=Q(l^p,7);let b=0;i[b++]=s,i[b++]=o,i[b++]=a,i[b++]=c,i[b++]=y,i[b++]=_,i[b++]=v,i[b++]=w},allowShortKeys:!1}),mY=new Uint8Array(16),Hk=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(mY.subarray(r))},yY=new Uint8Array(32);function zk(e,t,r,i,s){const o=e(t,r,yY),a=cY.create(o);s&&Hk(a,s),Hk(a,i);const c=new Uint8Array(16),l=vc(c);ko(l,0,BigInt(s?s.length:0),!0),ko(l,8,BigInt(i.length),!0),a.update(c);const u=a.digest();return o.fill(0),u}const qk=e=>(t,r,i)=>(Ae(t,32),Ae(r),{encrypt:(o,a)=>{const c=o.length,l=c+16;a?Ae(a,l):a=new Uint8Array(l),e(t,r,o,a,1);const u=zk(e,t,r,a.subarray(0,-16),i);return a.set(u,c),a},decrypt:(o,a)=>{const c=o.length,l=c-16;if(c<16)throw new Error("encrypted data must be at least 16 bytes");a?Ae(a,l):a=new Uint8Array(l);const u=o.subarray(0,-16);if(!Zp(o.subarray(-16),zk(e,t,r,u,i)))throw new Error("invalid tag");return e(t,r,u,a,1),a}});qk(Hw),qk(gY);class Gk extends ck{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,di.hash(t);const i=No(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?t.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(t){return di.exists(this),this.iHash.update(t),this}digestInto(t){di.exists(this),di.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:c}=this;return t.finished=s,t.destroyed=o,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Xp=(e,t,r)=>new Gk(e,t).update(r).digest();Xp.create=(e,t)=>new Gk(e,t);const zw=new Uint8Array([0]),Zk=new Uint8Array;var vY=Object.defineProperty,yt=(e,t)=>{for(var r in t)vY(e,r,{get:t[r],enumerable:!0})},Po=Symbol("verified"),_Y=e=>e instanceof Object;function qw(e){if(!_Y(e)||"number"!=typeof e.kind||"string"!=typeof e.content||"number"!=typeof e.created_at||"string"!=typeof e.pubkey||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let r=e.tags[t];if(!Array.isArray(r))return!1;for(let i=0;i<r.length;i++)if("object"==typeof r[i])return!1}return!0}yt({},{Queue:()=>Yk,QueueNode:()=>Qk,binarySearch:()=>Gw,insertEventIntoAscendingList:()=>EY,insertEventIntoDescendingList:()=>bY,normalizeURL:()=>Ec,utf8Decoder:()=>Hi,utf8Encoder:()=>Rr});var Hi=new TextDecoder("utf-8"),Rr=new TextEncoder;function Ec(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function bY(e,t){const[r,i]=Gw(e,s=>t.id===s.id?0:t.created_at===s.created_at?-1:s.created_at-t.created_at);return i||e.splice(r,0,t),e}function EY(e,t){const[r,i]=Gw(e,s=>t.id===s.id?0:t.created_at===s.created_at?-1:t.created_at-s.created_at);return i||e.splice(r,0,t),e}function Gw(e,t){let r=0,i=e.length-1;for(;r<=i;){const s=Math.floor((r+i)/2),o=t(e[s]);if(0===o)return[s,!0];o<0?i=s-1:r=s+1}return[r,!1]}var Qk=class{value;next=null;prev=null;constructor(e){this.value=e}},Yk=class{first;last;constructor(){this.first=null,this.last=null}enqueue(e){const t=new Qk(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}};function eg(e){let t=mc(Rr.encode(function DY(e){if(!qw(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e)));return mt(t)}var tg=new class{generateSecretKey(){return zu.utils.randomPrivateKey()}getPublicKey(e){return mt(zu.getPublicKey(e))}finalizeEvent(e,t){const r=e;return r.pubkey=mt(zu.getPublicKey(t)),r.id=eg(r),r.sig=mt(zu.sign(eg(r),t)),r[Po]=!0,r}verifyEvent(e){if("boolean"==typeof e[Po])return e[Po];const t=eg(e);if(t!==e.id)return e[Po]=!1,!1;try{const r=zu.verify(e.sig,t,e.pubkey);return e[Po]=r,r}catch{return e[Po]=!1,!1}}},Ww=tg.generateSecretKey,Ku=tg.getPublicKey,Or=tg.finalizeEvent,Cc=tg.verifyEvent,fr={};function Jk(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Zw(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Xk(e){return 2e4<=e&&e<3e4}function Kw(e){return 3e4<=e&&e<4e4}function SY(e){return Jk(e)?"regular":Zw(e)?"replaceable":Xk(e)?"ephemeral":Kw(e)?"parameterized":"unknown"}function TY(e,t){const r=t instanceof Array?t:[t];return qw(e)&&r.includes(e.kind)||!1}yt(fr,{Application:()=>TJ,BadgeAward:()=>OY,BadgeDefinition:()=>_J,BlockedRelaysList:()=>rJ,BookmarkList:()=>eJ,Bookmarksets:()=>mJ,Calendar:()=>OJ,CalendarEventRSVP:()=>kJ,ChannelCreation:()=>t2,ChannelHideMessage:()=>i2,ChannelMessage:()=>r2,ChannelMetadata:()=>n2,ChannelMuteUser:()=>s2,ClassifiedListing:()=>AJ,ClientAuth:()=>a2,CommunitiesList:()=>tJ,CommunityDefinition:()=>FJ,CommunityPostApproval:()=>HY,Contacts:()=>MY,CreateOrUpdateProduct:()=>EJ,CreateOrUpdateStall:()=>bJ,Curationsets:()=>yJ,Date:()=>NJ,DirectMessageRelaysList:()=>aJ,DraftClassifiedListing:()=>MJ,DraftLong:()=>DJ,Emojisets:()=>SJ,EncryptedDirectMessage:()=>NY,EventDeletion:()=>RY,FileMetadata:()=>FY,FileServerPreference:()=>cJ,Followsets:()=>hJ,GenericRepost:()=>PY,Genericlists:()=>pJ,GiftWrap:()=>o2,HTTPAuth:()=>Jw,Handlerinformation:()=>LJ,Handlerrecommendation:()=>PJ,Highlights:()=>QY,InterestsList:()=>sJ,Interestsets:()=>wJ,JobFeedback:()=>GY,JobRequest:()=>zY,JobResult:()=>qY,Label:()=>$Y,LightningPubRPC:()=>uJ,LiveChatMessage:()=>BY,LiveEvent:()=>IJ,LongFormArticle:()=>CJ,Metadata:()=>IY,Mutelist:()=>YY,NWCWalletInfo:()=>lJ,NWCWalletRequest:()=>c2,NWCWalletResponse:()=>dJ,NostrConnect:()=>fJ,OpenTimestamps:()=>LY,Pinlist:()=>JY,PrivateDirectMessage:()=>kY,ProblemTracker:()=>VY,ProfileBadges:()=>vJ,PublicChatsList:()=>nJ,Reaction:()=>Yw,RecommendRelay:()=>AY,RelayList:()=>XY,Relaysets:()=>gJ,Report:()=>UY,Reporting:()=>jY,Repost:()=>Qw,Seal:()=>e2,SearchRelaysList:()=>iJ,ShortTextNote:()=>xY,Time:()=>RJ,UserEmojiList:()=>oJ,UserStatuses:()=>xJ,Zap:()=>KY,ZapGoal:()=>WY,ZapRequest:()=>ZY,classifyKind:()=>SY,isEphemeralKind:()=>Xk,isKind:()=>TY,isParameterizedReplaceableKind:()=>Kw,isRegularKind:()=>Jk,isReplaceableKind:()=>Zw});var IY=0,xY=1,AY=2,MY=3,NY=4,RY=5,Qw=6,Yw=7,OY=8,e2=13,kY=14,PY=16,t2=40,n2=41,r2=42,i2=43,s2=44,LY=1040,o2=1059,FY=1063,BY=1311,VY=1971,UY=1984,jY=1984,$Y=1985,HY=4550,zY=5999,qY=6999,GY=7e3,WY=9041,ZY=9734,KY=9735,QY=9802,YY=1e4,JY=10001,XY=10002,eJ=10003,tJ=10004,nJ=10005,rJ=10006,iJ=10007,sJ=10015,oJ=10030,aJ=10050,cJ=10096,lJ=13194,uJ=21e3,a2=22242,c2=23194,dJ=23195,fJ=24133,Jw=27235,hJ=3e4,pJ=30001,gJ=30002,mJ=30003,yJ=30004,vJ=30008,_J=30009,wJ=30015,bJ=30017,EJ=30018,CJ=30023,DJ=30024,SJ=30030,TJ=30078,IJ=30311,xJ=30315,AJ=30402,MJ=30403,NJ=31922,RJ=31923,OJ=31924,kJ=31925,PJ=31989,LJ=31990,FJ=34550;function BJ(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)||e.kinds&&-1===e.kinds.indexOf(t.kind)||e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let r in e)if("#"===r[0]){let s=e[`#${r.slice(1)}`];if(s&&!t.tags.find(([o,a])=>o===r.slice(1)&&-1!==s.indexOf(a)))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function ng(e,t){for(let r=0;r<e.length;r++)if(BJ(e[r],t))return!0;return!1}function l2(e){if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[t,r]of Object.entries(e))if("#"===t[0]&&Array.isArray(r)&&!r.length)return 0;return Math.min(Math.max(0,e.limit??1/0),e.ids?.length??1/0,e.authors?.length&&e.kinds?.every(t=>Zw(t))?e.authors.length*e.kinds.length:1/0,e.authors?.length&&e.kinds?.every(t=>Kw(t))&&e["#d"]?.length?e.authors.length*e.kinds.length*e["#d"].length:1/0)}function rg(e,t){let r=t.length+3,i=e.indexOf(`"${t}":`)+r,s=e.slice(i).indexOf('"')+i+1;return e.slice(s,s+64)}function u2(e,t){let r=t.length,i=e.indexOf(`"${t}":`)+r+3,s=e.slice(i),o=Math.min(s.indexOf(","),s.indexOf("}"));return parseInt(s.slice(0,o),10)}function d2(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let r=e.slice(t+7+1).indexOf('"');if(-1===r)return null;let i=t+7+1+r,s=e.slice(i+1,80).indexOf('"');return-1===s?null:e.slice(i+1,i+1+s)}function UJ(e,t){return t===rg(e,"id")}function jJ(e,t){return t===rg(e,"pubkey")}function $J(e,t){return t===u2(e,"kind")}function f2(e,t){return{kind:a2,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}yt({},{getHex64:()=>rg,getInt:()=>u2,getSubscriptionId:()=>d2,matchEventId:()=>UJ,matchEventKind:()=>$J,matchEventPubkey:()=>jJ}),yt({},{makeAuthEvent:()=>f2});try{WebSocket}catch{}try{WebSocket}catch{}yt({},{BECH32_REGEX:()=>g2,Bech32MaxSize:()=>tb,NostrTypeGuard:()=>QJ,decode:()=>Qu,encodeBytes:()=>sg,naddrEncode:()=>rX,neventEncode:()=>nX,noteEncode:()=>eX,nprofileEncode:()=>tX,npubEncode:()=>XJ,nsecEncode:()=>JJ});var QJ={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},tb=5e3,g2=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Qu(e){let{prefix:t,words:r}=pi.decode(e,tb),i=new Uint8Array(pi.fromWords(r));switch(t){case"nprofile":{let s=nb(i);if(!s[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==s[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:mt(s[0][0]),relays:s[1]?s[1].map(o=>Hi.decode(o)):[]}}}case"nevent":{let s=nb(i);if(!s[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==s[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(s[2]&&32!==s[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(s[3]&&4!==s[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:mt(s[0][0]),relays:s[1]?s[1].map(o=>Hi.decode(o)):[],author:s[2]?.[0]?mt(s[2][0]):void 0,kind:s[3]?.[0]?parseInt(mt(s[3][0]),16):void 0}}}case"naddr":{let s=nb(i);if(!s[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!s[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==s[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!s[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==s[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Hi.decode(s[0][0]),pubkey:mt(s[2][0]),kind:parseInt(mt(s[3][0]),16),relays:s[1]?s[1].map(o=>Hi.decode(o)):[]}}}case"nsec":return{type:t,data:i};case"npub":case"note":return{type:t,data:mt(i)};default:throw new Error(`unknown prefix ${t}`)}}function nb(e){let t={},r=e;for(;r.length>0;){let i=r[0],s=r[1],o=r.slice(2,2+s);if(r=r.slice(2+s),o.length<s)throw new Error(`not enough data to read on TLV ${i}`);t[i]=t[i]||[],t[i].push(o)}return t}function JJ(e){return sg("nsec",e)}function XJ(e){return sg("npub",Mo(e))}function eX(e){return sg("note",Mo(e))}function ig(e,t){let r=pi.toWords(t);return pi.encode(e,r,tb)}function sg(e,t){return ig(e,t)}function tX(e){return ig("nprofile",rb({0:[Mo(e.pubkey)],1:(e.relays||[]).map(r=>Rr.encode(r))}))}function nX(e){let t;return void 0!==e.kind&&(t=function YJ(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}(e.kind)),ig("nevent",rb({0:[Mo(e.id)],1:(e.relays||[]).map(i=>Rr.encode(i)),2:e.author?[Mo(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function rX(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),ig("naddr",rb({0:[Rr.encode(e.identifier)],1:(e.relays||[]).map(i=>Rr.encode(i)),2:[Mo(e.pubkey)],3:[new Uint8Array(t)]}))}function rb(e){let t=[];return Object.entries(e).reverse().forEach(([r,i])=>{i.forEach(s=>{let o=new Uint8Array(s.length+2);o.set([parseInt(r)],0),o.set([s.length],1),o.set(s,2),t.push(o)})}),Hp(...t)}var ib={};function m2(e,t,r){return sb.apply(this,arguments)}function sb(){return(sb=U(function*(e,t,r){const i=e instanceof Uint8Array?mt(e):e,o=y2(gc.getSharedSecret(i,"02"+t));let a=Uint8Array.from(uk(16)),c=Rr.encode(r),l=Lk(o,a).encrypt(c);return`${Vi.encode(new Uint8Array(l))}?iv=${Vi.encode(new Uint8Array(a.buffer))}`})).apply(this,arguments)}function sX(e,t,r){return ob.apply(this,arguments)}function ob(){return(ob=U(function*(e,t,r){const i=e instanceof Uint8Array?mt(e):e;let[s,o]=r.split("?iv="),c=y2(gc.getSharedSecret(i,"02"+t)),l=Vi.decode(o),u=Vi.decode(s),d=Lk(c,l).decrypt(u);return Hi.decode(d)})).apply(this,arguments)}function y2(e){return e.slice(1,33)}yt(ib,{decrypt:()=>sX,encrypt:()=>m2}),yt({},{NIP05_REGEX:()=>ab,isNip05:()=>aX,isValid:()=>uX,queryProfile:()=>v2,searchDomain:()=>lX,useFetchImplementation:()=>cX});var og,ab=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,aX=e=>ab.test(e||"");try{og=fetch}catch{}function cX(e){og=e}function lX(e){return cb.apply(this,arguments)}function cb(){return(cb=U(function*(e,t=""){try{const r=`https://${e}/.well-known/nostr.json?name=${t}`,i=yield og(r,{redirect:"manual"});if(200!==i.status)throw Error("Wrong response code");return(yield i.json()).names}catch{return{}}})).apply(this,arguments)}function v2(e){return lb.apply(this,arguments)}function lb(){return(lb=U(function*(e){const t=e.match(ab);if(!t)return null;const[,r="_",i]=t;try{const s=`https://${i}/.well-known/nostr.json?name=${r}`,o=yield og(s,{redirect:"manual"});if(200!==o.status)throw Error("Wrong response code");const a=yield o.json(),c=a.names[r];return c?{pubkey:c,relays:a.relays?.[c]}:null}catch{return null}})).apply(this,arguments)}function uX(e,t){return ub.apply(this,arguments)}function ub(){return(ub=U(function*(e,t){const r=yield v2(t);return!!r&&r.pubkey===e})).apply(this,arguments)}function fX(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let r,i;for(let s=e.tags.length-1;s>=0;s--){const o=e.tags[s];if("e"===o[0]&&o[1]){const[a,c,l,u,d]=o,f={id:c,relays:l?[l]:[],author:d};if("root"===u){t.root=f;continue}if("reply"===u){t.reply=f;continue}if("mention"===u){t.mentions.push(f);continue}r?i=f:r=f,t.mentions.push(f)}else{if("q"===o[0]&&o[1]){const[a,c,l]=o;t.quotes.push({id:c,relays:l?[l]:[]})}"p"===o[0]&&o[1]&&t.profiles.push({pubkey:o[1],relays:o[2]?[o[2]]:[]})}}return t.root||(t.root=i||r||t.reply),t.reply||(t.reply=r||t.root),[t.reply,t.root].forEach(s=>{if(!s)return;let o=t.mentions.indexOf(s);if(-1!==o&&t.mentions.splice(o,1),s.author){let a=t.profiles.find(c=>c.pubkey===s.author);a&&a.relays&&(s.relays||(s.relays=[]),a.relays.forEach(c=>{-1===s.relays?.indexOf(c)&&s.relays.push(c)}),a.relays=s.relays)}}),t.mentions.forEach(s=>{if(s.author){let o=t.profiles.find(a=>a.pubkey===s.author);o&&o.relays&&(s.relays||(s.relays=[]),o.relays.forEach(a=>{-1===s.relays.indexOf(a)&&s.relays.push(a)}),o.relays=s.relays)}}),t}yt({},{parse:()=>fX}),yt({},{fetchRelayInformation:()=>gX,useFetchImplementation:()=>pX});try{fetch}catch{}function pX(e){}function gX(e){return db.apply(this,arguments)}function db(){return(db=U(function*(e){return yield(yield fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()})).apply(this,arguments)}function w2(e){let t=0;for(let r=0;r<64;r+=8){const i=parseInt(e.substring(r,r+8),16);if(0!==i){t+=Math.clz32(i);break}t+=32}return t}function yX(e,t){let r=0;const i=e,s=["nonce",r.toString(),t.toString()];for(i.tags.push(s);;){const o=Math.floor((new Date).getTime()/1e3);if(o!==i.created_at&&(r=0,i.created_at=o),s[1]=(++r).toString(),i.id=b2(i),w2(i.id)>=t)break}return i}function b2(e){return mt(mc(Rr.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}function _X(e,t,r,i){return Or({kind:Qw,tags:[...e.tags??[],["e",t.id,r],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},i)}function E2(e){if(e.kind!==Qw)return;let t,r;for(let i=e.tags.length-1;i>=0&&(void 0===t||void 0===r);i--){const s=e.tags[i];s.length>=2&&("e"===s[0]&&void 0===t?t=s:"p"===s[0]&&void 0===r&&(r=s))}return void 0!==t?{id:t[1],relays:[t[2],r?.[2]].filter(i=>"string"==typeof i),author:r?.[1]}:void 0}function wX(e,{skipVerification:t}={}){const r=E2(e);if(void 0===r||""===e.content)return;let i;try{i=JSON.parse(e.content)}catch{return}return i.id===r.id&&(t||Cc(i))?i:void 0}yt({},{fastEventHash:()=>b2,getPow:()=>w2,minePow:()=>yX}),yt({},{finishRepostEvent:()=>_X,getRepostedEvent:()=>wX,getRepostedEventPointer:()=>E2}),yt({},{NOSTR_URI_REGEX:()=>ag,parse:()=>CX,test:()=>EX});var ag=new RegExp(`nostr:(${g2.source})`);function EX(e){return"string"==typeof e&&new RegExp(`^${ag.source}$`).test(e)}function CX(e){const t=e.match(new RegExp(`^${ag.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Qu(t[1])}}function SX(e,t,r){const i=t.tags.filter(s=>s.length>=2&&("e"===s[0]||"p"===s[0]));return Or({...e,kind:Yw,tags:[...e.tags??[],...i,["e",t.id],["p",t.pubkey]],content:e.content??"+"},r)}function TX(e){if(e.kind!==Yw)return;let t,r;for(let i=e.tags.length-1;i>=0&&(void 0===t||void 0===r);i--){const s=e.tags[i];s.length>=2&&("e"===s[0]&&void 0===t?t=s:"p"===s[0]&&void 0===r&&(r=s))}return void 0!==t&&void 0!==r?{id:t[1],relays:[t[2],r[2]].filter(i=>void 0!==i),author:r[1]}:void 0}yt({},{finishReactionEvent:()=>SX,getReactedEventPointer:()=>TX}),yt({},{matchAll:()=>xX,regex:()=>fb,replaceAll:()=>AX});var fb=()=>new RegExp(`\\b${ag.source}\\b`,"g");function*xX(e){const t=e.matchAll(fb());for(const r of t)try{const[i,s]=r;yield{uri:i,value:s,decoded:Qu(s),start:r.index,end:r.index+i.length}}catch{}}function AX(e,t){return e.replaceAll(fb(),(r,i)=>t({uri:r,value:i,decoded:Qu(i)}))}yt({},{channelCreateEvent:()=>NX,channelHideMessageEvent:()=>kX,channelMessageEvent:()=>OX,channelMetadataEvent:()=>RX,channelMuteUserEvent:()=>PX});var NX=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return Or({kind:t2,tags:[...e.tags??[]],content:r,created_at:e.created_at},t)},RX=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return Or({kind:n2,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},OX=(e,t)=>{const r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Or({kind:r2,tags:[...r,...e.tags??[]],content:e.content,created_at:e.created_at},t)},kX=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return Or({kind:i2,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},PX=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return Or({kind:s2,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:r,created_at:e.created_at},t)};yt({},{EMOJI_SHORTCODE_REGEX:()=>C2,matchAll:()=>FX,regex:()=>hb,replaceAll:()=>BX});var pb,C2=/:(\w+):/,hb=()=>new RegExp(`\\B${C2.source}\\B`,"g");function*FX(e){const t=e.matchAll(hb());for(const r of t)try{const[i,s]=r;yield{shortcode:i,name:s,start:r.index,end:r.index+i.length}}catch{}}function BX(e,t){return e.replaceAll(hb(),(r,i)=>t({shortcode:r,name:i}))}yt({},{useFetchImplementation:()=>UX,validateGithub:()=>jX});try{pb=fetch}catch{}function UX(e){pb=e}function jX(e,t,r){return gb.apply(this,arguments)}function gb(){return(gb=U(function*(e,t,r){try{return(yield(yield pb(`https://gist.github.com/${t}/${r}/raw`)).text())===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}})).apply(this,arguments)}var cg={};yt(cg,{decrypt:()=>_b,encrypt:()=>vb,getConversationKey:()=>mb,v2:()=>GX});var D2=1,S2=65535;function mb(e,t){const r=gc.getSharedSecret(e,"02"+t).subarray(1,33);return function Wk(e,t,r){return di.hash(e),void 0===r&&(r=new Uint8Array(e.outputLen)),Xp(e,No(r),No(t))}(mc,r,"nip44-v2")}function T2(e,t){const r=function Kk(e,t,r,i=32){if(di.hash(e),di.number(i),i>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(i/e.outputLen);void 0===r&&(r=Zk);const o=new Uint8Array(s*e.outputLen),a=Xp.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)zw[0]=u+1,c.update(0===u?Zk:l).update(r).update(zw).digestInto(l),o.set(l,e.outputLen*u),a._cloneInto(c);return a.destroy(),c.destroy(),l.fill(0),zw.fill(0),o.slice(0,i)}(mc,e,t,76);return{chacha_key:r.subarray(0,32),chacha_nonce:r.subarray(32,44),hmac_key:r.subarray(44,76)}}function yb(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,r=t<=256?32:t/8;return r*(Math.floor((e-1)/r)+1)}function I2(e,t,r){if(32!==r.length)throw new Error("AAD associated data must be 32 bytes");const i=Hp(r,t);return Xp(mc,e,i)}function vb(e,t,r=uk(32)){const{chacha_key:i,chacha_nonce:s,hmac_key:o}=T2(t,r),a=function HX(e){const t=Rr.encode(e),r=t.length,i=function $X(e){if(!Number.isSafeInteger(e)||e<D2||e>S2)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}(r);return Hp(i,t,new Uint8Array(yb(r)-r))}(e),c=Hw(i,s,a),l=I2(o,c,r);return Vi.encode(Hp(new Uint8Array([2]),r,c,l))}function _b(e,t){const{nonce:r,ciphertext:i,mac:s}=function qX(e){if("string"!=typeof e)throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if("#"===e[0])throw new Error("unknown encryption version");let r;try{r=Vi.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const i=r.length;if(i<99||i>65603)throw new Error("invalid data length: "+i);const s=r[0];if(2!==s)throw new Error("unknown encryption version "+s);return{nonce:r.subarray(1,33),ciphertext:r.subarray(33,-32),mac:r.subarray(-32)}}(e),{chacha_key:o,chacha_nonce:a,hmac_key:c}=T2(t,r);if(!Zp(I2(c,i,r),s))throw new Error("invalid MAC");return function zX(e){const t=new DataView(e.buffer).getUint16(0),r=e.subarray(2,2+t);if(t<D2||t>S2||r.length!==t||e.length!==2+yb(t))throw new Error("invalid padding");return Hi.decode(r)}(Hw(o,a,i))}var bb,GX={utils:{getConversationKey:mb,calcPaddedLen:yb},encrypt:vb,decrypt:_b};function ZX(e){const{pathname:t,searchParams:r}=new URL(e),i=t,s=r.get("relay"),o=r.get("secret");if(!i||!s||!o)throw new Error("invalid connection string");return{pubkey:i,relay:s,secret:o}}function KX(e,t,r){return wb.apply(this,arguments)}function wb(){return(wb=U(function*(e,t,r){const s=yield m2(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:r}})),o={kind:c2,created_at:Math.round(Date.now()/1e3),content:s,tags:[["p",e]]};return Or(o,t)})).apply(this,arguments)}yt({},{makeNwcRequestEvent:()=>KX,parseConnectionString:()=>ZX}),yt({},{getZapEndpoint:()=>JX,makeZapReceipt:()=>tee,makeZapRequest:()=>XX,useFetchImplementation:()=>YX,validateZapRequest:()=>eee});try{bb=fetch}catch{}function YX(e){bb=e}function JX(e){return Eb.apply(this,arguments)}function Eb(){return(Eb=U(function*(e){try{let t="",{lud06:r,lud16:i}=JSON.parse(e.content);if(r){let{words:a}=pi.decode(r,1e3),c=pi.fromWords(a);t=Hi.decode(c)}else{if(!i)return null;{let[a,c]=i.split("@");t=new URL(`/.well-known/lnurlp/${a}`,`https://${c}`).toString()}}let o=yield(yield bb(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null})).apply(this,arguments)}function XX({profile:e,event:t,amount:r,relays:i,comment:s=""}){if(!r)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:s,tags:[["p",e],["amount",r.toString()],["relays",...i]]};return t&&o.tags.push(["e",t]),o}function eee(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!qw(t))return"Zap request is not a valid Nostr event.";if(!Cc(t))return"Invalid signature on zap request.";let r=t.tags.find(([o,a])=>"p"===o&&a);if(!r)return"Zap request doesn't have a 'p' tag.";if(!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let i=t.tags.find(([o,a])=>"e"===o&&a);return i&&!i[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,a])=>"relays"===o&&a)?null:"Zap request doesn't have a 'relays' tag."}function tee({zapRequest:e,preimage:t,bolt11:r,paidAt:i}){let s=JSON.parse(e),o=s.tags.filter(([c])=>"e"===c||"p"===c||"a"===c),a={kind:9735,created_at:Math.round(i.getTime()/1e3),content:"",tags:[...o,["P",s.pubkey],["bolt11",r],["description",e]]};return t&&a.tags.push(["preimage",t]),a}yt({},{createRumor:()=>O2,createSeal:()=>k2,createWrap:()=>P2,unwrapEvent:()=>L2,unwrapManyEvents:()=>see,wrapEvent:()=>Cb,wrapManyEvents:()=>iee});var x2=()=>Math.round(Date.now()/1e3),A2=()=>Math.round(x2()-172800*Math.random()),M2=(e,t)=>mb(e,t),N2=(e,t,r)=>vb(JSON.stringify(e),M2(t,r)),R2=(e,t)=>JSON.parse(_b(e.content,M2(t,e.pubkey)));function O2(e,t){const r={created_at:x2(),content:"",tags:[],...e,pubkey:Ku(t)};return r.id=eg(r),r}function k2(e,t,r){return Or({kind:e2,content:N2(e,t,r),created_at:A2(),tags:[]},t)}function P2(e,t){const r=Ww();return Or({kind:o2,content:N2(e,r,t),created_at:A2(),tags:[["p",t]]},r)}function Cb(e,t,r){return P2(k2(O2(e,t),t,r),r)}function iee(e,t,r){if(!r||0===r.length)throw new Error("At least one recipient is required.");const i=Ku(t),s=[Cb(e,t,i)];return r.forEach(o=>{s.push(Cb(e,t,o))}),s}function L2(e,t){const r=R2(e,t);return R2(r,t)}function see(e,t){let r=[];return e.forEach(i=>{r.push(L2(i,t))}),r.sort((i,s)=>i.created_at-s.created_at),r}yt({},{getToken:()=>aee,hashPayload:()=>Ib,unpackEventFromToken:()=>B2,validateEvent:()=>z2,validateEventKind:()=>U2,validateEventMethodTag:()=>$2,validateEventPayloadTag:()=>H2,validateEventTimestamp:()=>V2,validateEventUrlTag:()=>j2,validateToken:()=>cee});var F2="Nostr ";function aee(e,t,r){return Db.apply(this,arguments)}function Db(){return(Db=U(function*(e,t,r,i=!1,s){const o={kind:Jw,tags:[["u",e],["method",t]],created_at:Math.round((new Date).getTime()/1e3),content:""};s&&o.tags.push(["payload",Ib(s)]);const a=yield r(o);return(i?F2:"")+Vi.encode(Rr.encode(JSON.stringify(a)))})).apply(this,arguments)}function cee(e,t,r){return Sb.apply(this,arguments)}function Sb(){return(Sb=U(function*(e,t,r){const i=yield B2(e).catch(o=>{throw o});return yield z2(i,t,r).catch(o=>{throw o})})).apply(this,arguments)}function B2(e){return Tb.apply(this,arguments)}function Tb(){return(Tb=U(function*(e){if(!e)throw new Error("Missing token");e=e.replace(F2,"");const t=Hi.decode(Vi.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)})).apply(this,arguments)}function V2(e){return!!e.created_at&&Math.round((new Date).getTime()/1e3)-e.created_at<60}function U2(e){return e.kind===Jw}function j2(e,t){const r=e.tags.find(i=>"u"===i[0]);return!!r&&r.length>0&&r[1]===t}function $2(e,t){const r=e.tags.find(i=>"method"===i[0]);return!!r&&r.length>0&&r[1].toLowerCase()===t.toLowerCase()}function Ib(e){return mt(mc(Rr.encode(JSON.stringify(e))))}function H2(e,t){const r=e.tags.find(s=>"payload"===s[0]);if(!r)return!1;const i=Ib(t);return r.length>0&&r[1]===i}function z2(e,t,r,i){return xb.apply(this,arguments)}function xb(){return(xb=U(function*(e,t,r,i){if(!Cc(e))throw new Error("Invalid nostr event, signature invalid");if(!U2(e))throw new Error("Invalid nostr event, kind invalid");if(!V2(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!j2(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!$2(e,r))throw new Error("Invalid nostr event, method tag invalid");if(i&&"object"==typeof i&&Object.keys(i).length>0&&!H2(e,i))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0})).apply(this,arguments)}"object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date;const Ab="object"==typeof process&&process?process:{};let lg=globalThis.AbortController,W2=globalThis.AbortSignal;if(typeof lg>"u"){W2=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,s){this._onabort.push(s)}},lg=class{constructor(){t()}signal=new W2;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const s of this.signal._onabort)s(i);this.signal.onabort?.(i)}}};let e="1"!==Ab.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,((e,t,r,i)=>{"function"==typeof Ab.emitWarning?Ab.emitWarning(e,t,r,i):console.error(`[${r}] ${t}: ${e}`)})("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var K2,Q2;Symbol("type"),Symbol,Symbol,K2=Symbol.iterator,Q2=Symbol.toStringTag;class hr{cache;constructor(t){this.cache=t??new Map}get size(){return this.cache.size}add(t){this.#t(t);for(const r of this){if(hr.deletes(r,t)||hr.replaces(r,t))return this;hr.replaces(t,r)&&this.delete(r)}return this.cache.set(t.id,t),this}#t(t){if(5===t.kind)for(const r of t.tags)if("e"===r[0]){const i=this.cache.get(r[1]);i&&i.pubkey===t.pubkey&&this.delete(i)}}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,r){return this.cache.forEach((i,s)=>t(i,i,this),r)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of hr.sortEvents([...this.cache.values()]))yield t}[K2](){return this.values()}[Q2]="NSet";static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isParameterizedReplaceable(t){return 3e4<=t&&t<4e4}static replaces(t,r){const{kind:i,pubkey:s}=t;if(hr.isReplaceable(i))return i===r.kind&&s===r.pubkey&&hr.sortEvents([t,r])[0]===t;if(hr.isParameterizedReplaceable(i)){const o=t.tags.find(([c])=>"d"===c)?.[1]||"",a=r.tags.find(([c])=>"d"===c)?.[1]||"";return i===r.kind&&s===r.pubkey&&hr.sortEvents([t,r])[0]===t&&o===a}return!1}static deletes(t,r){const{kind:i,pubkey:s,tags:o}=t;if(5===i&&s===r.pubkey)for(const[a,c]of o)if("e"===a&&c===r.id)return!0;return!1}static sortEvents(t){return t.sort((r,i)=>r.created_at!==i.created_at?i.created_at-r.created_at:r.id.localeCompare(i.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}}function Tc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function kr(e,...t){if(!function dee(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Yu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Symbol;const Ic="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Lo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),yi=(e,t)=>e<<32-t|e>>>t;function eP(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function Fo(e){return"string"==typeof e&&(e=eP(e)),kr(e),e}new Uint8Array(new Uint32Array([287454020]).buffer);class tP{clone(){return this._cloneInto()}}function Ob(e){const t=i=>e().update(Fo(i)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function _ee(e=32){if(Ic&&"function"==typeof Ic.getRandomValues)return Ic.getRandomValues(new Uint8Array(e));if(Ic&&"function"==typeof Ic.randomBytes)return Ic.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class nP extends tP{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,function Nb(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Tc(e.outputLen),Tc(e.blockLen)}(t);const i=Fo(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?t.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(t){return Yu(this),this.iHash.update(t),this}digestInto(t){Yu(this),kr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:c}=this;return t.finished=s,t.destroyed=o,t.blockLen=a,t.outputLen=c,t.oHash=r._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Xu=(e,t,r)=>new nP(e,t).update(r).digest();Xu.create=(e,t)=>new nP(e,t);const bee=(e,t,r)=>e&t^~e&r,Eee=(e,t,r)=>e&t^e&r^t&r;class kb extends tP{constructor(t,r,i,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Lo(this.buffer)}update(t){Yu(this);const{view:r,buffer:i,blockLen:s}=this,o=(t=Fo(t)).length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c!==s)i.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(r,0),this.pos=0);else{const l=Lo(t);for(;s<=o-a;a+=s)this.process(l,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Yu(this),function J2(e,t){kr(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(t,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let f=a;f<s;f++)r[f]=0;(function wee(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),c=Number(r&o),u=i?0:4;e.setUint32(t+(i?4:0),a,i),e.setUint32(t+u,c,i)})(i,s-8,BigInt(8*this.length),o),this.process(i,0);const c=Lo(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const i=t.slice(0,r);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:c}=this;return t.length=s,t.pos=c,t.finished=o,t.destroyed=a,s%r&&t.buffer.set(i),t}}const Cee=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),rP=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),Dee=rP.map(e=>(9*e+5)%16);let Pb=[rP],Lb=[Dee];for(let e=0;e<4;e++)for(let t of[Pb,Lb])t.push(t[e].map(r=>Cee[r]));const Nee=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ns=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rs=new Uint32Array(64);class oP extends kb{constructor(){super(64,32,8,!1),this.A=0|Ns[0],this.B=0|Ns[1],this.C=0|Ns[2],this.D=0|Ns[3],this.E=0|Ns[4],this.F=0|Ns[5],this.G=0|Ns[6],this.H=0|Ns[7]}get(){const{A:t,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;return[t,r,i,s,o,a,c,l]}set(t,r,i,s,o,a,c,l){this.A=0|t,this.B=0|r,this.C=0|i,this.D=0|s,this.E=0|o,this.F=0|a,this.G=0|c,this.H=0|l}process(t,r){for(let f=0;f<16;f++,r+=4)Rs[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const h=Rs[f-15],p=Rs[f-2],g=yi(h,7)^yi(h,18)^h>>>3,m=yi(p,17)^yi(p,19)^p>>>10;Rs[f]=m+Rs[f-7]+g+Rs[f-16]|0}let{A:i,B:s,C:o,D:a,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const p=d+(yi(c,6)^yi(c,11)^yi(c,25))+bee(c,l,u)+Nee[f]+Rs[f]|0,m=(yi(i,2)^yi(i,13)^yi(i,22))+Eee(i,s,o)|0;d=u,u=l,l=c,c=a+p|0,a=o,o=s,s=i,i=p+m|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,s,o,a,c,l,u,d)}roundClean(){Rs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Fb=Ob(()=>new oP),hg=BigInt(2**32-1),Bb=BigInt(32);function aP(e,t=!1){return t?{h:Number(e&hg),l:Number(e>>Bb&hg)}:{h:0|Number(e>>Bb&hg),l:0|Number(e&hg)}}const be_split=function Ree(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=aP(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]},[Wee,Zee]=be_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ub=BigInt(0),gg=BigInt(1),Kee=BigInt(2);function Bo(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function ed(e){if(!Bo(e))throw new Error("Uint8Array expected")}function xc(e,t){if("boolean"!=typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)}const Qee=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ac(e){ed(e);let t="";for(let r=0;r<e.length;r++)t+=Qee[e[r]];return t}function Mc(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function cP(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const qi={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function lP(e){return e>=qi._0&&e<=qi._9?e-qi._0:e>=qi._A&&e<=qi._F?e-(qi._A-10):e>=qi._a&&e<=qi._f?e-(qi._a-10):void 0}function Nc(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){const a=lP(e.charCodeAt(o)),c=lP(e.charCodeAt(o+1));if(void 0===a||void 0===c)throw new Error('hex string expected, got non-hex character "'+(e[o]+e[o+1])+'" at index '+o);i[s]=16*a+c}return i}function Vo(e){return cP(Ac(e))}function jb(e){return ed(e),cP(Ac(Uint8Array.from(e).reverse()))}function Rc(e,t){return Nc(e.toString(16).padStart(2*t,"0"))}function $b(e,t){return Rc(e,t).reverse()}function Pr(e,t,r){let i;if("string"==typeof t)try{i=Nc(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!Bo(t))throw new Error(`${e} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const s=i.length;if("number"==typeof r&&s!==r)throw new Error(`${e} expected ${r} bytes, got ${s}`);return i}function td(...e){let t=0;for(let i=0;i<e.length;i++){const s=e[i];ed(s),t+=s.length}const r=new Uint8Array(t);for(let i=0,s=0;i<e.length;i++){const o=e[i];r.set(o,s),s+=o.length}return r}const Hb=e=>"bigint"==typeof e&&Ub<=e;function mg(e,t,r){return Hb(e)&&Hb(t)&&Hb(r)&&t<=e&&e<r}function Uo(e,t,r,i){if(!mg(t,r,i))throw new Error(`expected valid ${e}: ${r} <= n < ${i}, got ${typeof t} ${t}`)}function uP(e){let t;for(t=0;e>Ub;e>>=gg,t+=1);return t}const zb=e=>(Kee<<BigInt(e-1))-gg,qb=e=>new Uint8Array(e),dP=e=>Uint8Array.from(e);function fP(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let i=qb(e),s=qb(e),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},c=(...f)=>r(s,i,...f),l=(f=qb())=>{s=c(dP([0]),f),i=c(),0!==f.length&&(s=c(dP([1]),f),i=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){i=c();const p=i.slice();h.push(p),f+=i.length}return td(...h)};return(f,h)=>{let p;for(a(),l(f);!(p=h(u()));)l();return a(),p}}const Yee={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Bo(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function nd(e,t,r={}){const i=(s,o,a)=>{const c=Yee[o];if("function"!=typeof c)throw new Error(`Invalid validator "${o}", expected function`);const l=e[s];if(!(a&&void 0===l||c(l,e)))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${o}`)};for(const[s,o]of Object.entries(t))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return e}function Gb(e){const t=new WeakMap;return(r,...i)=>{const s=t.get(r);if(void 0!==s)return s;const o=e(r,...i);return t.set(r,o),o}}const Ht=BigInt(0),Je=BigInt(1),Ps=BigInt(2),Jee=BigInt(3),Wb=BigInt(4),hP=BigInt(5),pP=BigInt(8);function Jt(e,t){const r=e%t;return r>=Ht?r:t+r}function tte(e,t,r){if(r<=Ht||t<Ht)throw new Error("Expected power/modulo > 0");if(r===Je)return Ht;let i=Je;for(;t>Ht;)t&Je&&(i=i*e%r),e=e*e%r,t>>=Je;return i}function pr(e,t,r){let i=e;for(;t-- >Ht;)i*=i,i%=r;return i}function yg(e,t){if(e===Ht||t<=Ht)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Jt(e,t),i=t,s=Ht,o=Je,a=Je,c=Ht;for(;r!==Ht;){const u=i/r,d=i%r,f=s-a*u,h=o-c*u;i=r,r=d,s=a,o=c,a=f,c=h}if(i!==Je)throw new Error("invert: does not exist");return Jt(s,t)}BigInt(9),BigInt(16);const ite=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zb(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function gP(e,t,r=!1,i={}){if(e<=Ht)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=Zb(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function rte(e){if(e%Wb===Jee){const t=(e+Je)/Wb;return function(i,s){const o=i.pow(s,t);if(!i.eql(i.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%pP===hP){const t=(e-hP)/pP;return function(i,s){const o=i.mul(s,Ps),a=i.pow(o,t),c=i.mul(s,a),l=i.mul(i.mul(c,Ps),a),u=i.mul(c,i.sub(l,i.ONE));if(!i.eql(i.sqr(u),s))throw new Error("Cannot find square root");return u}}return function nte(e){const t=(e-Je)/Ps;let r,i,s;for(r=e-Je,i=0;r%Ps===Ht;r/=Ps,i++);for(s=Ps;s<e&&tte(s,t,e)!==e-Je;s++);if(1===i){const a=(e+Je)/Wb;return function(l,u){const d=l.pow(u,a);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const o=(r+Je)/Ps;return function(c,l){if(c.pow(l,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=i,d=c.pow(c.mul(c.ONE,s),r),f=c.pow(l,o),h=c.pow(l,r);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let p=1;for(let m=c.sqr(h);p<u&&!c.eql(m,c.ONE);p++)m=c.sqr(m);const g=c.pow(d,Je<<BigInt(u-p-1));d=c.sqr(g),f=c.mul(f,g),h=c.mul(h,d),u=p}return f}}(e)}(e),c=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:zb(s),ZERO:Ht,ONE:Je,create:l=>Jt(l,e),isValid:l=>{if("bigint"!=typeof l)throw new Error("Invalid field element: expected bigint, got "+typeof l);return Ht<=l&&l<e},is0:l=>l===Ht,isOdd:l=>(l&Je)===Je,neg:l=>Jt(-l,e),eql:(l,u)=>l===u,sqr:l=>Jt(l*l,e),add:(l,u)=>Jt(l+u,e),sub:(l,u)=>Jt(l-u,e),mul:(l,u)=>Jt(l*u,e),pow:(l,u)=>function ote(e,t,r){if(r<Ht)throw new Error("Expected power > 0");if(r===Ht)return e.ONE;if(r===Je)return t;let i=e.ONE,s=t;for(;r>Ht;)r&Je&&(i=e.mul(i,s)),s=e.sqr(s),r>>=Je;return i}(c,l,u),div:(l,u)=>Jt(l*yg(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>yg(l,e),sqrt:i.sqrt||(l=>a(c,l)),invertBatch:l=>function ate(e,t){const r=new Array(t.length),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}(c,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>r?$b(l,o):Rc(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?jb(l):Vo(l)}});return Object.freeze(c)}function mP(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function yP(e){const t=mP(e);return t+Math.ceil(t/2)}const ute=BigInt(0),Kb=BigInt(1),Qb=new WeakMap,vP=new WeakMap;function _P(e){return function ste(e){nd(e,ite.reduce((i,s)=>(i[s]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),nd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Zb(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function wP(e){void 0!==e.lowS&&xc("lowS",e.lowS),void 0!==e.prehash&&xc("prehash",e.prehash)}const{Ph:pte,aT:gte}=hm,Gi={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:r}=Gi;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const i=t.length/2,s=Mc(i);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const o=i>127?Mc(s.length/2|128):"";return`${Mc(e)}${o}${s}${t}`},decode(e,t){const{Err:r}=Gi;let i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new r("tlv.decode: wrong tlv");const s=t[i++];let a=0;if(128&s){const l=127&s;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const u=t.subarray(i,i+l);if(u.length!==l)throw new r("tlv.decode: length bytes not complete");if(0===u[0])throw new r("tlv.decode(long): zero leftmost byte");for(const d of u)a=a<<8|d;if(i+=l,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=s;const c=t.subarray(i,i+a);if(c.length!==a)throw new r("tlv.decode: wrong value length");return{v:c,l:t.subarray(i+a)}}},_int:{encode(e){const{Err:t}=Gi;if(e<Lr)throw new t("integer: negative integers are not allowed");let r=Mc(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected assertion");return r},decode(e){const{Err:t}=Gi;if(128&e[0])throw new t("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("Invalid signature integer: unnecessary leading zero");return pte(e)}},toSig(e){const{Err:t,_int:r,_tlv:i}=Gi,s="string"==typeof e?gte(e):e;ed(s);const{v:o,l:a}=i.decode(48,s);if(a.length)throw new t("Invalid signature: left bytes after parsing");const{v:c,l}=i.decode(2,o),{v:u,l:d}=i.decode(2,l);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=Gi,i=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,i)}},Lr=BigInt(0),Ze=BigInt(1),vg=(BigInt(2),BigInt(3));function vte(e){const t=function yte(e){const t=_P(e);return nd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:i}=t,s=r.BYTES+1,o=2*r.BYTES+1;function a(L){return Jt(L,i)}function c(L){return yg(L,i)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=function mte(e){const t=function hte(e){const t=_P(e);nd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:s}=t;if(r){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,i=gP(t.n,t.nBitLength),s=t.toBytes||((m,y,_)=>{const v=y.toAffine();return td(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),o=t.fromBytes||(m=>{const y=m.subarray(1);return{x:r.fromBytes(y.subarray(0,r.BYTES)),y:r.fromBytes(y.subarray(r.BYTES,2*r.BYTES))}});function a(m){const{a:y,b:_}=t,v=r.sqr(m),w=r.mul(v,m);return r.add(r.add(w,r.mul(m,y)),_)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function l(m){const{allowedPrivateKeyLengths:y,nByteLength:_,wrapPrivateKey:v,n:w}=t;if(y&&"bigint"!=typeof m){if(Bo(m)&&(m=Ac(m)),"string"!=typeof m||!y.includes(m.length))throw new Error("Invalid key");m=m.padStart(2*_,"0")}let b;try{b="bigint"==typeof m?m:Vo(Pr("private key",m,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof m}`)}return v&&(b=Jt(b,w)),Uo("private key",b,Ze,w),b}function u(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const d=Gb((m,y)=>{const{px:_,py:v,pz:w}=m;if(r.eql(w,r.ONE))return{x:_,y:v};const b=m.is0();null==y&&(y=b?r.ONE:r.inv(w));const D=r.mul(_,y),C=r.mul(v,y),S=r.mul(w,y);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:D,y:C}}),f=Gb(m=>{if(m.is0()){if(t.allowInfinityPoint&&!r.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:y,y:_}=m.toAffine();if(!r.isValid(y)||!r.isValid(_))throw new Error("bad point: x or y not FE");const v=r.sqr(_),w=a(y);if(!r.eql(v,w))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,_,v){if(this.px=y,this.py=_,this.pz=v,null==y||!r.isValid(y))throw new Error("x required");if(null==_||!r.isValid(_))throw new Error("y required");if(null==v||!r.isValid(v))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:_,y:v}=y||{};if(!y||!r.isValid(_)||!r.isValid(v))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const w=b=>r.eql(b,r.ZERO);return w(_)&&w(v)?h.ZERO:new h(_,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const _=r.invertBatch(y.map(v=>v.pz));return y.map((v,w)=>v.toAffine(_[w])).map(h.fromAffine)}static fromHex(y){const _=h.fromAffine(o(Pr("pointHex",y)));return _.assertValidity(),_}static fromPrivateKey(y){return h.BASE.multiply(l(y))}static msm(y,_){return function fte(e,t,r,i){if(!Array.isArray(r)||!Array.isArray(i)||i.length!==r.length)throw new Error("arrays of points and scalars must have equal length");i.forEach((d,f)=>{if(!t.isValid(d))throw new Error(`wrong scalar at index ${f}`)}),r.forEach((d,f)=>{if(!(d instanceof e))throw new Error(`wrong point at index ${f}`)});const s=uP(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(e.ZERO),l=Math.floor((t.BITS-1)/o)*o;let u=e.ZERO;for(let d=l;d>=0;d-=o){c.fill(e.ZERO);for(let h=0;h<i.length;h++){const g=Number(i[h]>>BigInt(d)&BigInt(a));c[g]=c[g].add(r[h])}let f=e.ZERO;for(let h=c.length-1,p=e.ZERO;h>0;h--)p=p.add(c[h]),f=f.add(p);if(u=u.add(f),0!==d)for(let h=0;h<o;h++)u=u.double()}return u}(h,i,y,_)}_setWindowSize(y){g.setWindowSize(this,y)}assertValidity(){f(this)}hasEvenY(){const{y}=this.toAffine();if(r.isOdd)return!r.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:_,py:v,pz:w}=this,{px:b,py:D,pz:C}=y,S=r.eql(r.mul(_,C),r.mul(b,w)),I=r.eql(r.mul(v,C),r.mul(D,w));return S&&I}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:y,b:_}=t,v=r.mul(_,vg),{px:w,py:b,pz:D}=this;let C=r.ZERO,S=r.ZERO,I=r.ZERO,P=r.mul(w,w),H=r.mul(b,b),V=r.mul(D,D),$=r.mul(w,b);return $=r.add($,$),I=r.mul(w,D),I=r.add(I,I),C=r.mul(y,I),S=r.mul(v,V),S=r.add(C,S),C=r.sub(H,S),S=r.add(H,S),S=r.mul(C,S),C=r.mul($,C),I=r.mul(v,I),V=r.mul(y,V),$=r.sub(P,V),$=r.mul(y,$),$=r.add($,I),I=r.add(P,P),P=r.add(I,P),P=r.add(P,V),P=r.mul(P,$),S=r.add(S,P),V=r.mul(b,D),V=r.add(V,V),P=r.mul(V,$),C=r.sub(C,P),I=r.mul(V,H),I=r.add(I,I),I=r.add(I,I),new h(C,S,I)}add(y){u(y);const{px:_,py:v,pz:w}=this,{px:b,py:D,pz:C}=y;let S=r.ZERO,I=r.ZERO,P=r.ZERO;const H=t.a,V=r.mul(t.b,vg);let $=r.mul(_,b),X=r.mul(v,D),L=r.mul(w,C),T=r.add(_,v),E=r.add(b,D);T=r.mul(T,E),E=r.add($,X),T=r.sub(T,E),E=r.add(_,w);let x=r.add(b,C);return E=r.mul(E,x),x=r.add($,L),E=r.sub(E,x),x=r.add(v,w),S=r.add(D,C),x=r.mul(x,S),S=r.add(X,L),x=r.sub(x,S),P=r.mul(H,E),S=r.mul(V,L),P=r.add(S,P),S=r.sub(X,P),P=r.add(X,P),I=r.mul(S,P),X=r.add($,$),X=r.add(X,$),L=r.mul(H,L),E=r.mul(V,E),X=r.add(X,L),L=r.sub($,L),L=r.mul(H,L),E=r.add(E,L),$=r.mul(X,E),I=r.add(I,$),$=r.mul(x,E),S=r.mul(T,S),S=r.sub(S,$),$=r.mul(T,X),P=r.mul(x,P),P=r.add(P,$),new h(S,I,P)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return g.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){Uo("scalar",y,Lr,t.n);const _=h.ZERO;if(y===Lr)return _;if(y===Ze)return this;const{endo:v}=t;if(!v)return g.unsafeLadder(this,y);let{k1neg:w,k1:b,k2neg:D,k2:C}=v.splitScalar(y),S=_,I=_,P=this;for(;b>Lr||C>Lr;)b&Ze&&(S=S.add(P)),C&Ze&&(I=I.add(P)),P=P.double(),b>>=Ze,C>>=Ze;return w&&(S=S.negate()),D&&(I=I.negate()),I=new h(r.mul(I.px,v.beta),I.py,I.pz),S.add(I)}multiply(y){const{endo:_,n:v}=t;let w,b;if(Uo("scalar",y,Ze,v),_){const{k1neg:D,k1:C,k2neg:S,k2:I}=_.splitScalar(y);let{p:P,f:H}=this.wNAF(C),{p:V,f:$}=this.wNAF(I);P=g.constTimeNegate(D,P),V=g.constTimeNegate(S,V),V=new h(r.mul(V.px,_.beta),V.py,V.pz),w=P.add(V),b=H.add($)}else{const{p:D,f:C}=this.wNAF(y);w=D,b=C}return h.normalizeZ([w,b])[0]}multiplyAndAddUnsafe(y,_,v){const w=h.BASE,b=(C,S)=>S!==Lr&&S!==Ze&&C.equals(w)?C.multiply(S):C.multiplyUnsafe(S),D=b(this,_).add(b(y,v));return D.is0()?void 0:D}toAffine(y){return d(this,y)}isTorsionFree(){const{h:y,isTorsionFree:_}=t;if(y===Ze)return!0;if(_)return _(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:_}=t;return y===Ze?this:_?_(h,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return xc("isCompressed",y),this.assertValidity(),s(h,this,y)}toHex(y=!0){return xc("isCompressed",y),Ac(this.toRawBytes(y))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const p=t.nBitLength,g=function dte(e,t){const r=(o,a)=>{const c=a.negate();return o?c:a},i=o=>{if(!Number.isSafeInteger(o)||o<=0||o>t)throw new Error(`Wrong window size=${o}, should be [1..${t}]`)},s=o=>(i(o),{windows:Math.ceil(t/o)+1,windowSize:2**(o-1)});return{constTimeNegate:r,unsafeLadder(o,a){let c=e.ZERO,l=o;for(;a>ute;)a&Kb&&(c=c.add(l)),l=l.double(),a>>=Kb;return c},precomputeWindow(o,a){const{windows:c,windowSize:l}=s(a),u=[];let d=o,f=d;for(let h=0;h<c;h++){f=d,u.push(f);for(let p=1;p<l;p++)f=f.add(d),u.push(f);d=f.double()}return u},wNAF(o,a,c){const{windows:l,windowSize:u}=s(o);let d=e.ZERO,f=e.BASE;const h=BigInt(2**o-1),p=2**o,g=BigInt(o);for(let m=0;m<l;m++){const y=m*u;let _=Number(c&h);c>>=g,_>u&&(_-=p,c+=Kb);const v=y,w=y+Math.abs(_)-1,D=_<0;0===_?f=f.add(r(m%2!=0,a[v])):d=d.add(r(D,a[w]))}return{p:d,f}},wNAFCached(o,a,c){const l=vP.get(o)||1;let u=Qb.get(o);return u||(u=this.precomputeWindow(o,l),1!==l&&Qb.set(o,c(u))),this.wNAF(l,u,a)},setWindowSize(o,a){i(a),vP.set(o,a),Qb.delete(o)}}}(h,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:function c(m){return mg(m,Ze,t.n)}}}({...t,toBytes(L,T,E){const x=T.toAffine(),R=r.toBytes(x.x),M=td;return xc("isCompressed",E),E?M(Uint8Array.from([T.hasEvenY()?2:3]),R):M(Uint8Array.from([4]),R,r.toBytes(x.y))},fromBytes(L){const T=L.length,E=L[0],x=L.subarray(1);if(T!==s||2!==E&&3!==E){if(T===o&&4===E)return{x:r.fromBytes(x.subarray(0,r.BYTES)),y:r.fromBytes(x.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${T} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}{const R=Vo(x);if(!mg(R,Ze,r.ORDER))throw new Error("Point is not on curve");const M=d(R);let W;try{W=r.sqrt(M)}catch(Se){const de=Se instanceof Error?": "+Se.message:"";throw new Error("Point is not on curve"+de)}return!(1&~E)!=((W&Ze)===Ze)&&(W=r.neg(W)),{x:R,y:W}}}}),h=L=>Ac(Rc(L,t.nByteLength));function p(L){return L>i>>Ze}const m=(L,T,E)=>Vo(L.slice(T,E));class y{constructor(T,E,x){this.r=T,this.s=E,this.recovery=x,this.assertValidity()}static fromCompact(T){const E=t.nByteLength;return T=Pr("compactSignature",T,2*E),new y(m(T,0,E),m(T,E,2*E))}static fromDER(T){const{r:E,s:x}=Gi.toSig(Pr("DER",T));return new y(E,x)}assertValidity(){Uo("r",this.r,Ze,i),Uo("s",this.s,Ze,i)}addRecoveryBit(T){return new y(this.r,this.s,T)}recoverPublicKey(T){const{r:E,s:x,recovery:R}=this,M=C(Pr("msgHash",T));if(null==R||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const W=2===R||3===R?E+t.n:E;if(W>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=l.fromHex((1&R?"03":"02")+h(W)),Se=c(W),de=a(-M*Se),vt=a(x*Se),pt=l.BASE.multiplyAndAddUnsafe(ee,de,vt);if(!pt)throw new Error("point at infinify");return pt.assertValidity(),pt}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Nc(this.toDERHex())}toDERHex(){return Gi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nc(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const _={isValidPrivateKey(L){try{return u(L),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const L=yP(t.n);return function lte(e,t,r=!1){const i=e.length,s=mP(t),o=yP(t);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const c=Jt(r?Vo(e):jb(e),t-Je)+Je;return r?$b(c,s):Rc(c,s)}(t.randomBytes(L),t.n)},precompute:(L=8,T=l.BASE)=>(T._setWindowSize(L),T.multiply(BigInt(3)),T)};function w(L){const T=Bo(L),E="string"==typeof L,x=(T||E)&&L.length;return T?x===s||x===o:E?x===2*s||x===2*o:L instanceof l}const D=t.bits2int||function(L){const T=Vo(L),E=8*L.length-t.nBitLength;return E>0?T>>BigInt(E):T},C=t.bits2int_modN||function(L){return a(D(L))},S=zb(t.nBitLength);function I(L){return Uo(`num < 2^${t.nBitLength}`,L,Lr,S),Rc(L,t.nByteLength)}const H={lowS:t.lowS,prehash:!1},V={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function v(L,T=!0){return l.fromPrivateKey(L).toRawBytes(T)},getSharedSecret:function b(L,T,E=!0){if(w(L))throw new Error("first arg must be private key");if(!w(T))throw new Error("second arg must be public key");return l.fromHex(T).multiply(u(L)).toRawBytes(E)},sign:function $(L,T,E=H){const{seed:x,k2sig:R}=function P(L,T,E=H){if(["recovered","canonical"].some(at=>at in E))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:R}=t;let{lowS:M,prehash:W,extraEntropy:J}=E;null==M&&(M=!0),L=Pr("msgHash",L),wP(E),W&&(L=Pr("prehashed msgHash",x(L)));const ee=C(L),Se=u(T),de=[I(Se),I(ee)];if(null!=J&&!1!==J){const at=!0===J?R(r.BYTES):J;de.push(Pr("extraEntropy",at))}const vt=td(...de),pt=ee;return{seed:vt,k2sig:function Me(at){const ke=D(at);if(!f(ke))return;const Ln=c(ke),Xt=l.BASE.multiply(ke).toAffine(),en=a(Xt.x);if(en===Lr)return;const Vr=a(Ln*a(pt+en*Se));if(Vr===Lr)return;let Qo=(Xt.x===en?0:2)|Number(Xt.y&Ze),Rd=Vr;return M&&p(Vr)&&(Rd=function g(L){return p(L)?a(-L):L}(Vr),Qo^=1),new y(en,Rd,Qo)}}}(L,T,E);return fP(t.hash.outputLen,t.nByteLength,t.hmac)(x,R)},verify:function X(L,T,E,x=V){const R=L;if(T=Pr("msgHash",T),E=Pr("publicKey",E),"strict"in x)throw new Error("options.strict was renamed to lowS");wP(x);const{lowS:M,prehash:W}=x;let J,ee;try{if("string"==typeof R||Bo(R))try{J=y.fromDER(R)}catch(Xt){if(!(Xt instanceof Gi.Err))throw Xt;J=y.fromCompact(R)}else{if("object"!=typeof R||"bigint"!=typeof R.r||"bigint"!=typeof R.s)throw new Error("PARSE");{const{r:Xt,s:en}=R;J=new y(Xt,en)}}ee=l.fromHex(E)}catch(Xt){if("PARSE"===Xt.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&J.hasHighS())return!1;W&&(T=t.hash(T));const{r:Se,s:de}=J,vt=C(T),pt=c(de),Me=a(vt*pt),at=a(Se*pt),ke=l.BASE.multiplyAndAddUnsafe(ee,Me,at)?.toAffine();return!!ke&&a(ke.x)===Se},ProjectivePoint:l,Signature:y,utils:_}}function wte(e){return{hash:e,hmac:(t,...r)=>Xu(e,t,function Ju(...e){let t=0;for(let i=0;i<e.length;i++){const s=e[i];kr(s),t+=s.length}const r=new Uint8Array(t);for(let i=0,s=0;i<e.length;i++){const o=e[i];r.set(o,s),s+=o.length}return r}(...r)),randomBytes:_ee}}BigInt(4);const rd=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_g=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),id=BigInt(1),wg=BigInt(2),EP=(e,t)=>(e+t/wg)/t;const Yb=gP(rd,void 0,void 0,{sqrt:function CP(e){const t=rd,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=pr(d,r,t)*d%t,h=pr(f,r,t)*d%t,p=pr(h,wg,t)*u%t,g=pr(p,s,t)*p%t,m=pr(g,o,t)*g%t,y=pr(m,c,t)*m%t,_=pr(y,l,t)*y%t,v=pr(_,c,t)*m%t,w=pr(v,r,t)*d%t,b=pr(w,a,t)*g%t,D=pr(b,i,t)*u%t,C=pr(D,wg,t);if(!Yb.eql(Yb.sqr(C),e))throw new Error("Cannot find square root");return C}});(function bte(e,t){const r=i=>vte({...e,...wte(i)});Object.freeze({...r(t),create:r})})({a:BigInt(0),b:BigInt(7),Fp:Yb,n:_g,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=_g,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-id*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),c=EP(o*e,t),l=EP(-i*e,t);let u=Jt(e-c*r-l*s,t),d=Jt(-c*i-l*o,t);const f=u>a,h=d>a;if(f&&(u=t-u),h&&(d=t-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},Fb),BigInt(0);var GP,KP;eP("Bitcoin seed");class cE{#t;pubkey;constructor(t){this.#t=t}getPublicKey(){var t=this;return U(function*(){return t.pubkey??=Ku(t.#t)})()}signEvent(t){var r=this;return U(function*(){return Or(t,r.#t)})()}nip04={encrypt:(()=>{var r,t=this;return r=U(function*(i,s){return ib.encrypt(t.#t,i,s)}),function(s,o){return r.apply(this,arguments)}})(),decrypt:(()=>{var r,t=this;return r=U(function*(i,s){return ib.decrypt(t.#t,i,s)}),function(s,o){return r.apply(this,arguments)}})()};#i(t){return cg.v2.utils.getConversationKey(this.#t,t)}nip44={encrypt:(()=>{var r,t=this;return r=U(function*(i,s){const o=t.#i(i);return cg.v2.encrypt(s,o)}),function(s,o){return r.apply(this,arguments)}})(),decrypt:(()=>{var r,t=this;return r=U(function*(i,s){const o=t.#i(i);return cg.v2.decrypt(s,o)}),function(s,o){return r.apply(this,arguments)}})()}}function qP(e,t){this.v=e,this.k=t}function Fs(e){return new qP(e,0)}function Ig(e){return function(){return new ld(e.apply(this,arguments))}}function ld(e){var t,r;function i(o,a){try{var c=e[o](a),l=c.value,u=l instanceof qP;Promise.resolve(u?l.v:l).then(function(d){if(u){var f="return"===o?"return":"next";if(!l.k||d.done)return i(f,d);d=e[f](d).value}s(c.done?"return":"normal",d)},function(d){i("throw",d)})}catch(d){s("throw",d)}}function s(o,a){switch(o){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(o,a){return new Promise(function(c,l){var u={key:o,arg:a,resolve:c,reject:l,next:null};r?r=r.next=u:(t=r=u,i(o,a))})},"function"!=typeof e.return&&(this.return=void 0)}new TextEncoder,(new TextEncoder).encode("0123456789abcdef"),new TextEncoder,new TextDecoder,ld.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ld.prototype.next=function(e){return this._invoke("next",e)},ld.prototype.throw=function(e){return this._invoke("throw",e)},ld.prototype.return=function(e){return this._invoke("return",e)},GP=Symbol.asyncIterator;class WP{#t=[];#i;#f=!1;constructor(t){t?.aborted?this.abort():t?.addEventListener("abort",()=>this.abort(),{once:!0})}[GP](){var t=this;return Ig(function*(){for(;!t.#f;)t.#t.length?yield t.#t.shift():yield Fs(new Promise(r=>{t.#i=r}));throw new DOMException("The signal has been aborted","AbortError")})()}push(t){this.#t.push(t),this.#i?.()}abort(){this.#f=!0,this.#i?.()}}class ZP{static regular(t){return 1e3<=t&&t<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(t)}static replaceable(t){return 1e4<=t&&t<2e4||[0,3].includes(t)}static ephemeral(t){return 2e4<=t&&t<3e4}static parameterizedReplaceable(t){return 3e4<=t&&t<4e4}}KP=Symbol.asyncDispose;class Zte{opts;_relays;constructor(t){this.opts=t,this._relays=new Map}relay(t){const r=this._relays.get(t);if(r)return r;{const i=this.opts.open(t);return this._relays.set(t,i),i}}get relays(){return this._relays}req(t,r){var i=this;return Ig(function*(){const s=new AbortController,o=r?.signal?AbortSignal.any([r.signal,s.signal]):s.signal,a=yield Fs(i.opts.reqRouter(t));if(a.size<1)return;const c=new WP(o),l=new Set,u=new Set;for(const[m,y]of a.entries()){const _=i.relay(m);U(function*(){var b,v=!1,w=!1;try{for(var C,D=_s(_.req(y,{signal:o}));v=!(C=yield D.next()).done;v=!1){const S=C.value;"EOSE"===S[0]&&(l.add(m),l.size===a.size&&c.push(S)),"CLOSED"===S[0]&&(u.add(m),u.size===a.size&&c.push(S)),"EVENT"===S[0]&&c.push(S)}}catch(S){w=!0,b=S}finally{try{v&&null!=D.return&&(yield D.return())}finally{if(w)throw b}}})().catch(()=>{})}try{var h,d=!1,f=!1;try{for(var g,p=_s(c);d=!(g=yield Fs(p.next())).done;d=!1)yield g.value}catch(m){f=!0,h=m}finally{try{d&&null!=p.return&&(yield Fs(p.return()))}finally{if(f)throw h}}}finally{s.abort()}})()}event(t,r){var i=this;return U(function*(){const s=yield i.opts.eventRouter(t);s.length<1||(yield Promise.any(s.map(o=>i.relay(o).event(t,r))))})()}query(t,r){var i=this;return U(function*(){const s=new hr,o=t.reduce((h,p)=>h+l2(p),0);if(0===o)return[];const a=t.reduce((h,p)=>h||!!p.kinds?.some(g=>ZP.replaceable(g)||ZP.parameterizedReplaceable(g)),!1);try{var u,c=!1,l=!1;try{for(var f,d=_s(i.req(t,r));c=!(f=yield d.next()).done;c=!1){const h=f.value;if("EOSE"===h[0])break;if("EVENT"===h[0]&&s.add(h[2]),"CLOSED"===h[0])throw new Error("Subscription closed");if(!a&&s.size>=o)break}}catch(h){l=!0,u=h}finally{try{c&&null!=d.return&&(yield d.return())}finally{if(l)throw u}}}catch{}return[...s]})()}close(){var t=this;return U(function*(){yield Promise.all([...t._relays.values()].map(r=>r.close()))})()}[KP](){var t=this;return U(function*(){yield t.close()})()}}class Kte{constructor(t,r){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(void 0!==r&&(!Number.isInteger(r)||r<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=r,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=void 0===this.expMax?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}var Oe,Xe=function(e){return e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect",e}(Xe||{});class Qte{constructor(t,r,i){var s,o,a,c,l,u,d,f,h,p,g,m,y,_,v;this._closedByUser=!1,this.handleOpenEvent=w=>this.handleEvent(Xe.open,w),this.handleErrorEvent=w=>this.handleEvent(Xe.error,w),this.handleCloseEvent=w=>this.handleEvent(Xe.close,w),this.handleMessageEvent=w=>this.handleEvent(Xe.message,w),this._url=t,this._protocols=r,this._options={buffer:i?.buffer,retry:{maxRetries:null===(s=i?.retry)||void 0===s?void 0:s.maxRetries,instantReconnect:null===(o=i?.retry)||void 0===o?void 0:o.instantReconnect,backoff:null===(a=i?.retry)||void 0===a?void 0:a.backoff},listeners:{open:[...null!==(l=null===(c=i?.listeners)||void 0===c?void 0:c.open)&&void 0!==l?l:[]],close:[...null!==(d=null===(u=i?.listeners)||void 0===u?void 0:u.close)&&void 0!==d?d:[]],error:[...null!==(h=null===(f=i?.listeners)||void 0===f?void 0:f.error)&&void 0!==h?h:[]],message:[...null!==(g=null===(p=i?.listeners)||void 0===p?void 0:p.message)&&void 0!==g?g:[]],retry:[...null!==(y=null===(m=i?.listeners)||void 0===m?void 0:m.retry)&&void 0!==y?y:[]],reconnect:[...null!==(v=null===(_=i?.listeners)||void 0===_?void 0:_.reconnect)&&void 0!==v?v:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):void 0!==this.buffer&&this.buffer.add(t))}close(t,r){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,r)}addEventListener(t,r,i){this._options.listeners[t].push({listener:r,options:i})}removeEventListener(t,r,i){this._options.listeners[t]=this._options.listeners[t].filter(o=>o.listener!==r||o.options!==i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Xe.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Xe.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Xe.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Xe.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Xe.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Xe.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Xe.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Xe.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,r){const s=[];this._options.listeners[t].forEach(({listener:o,options:a})=>{o(this,r),(void 0===a||void 0===a.once||!a.once)&&s.push({listener:o,options:a})}),this._options.listeners[t]=s}handleEvent(t,r){switch(t){case Xe.close:this.dispatchEvent(t,r),this.scheduleConnectionRetryIfNeeded();break;case Xe.open:if(void 0!==this.backoff&&void 0!==this._lastConnection){const i={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},s=new CustomEvent(Xe.reconnect,{detail:i});this.dispatchEvent(Xe.reconnect,s),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,r),this.sendBufferedData();break;case Xe.retry:this.dispatchEvent(t,r),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,r)}}sendBufferedData(){if(void 0!==this.buffer)for(let t=this.buffer.read();void 0!==t;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||void 0===this.backoff)return;const t=i=>{const s=new CustomEvent(Xe.retry,{detail:i});this.handleEvent(Xe.retry,s)},r={backoff:!0===this._options.retry.instantReconnect?0:this.backoff.next(),retries:!0===this._options.retry.instantReconnect?0:this.backoff.retries,lastConnection:this._lastConnection};(void 0===this._options.retry.maxRetries||r.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(r),r.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class Yte{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{maxRetries:t})}),this}get maxRetries(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.maxRetries}withInstantReconnect(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.instantReconnect}withBackoff(t){var r;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null===(r=this._options)||void 0===r?void 0:r.retry),{backoff:t})}),this}get backoff(){var t,r;return null===(r=null===(t=this._options)||void 0===t?void 0:t.retry)||void 0===r?void 0:r.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return null===(t=this._options)||void 0===t?void 0:t.buffer}onOpen(t,r){return this.addListener(Xe.open,t,r),this}onClose(t,r){return this.addListener(Xe.close,t,r),this}onError(t,r){return this.addListener(Xe.error,t,r),this}onMessage(t,r){return this.addListener(Xe.message,t,r),this}onRetry(t,r){return this.addListener(Xe.retry,t,r),this}onReconnect(t,r){return this.addListener(Xe.reconnect,t,r),this}build(){return new Qte(this._url,this._protocols,this._options)}addListener(t,r,i){var s,o,a,c,l,u,d,f,h,p,g,m,y,_,v,w,b,D,C,S,I;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:null!==(a=null===(o=null===(s=this._options)||void 0===s?void 0:s.listeners)||void 0===o?void 0:o.open)&&void 0!==a?a:[],close:null!==(u=null===(l=null===(c=this._options)||void 0===c?void 0:c.listeners)||void 0===l?void 0:l.close)&&void 0!==u?u:[],error:null!==(h=null===(f=null===(d=this._options)||void 0===d?void 0:d.listeners)||void 0===f?void 0:f.error)&&void 0!==h?h:[],message:null!==(m=null===(g=null===(p=this._options)||void 0===p?void 0:p.listeners)||void 0===g?void 0:g.message)&&void 0!==m?m:[],retry:null!==(v=null===(_=null===(y=this._options)||void 0===y?void 0:y.listeners)||void 0===_?void 0:_.retry)&&void 0!==v?v:[],reconnect:null!==(D=null===(b=null===(w=this._options)||void 0===w?void 0:w.listeners)||void 0===b?void 0:b.reconnect)&&void 0!==D?D:[],[t]:[...null!==(I=null===(S=null===(C=this._options)||void 0===C?void 0:C.listeners)||void 0===S?void 0:S[t])&&void 0!==I?I:[],{listener:r,options:i}]}}),this}}class Jte{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return 0===this.elements.length}peek(){return this.elements[0]}read(){return this.elements.shift()}}!function(e){e.assertEqual=s=>s,e.assertIs=function t(s){},e.assertNever=function r(s){throw new Error},e.arrayToEnum=s=>{const o={};for(const a of s)o[a]=a;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(c=>"number"!=typeof s[s[c]]),a={};for(const c of o)a[c]=s[c];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys="function"==typeof Object.keys?s=>Object.keys(s):s=>{const o=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&o.push(a);return o},e.find=(s,o)=>{for(const a of s)if(o(a))return a},e.isInteger="function"==typeof Number.isInteger?s=>Number.isInteger(s):s=>"number"==typeof s&&isFinite(s)&&Math.floor(s)===s,e.joinValues=function i(s,o=" | "){return s.map(a=>"string"==typeof a?`'${a}'`:a).join(o)},e.jsonStringifyReplacer=(s,o)=>"bigint"==typeof o?o.toString():o}(Oe||(Oe={}));var QP=function(e){return e.mergeShapes=(t,r)=>({...t,...r}),e}(QP||{});const K=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bs=e=>{switch(typeof e){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(e)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(e)?K.array:null===e?K.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?K.promise:typeof Map<"u"&&e instanceof Map?K.map:typeof Set<"u"&&e instanceof Set?K.set:typeof Date<"u"&&e instanceof Date?K.date:K.object;default:return K.unknown}},B=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let Zi=(()=>{class e extends Error{constructor(r){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const i=r||function(a){return a.message},s={_errors:[]},o=a=>{for(const c of a.issues)if("invalid_union"===c.code)c.unionErrors.map(o);else if("invalid_return_type"===c.code)o(c.returnTypeError);else if("invalid_arguments"===c.code)o(c.argumentsError);else if(0===c.path.length)s._errors.push(i(c));else{let l=s,u=0;for(;u<c.path.length;){const d=c.path[u];u===c.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(i(c))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return o(this),s}static assert(r){if(!(r instanceof e))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(r=i=>i.message){const i={},s=[];for(const o of this.issues)o.path.length>0?(i[o.path[0]]=i[o.path[0]]||[],i[o.path[0]].push(r(o))):s.push(r(o));return{formErrors:s,fieldErrors:i}}get formErrors(){return this.flatten()}}return e.create=t=>new e(t),e})();const kc=(e,t)=>{let r;switch(e.code){case B.invalid_type:r=e.received===K.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case B.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Oe.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:r=`Unrecognized key(s) in object: ${Oe.joinValues(e.keys,", ")}`;break;case B.invalid_union:r="Invalid input";break;case B.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Oe.joinValues(e.options)}`;break;case B.invalid_enum_value:r=`Invalid enum value. Expected ${Oe.joinValues(e.options)}, received '${e.received}'`;break;case B.invalid_arguments:r="Invalid function arguments";break;case B.invalid_return_type:r="Invalid function return type";break;case B.invalid_date:r="Invalid date";break;case B.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Oe.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case B.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case B.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case B.custom:r="Invalid input";break;case B.invalid_intersection_types:r="Intersection results could not be merged";break;case B.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case B.not_finite:r="Number must be finite";break;default:r=t.defaultError,Oe.assertNever(e)}return{message:r}};let YP=kc;function xg(){return YP}const Ag=e=>{const{data:t,path:r,errorMaps:i,issueData:s}=e,o=[...r,...s.path||[]],a={...s,path:o};if(void 0!==s.message)return{...s,path:o,message:s.message};let c="";const l=i.filter(u=>!!u).slice().reverse();for(const u of l)c=u(a,{data:t,defaultError:c}).message;return{...s,path:o,message:c}};function Z(e,t){const r=xg(),i=Ag({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===kc?void 0:kc].filter(s=>!!s)});e.common.issues.push(i)}class dn{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,r){const i=[];for(const s of r){if("aborted"===s.status)return ce;"dirty"===s.status&&t.dirty(),i.push(s.value)}return{status:t.value,value:i}}static mergeObjectAsync(t,r){return U(function*(){const i=[];for(const s of r){const o=yield s.key,a=yield s.value;i.push({key:o,value:a})}return dn.mergeObjectSync(t,i)})()}static mergeObjectSync(t,r){const i={};for(const s of r){const{key:o,value:a}=s;if("aborted"===o.status||"aborted"===a.status)return ce;"dirty"===o.status&&t.dirty(),"dirty"===a.status&&t.dirty(),"__proto__"!==o.value&&(typeof a.value<"u"||s.alwaysSet)&&(i[o.value]=a.value)}return{status:t.value,value:i}}}const ce=Object.freeze({status:"aborted"}),Pc=e=>({status:"dirty",value:e}),Dn=e=>({status:"valid",value:e}),fE=e=>"aborted"===e.status,hE=e=>"dirty"===e.status,ud=e=>"valid"===e.status,dd=e=>typeof Promise<"u"&&e instanceof Promise;function Mg(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)}function JP(e,t,r,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,r):s?s.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError;var fd,hd,te=function(e){return e.errToObj=t=>"string"==typeof t?{message:t}:t||{},e.toString=t=>"string"==typeof t?t:t?.message,e}(te||{});class vi{constructor(t,r,i,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=i,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const XP=(e,t)=>{if(ud(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zi(e.common.issues);return this._error=r,this._error}}};function me(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:i,description:s}=e;if(t&&(r||i))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(a,c)=>{var l,u;const{message:d}=e;return"invalid_enum_value"===a.code?{message:d??c.defaultError}:typeof c.data>"u"?{message:null!==(l=d??i)&&void 0!==l?l:c.defaultError}:"invalid_type"!==a.code?{message:c.defaultError}:{message:null!==(u=d??r)&&void 0!==u?u:c.defaultError}},description:s}}class Ee{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Bs(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Bs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new dn,ctx:{common:t.parent.common,data:t.data,parsedType:Bs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(dd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const i=this.safeParse(t,r);if(i.success)return i.data;throw i.error}safeParse(t,r){var i;const s={common:{issues:[],async:null!==(i=r?.async)&&void 0!==i&&i,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bs(t)},o=this._parseSync({data:t,path:s.path,parent:s});return XP(s,o)}parseAsync(t,r){var i=this;return U(function*(){const s=yield i.safeParseAsync(t,r);if(s.success)return s.data;throw s.error})()}safeParseAsync(t,r){var i=this;return U(function*(){const s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:i._def.errorMap,parent:null,data:t,parsedType:Bs(t)},o=i._parse({data:t,path:s.path,parent:s}),a=yield dd(o)?o:Promise.resolve(o);return XP(s,a)})()}refine(t,r){const i=s=>"string"==typeof r||typeof r>"u"?{message:r}:"function"==typeof r?r(s):r;return this._refinement((s,o)=>{const a=t(s),c=()=>o.addIssue({code:B.custom,...i(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>!!l||(c(),!1)):!!a||(c(),!1)})}refinement(t,r){return this._refinement((i,s)=>!!t(i)||(s.addIssue("function"==typeof r?r(i,s):r),!1))}_refinement(t){return new zo({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Us.create(this,this._def)}nullable(){return Uc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gd.create(this,this._def)}promise(){return kg.create(this,this._def)}or(t){return bE.create([this,t],this._def)}and(t){return CE.create(this,t,this._def)}transform(t){return new zo({...me(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r="function"==typeof t?t:()=>t;return new TE({...me(this._def),innerType:this,defaultValue:r,typeName:le.ZodDefault})}brand(){return new xE({typeName:le.ZodBranded,type:this,...me(this._def)})}catch(t){const r="function"==typeof t?t:()=>t;return new IE({...me(this._def),innerType:this,catchValue:r,typeName:le.ZodCatch})}describe(t){return new(0,this.constructor)({...this._def,description:t})}pipe(t){return vd.create(this,t)}readonly(){return AE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nne=/^c[^\s-]{8,}$/i,rne=/^[0-9a-z]+$/,ine=/^[0-9A-HJKMNP-TV-Z]{26}$/,sne=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,one=/^[a-z0-9_-]{21}$/i,ane=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let pE;const une=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dne=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fne=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hne=new RegExp(`^${eL}$`);function tL(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function pne(e){return new RegExp(`^${tL(e)}$`)}function nL(e){let t=`${eL}T${tL(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function gne(e,t){return!(("v4"!==t&&t||!une.test(e))&&("v6"!==t&&t||!dne.test(e)))}let Ng=(()=>{class e extends Ee{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==K.string){const a=this._getOrReturnCtx(r);return Z(a,{code:B.invalid_type,expected:K.string,received:a.parsedType}),ce}const s=new dn;let o;for(const a of this._def.checks)if("min"===a.kind)r.data.length<a.value&&(o=this._getOrReturnCtx(r,o),Z(o,{code:B.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if("max"===a.kind)r.data.length>a.value&&(o=this._getOrReturnCtx(r,o),Z(o,{code:B.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if("length"===a.kind){const c=r.data.length>a.value,l=r.data.length<a.value;(c||l)&&(o=this._getOrReturnCtx(r,o),c?Z(o,{code:B.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Z(o,{code:B.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if("email"===a.kind)cne.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"email",code:B.invalid_string,message:a.message}),s.dirty());else if("emoji"===a.kind)pE||(pE=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),pE.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"emoji",code:B.invalid_string,message:a.message}),s.dirty());else if("uuid"===a.kind)sne.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"uuid",code:B.invalid_string,message:a.message}),s.dirty());else if("nanoid"===a.kind)one.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"nanoid",code:B.invalid_string,message:a.message}),s.dirty());else if("cuid"===a.kind)nne.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"cuid",code:B.invalid_string,message:a.message}),s.dirty());else if("cuid2"===a.kind)rne.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"cuid2",code:B.invalid_string,message:a.message}),s.dirty());else if("ulid"===a.kind)ine.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"ulid",code:B.invalid_string,message:a.message}),s.dirty());else if("url"===a.kind)try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),Z(o,{validation:"url",code:B.invalid_string,message:a.message}),s.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"regex",code:B.invalid_string,message:a.message}),s.dirty())):"trim"===a.kind?r.data=r.data.trim():"includes"===a.kind?r.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(r,o),Z(o,{code:B.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):"toLowerCase"===a.kind?r.data=r.data.toLowerCase():"toUpperCase"===a.kind?r.data=r.data.toUpperCase():"startsWith"===a.kind?r.data.startsWith(a.value)||(o=this._getOrReturnCtx(r,o),Z(o,{code:B.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):"endsWith"===a.kind?r.data.endsWith(a.value)||(o=this._getOrReturnCtx(r,o),Z(o,{code:B.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):"datetime"===a.kind?nL(a).test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{code:B.invalid_string,validation:"datetime",message:a.message}),s.dirty()):"date"===a.kind?hne.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{code:B.invalid_string,validation:"date",message:a.message}),s.dirty()):"time"===a.kind?pne(a).test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{code:B.invalid_string,validation:"time",message:a.message}),s.dirty()):"duration"===a.kind?ane.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"duration",code:B.invalid_string,message:a.message}),s.dirty()):"ip"===a.kind?gne(r.data,a.version)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"ip",code:B.invalid_string,message:a.message}),s.dirty()):"base64"===a.kind?fne.test(r.data)||(o=this._getOrReturnCtx(r,o),Z(o,{validation:"base64",code:B.invalid_string,message:a.message}),s.dirty()):Oe.assertNever(a);return{status:s.value,value:r.data}}_regex(r,i,s){return this.refinement(o=>r.test(o),{validation:i,code:B.invalid_string,...te.errToObj(s)})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...te.errToObj(r)})}url(r){return this._addCheck({kind:"url",...te.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...te.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...te.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...te.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...te.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...te.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...te.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...te.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...te.errToObj(r)})}datetime(r){var i,s;return this._addCheck("string"==typeof r?{kind:"datetime",precision:null,offset:!1,local:!1,message:r}:{kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:null!==(i=r?.offset)&&void 0!==i&&i,local:null!==(s=r?.local)&&void 0!==s&&s,...te.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return this._addCheck("string"==typeof r?{kind:"time",precision:null,message:r}:{kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...te.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...te.errToObj(r)})}regex(r,i){return this._addCheck({kind:"regex",regex:r,...te.errToObj(i)})}includes(r,i){return this._addCheck({kind:"includes",value:r,position:i?.position,...te.errToObj(i?.message)})}startsWith(r,i){return this._addCheck({kind:"startsWith",value:r,...te.errToObj(i)})}endsWith(r,i){return this._addCheck({kind:"endsWith",value:r,...te.errToObj(i)})}min(r,i){return this._addCheck({kind:"min",value:r,...te.errToObj(i)})}max(r,i){return this._addCheck({kind:"max",value:r,...te.errToObj(i)})}length(r,i){return this._addCheck({kind:"length",value:r,...te.errToObj(i)})}nonempty(r){return this.min(1,te.errToObj(r))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>"datetime"===r.kind)}get isDate(){return!!this._def.checks.find(r=>"date"===r.kind)}get isTime(){return!!this._def.checks.find(r=>"time"===r.kind)}get isDuration(){return!!this._def.checks.find(r=>"duration"===r.kind)}get isEmail(){return!!this._def.checks.find(r=>"email"===r.kind)}get isURL(){return!!this._def.checks.find(r=>"url"===r.kind)}get isEmoji(){return!!this._def.checks.find(r=>"emoji"===r.kind)}get isUUID(){return!!this._def.checks.find(r=>"uuid"===r.kind)}get isNANOID(){return!!this._def.checks.find(r=>"nanoid"===r.kind)}get isCUID(){return!!this._def.checks.find(r=>"cuid"===r.kind)}get isCUID2(){return!!this._def.checks.find(r=>"cuid2"===r.kind)}get isULID(){return!!this._def.checks.find(r=>"ulid"===r.kind)}get isIP(){return!!this._def.checks.find(r=>"ip"===r.kind)}get isBase64(){return!!this._def.checks.find(r=>"base64"===r.kind)}get minLength(){let r=null;for(const i of this._def.checks)"min"===i.kind&&(null===r||i.value>r)&&(r=i.value);return r}get maxLength(){let r=null;for(const i of this._def.checks)"max"===i.kind&&(null===r||i.value<r)&&(r=i.value);return r}}return e.create=t=>{var r;return new e({checks:[],typeName:le.ZodString,coerce:null!==(r=t?.coerce)&&void 0!==r&&r,...me(t)})},e})();function mne(e,t){const r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=r>i?r:i;return parseInt(e.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}let gE=(()=>{class e extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==K.number){const a=this._getOrReturnCtx(r);return Z(a,{code:B.invalid_type,expected:K.number,received:a.parsedType}),ce}let s;const o=new dn;for(const a of this._def.checks)"int"===a.kind?Oe.isInteger(r.data)||(s=this._getOrReturnCtx(r,s),Z(s,{code:B.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):"min"===a.kind?(a.inclusive?r.data<a.value:r.data<=a.value)&&(s=this._getOrReturnCtx(r,s),Z(s,{code:B.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):"max"===a.kind?(a.inclusive?r.data>a.value:r.data>=a.value)&&(s=this._getOrReturnCtx(r,s),Z(s,{code:B.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):"multipleOf"===a.kind?0!==mne(r.data,a.value)&&(s=this._getOrReturnCtx(r,s),Z(s,{code:B.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):"finite"===a.kind?Number.isFinite(r.data)||(s=this._getOrReturnCtx(r,s),Z(s,{code:B.not_finite,message:a.message}),o.dirty()):Oe.assertNever(a);return{status:o.value,value:r.data}}gte(r,i){return this.setLimit("min",r,!0,te.toString(i))}gt(r,i){return this.setLimit("min",r,!1,te.toString(i))}lte(r,i){return this.setLimit("max",r,!0,te.toString(i))}lt(r,i){return this.setLimit("max",r,!1,te.toString(i))}setLimit(r,i,s,o){return new e({...this._def,checks:[...this._def.checks,{kind:r,value:i,inclusive:s,message:te.toString(o)}]})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:te.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(r)})}multipleOf(r,i){return this._addCheck({kind:"multipleOf",value:r,message:te.toString(i)})}finite(r){return this._addCheck({kind:"finite",message:te.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(r)})}get minValue(){let r=null;for(const i of this._def.checks)"min"===i.kind&&(null===r||i.value>r)&&(r=i.value);return r}get maxValue(){let r=null;for(const i of this._def.checks)"max"===i.kind&&(null===r||i.value<r)&&(r=i.value);return r}get isInt(){return!!this._def.checks.find(r=>"int"===r.kind||"multipleOf"===r.kind&&Oe.isInteger(r.value))}get isFinite(){let r=null,i=null;for(const s of this._def.checks){if("finite"===s.kind||"int"===s.kind||"multipleOf"===s.kind)return!0;"min"===s.kind?(null===i||s.value>i)&&(i=s.value):"max"===s.kind&&(null===r||s.value<r)&&(r=s.value)}return Number.isFinite(i)&&Number.isFinite(r)}}return e.create=t=>new e({checks:[],typeName:le.ZodNumber,coerce:t?.coerce||!1,...me(t)}),e})(),mE=(()=>{class e extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==K.bigint){const a=this._getOrReturnCtx(r);return Z(a,{code:B.invalid_type,expected:K.bigint,received:a.parsedType}),ce}let s;const o=new dn;for(const a of this._def.checks)"min"===a.kind?(a.inclusive?r.data<a.value:r.data<=a.value)&&(s=this._getOrReturnCtx(r,s),Z(s,{code:B.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):"max"===a.kind?(a.inclusive?r.data>a.value:r.data>=a.value)&&(s=this._getOrReturnCtx(r,s),Z(s,{code:B.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):"multipleOf"===a.kind?r.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(r,s),Z(s,{code:B.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):Oe.assertNever(a);return{status:o.value,value:r.data}}gte(r,i){return this.setLimit("min",r,!0,te.toString(i))}gt(r,i){return this.setLimit("min",r,!1,te.toString(i))}lte(r,i){return this.setLimit("max",r,!0,te.toString(i))}lt(r,i){return this.setLimit("max",r,!1,te.toString(i))}setLimit(r,i,s,o){return new e({...this._def,checks:[...this._def.checks,{kind:r,value:i,inclusive:s,message:te.toString(o)}]})}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(r)})}multipleOf(r,i){return this._addCheck({kind:"multipleOf",value:r,message:te.toString(i)})}get minValue(){let r=null;for(const i of this._def.checks)"min"===i.kind&&(null===r||i.value>r)&&(r=i.value);return r}get maxValue(){let r=null;for(const i of this._def.checks)"max"===i.kind&&(null===r||i.value<r)&&(r=i.value);return r}}return e.create=t=>{var r;return new e({checks:[],typeName:le.ZodBigInt,coerce:null!==(r=t?.coerce)&&void 0!==r&&r,...me(t)})},e})(),yE=(()=>{class e extends Ee{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==K.boolean){const s=this._getOrReturnCtx(r);return Z(s,{code:B.invalid_type,expected:K.boolean,received:s.parsedType}),ce}return Dn(r.data)}}return e.create=t=>new e({typeName:le.ZodBoolean,coerce:t?.coerce||!1,...me(t)}),e})(),vE=(()=>{class e extends Ee{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==K.date){const a=this._getOrReturnCtx(r);return Z(a,{code:B.invalid_type,expected:K.date,received:a.parsedType}),ce}if(isNaN(r.data.getTime()))return Z(this._getOrReturnCtx(r),{code:B.invalid_date}),ce;const s=new dn;let o;for(const a of this._def.checks)"min"===a.kind?r.data.getTime()<a.value&&(o=this._getOrReturnCtx(r,o),Z(o,{code:B.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):"max"===a.kind?r.data.getTime()>a.value&&(o=this._getOrReturnCtx(r,o),Z(o,{code:B.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):Oe.assertNever(a);return{status:s.value,value:new Date(r.data.getTime())}}_addCheck(r){return new e({...this._def,checks:[...this._def.checks,r]})}min(r,i){return this._addCheck({kind:"min",value:r.getTime(),message:te.toString(i)})}max(r,i){return this._addCheck({kind:"max",value:r.getTime(),message:te.toString(i)})}get minDate(){let r=null;for(const i of this._def.checks)"min"===i.kind&&(null===r||i.value>r)&&(r=i.value);return null!=r?new Date(r):null}get maxDate(){let r=null;for(const i of this._def.checks)"max"===i.kind&&(null===r||i.value<r)&&(r=i.value);return null!=r?new Date(r):null}}return e.create=t=>new e({checks:[],coerce:t?.coerce||!1,typeName:le.ZodDate,...me(t)}),e})(),rL=(()=>{class e extends Ee{_parse(r){if(this._getType(r)!==K.symbol){const s=this._getOrReturnCtx(r);return Z(s,{code:B.invalid_type,expected:K.symbol,received:s.parsedType}),ce}return Dn(r.data)}}return e.create=t=>new e({typeName:le.ZodSymbol,...me(t)}),e})(),_E=(()=>{class e extends Ee{_parse(r){if(this._getType(r)!==K.undefined){const s=this._getOrReturnCtx(r);return Z(s,{code:B.invalid_type,expected:K.undefined,received:s.parsedType}),ce}return Dn(r.data)}}return e.create=t=>new e({typeName:le.ZodUndefined,...me(t)}),e})(),wE=(()=>{class e extends Ee{_parse(r){if(this._getType(r)!==K.null){const s=this._getOrReturnCtx(r);return Z(s,{code:B.invalid_type,expected:K.null,received:s.parsedType}),ce}return Dn(r.data)}}return e.create=t=>new e({typeName:le.ZodNull,...me(t)}),e})(),Rg=(()=>{class e extends Ee{constructor(){super(...arguments),this._any=!0}_parse(r){return Dn(r.data)}}return e.create=t=>new e({typeName:le.ZodAny,...me(t)}),e})(),pd=(()=>{class e extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Dn(r.data)}}return e.create=t=>new e({typeName:le.ZodUnknown,...me(t)}),e})(),Ho=(()=>{class e extends Ee{_parse(r){const i=this._getOrReturnCtx(r);return Z(i,{code:B.invalid_type,expected:K.never,received:i.parsedType}),ce}}return e.create=t=>new e({typeName:le.ZodNever,...me(t)}),e})(),iL=(()=>{class e extends Ee{_parse(r){if(this._getType(r)!==K.undefined){const s=this._getOrReturnCtx(r);return Z(s,{code:B.invalid_type,expected:K.void,received:s.parsedType}),ce}return Dn(r.data)}}return e.create=t=>new e({typeName:le.ZodVoid,...me(t)}),e})(),gd=(()=>{class e extends Ee{_parse(r){const{ctx:i,status:s}=this._processInputParams(r),o=this._def;if(i.parsedType!==K.array)return Z(i,{code:B.invalid_type,expected:K.array,received:i.parsedType}),ce;if(null!==o.exactLength){const c=i.data.length>o.exactLength.value,l=i.data.length<o.exactLength.value;(c||l)&&(Z(i,{code:c?B.too_big:B.too_small,minimum:l?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),s.dirty())}if(null!==o.minLength&&i.data.length<o.minLength.value&&(Z(i,{code:B.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),s.dirty()),null!==o.maxLength&&i.data.length>o.maxLength.value&&(Z(i,{code:B.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),s.dirty()),i.common.async)return Promise.all([...i.data].map((c,l)=>o.type._parseAsync(new vi(i,c,i.path,l)))).then(c=>dn.mergeArray(s,c));const a=[...i.data].map((c,l)=>o.type._parseSync(new vi(i,c,i.path,l)));return dn.mergeArray(s,a)}get element(){return this._def.type}min(r,i){return new e({...this._def,minLength:{value:r,message:te.toString(i)}})}max(r,i){return new e({...this._def,maxLength:{value:r,message:te.toString(i)}})}length(r,i){return new e({...this._def,exactLength:{value:r,message:te.toString(i)}})}nonempty(r){return this.min(1,r)}}return e.create=(t,r)=>new e({type:t,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...me(r)}),e})();function Lc(e){if(e instanceof Fc){const t={};for(const r in e.shape)t[r]=Us.create(Lc(e.shape[r]));return new Fc({...e._def,shape:()=>t})}return e instanceof gd?new gd({...e._def,type:Lc(e.element)}):e instanceof Us?Us.create(Lc(e.unwrap())):e instanceof Uc?Uc.create(Lc(e.unwrap())):e instanceof Bc?Bc.create(e.items.map(t=>Lc(t))):e}let Fc=(()=>{class e extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const r=this._def.shape(),i=Oe.objectKeys(r);return this._cached={shape:r,keys:i}}_parse(r){if(this._getType(r)!==K.object){const d=this._getOrReturnCtx(r);return Z(d,{code:B.invalid_type,expected:K.object,received:d.parsedType}),ce}const{status:s,ctx:o}=this._processInputParams(r),{shape:a,keys:c}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ho&&"strip"===this._def.unknownKeys))for(const d in o.data)c.includes(d)||l.push(d);const u=[];for(const d of c)u.push({key:{status:"valid",value:d},value:a[d]._parse(new vi(o,o.data[d],o.path,d)),alwaysSet:d in o.data});if(this._def.catchall instanceof Ho){const d=this._def.unknownKeys;if("passthrough"===d)for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:o.data[f]}});else if("strict"===d)l.length>0&&(Z(o,{code:B.unrecognized_keys,keys:l}),s.dirty());else if("strip"!==d)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l)u.push({key:{status:"valid",value:f},value:d._parse(new vi(o,o.data[f],o.path,f)),alwaysSet:f in o.data})}return o.common.async?Promise.resolve().then(U(function*(){const d=[];for(const f of u){const h=yield f.key,p=yield f.value;d.push({key:h,value:p,alwaysSet:f.alwaysSet})}return d})).then(d=>dn.mergeObjectSync(s,d)):dn.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(r){return new e({...this._def,unknownKeys:"strict",...void 0!==r?{errorMap:(i,s)=>{var o,a,c,l;const u=null!==(c=null===(a=(o=this._def).errorMap)||void 0===a?void 0:a.call(o,i,s).message)&&void 0!==c?c:s.defaultError;return"unrecognized_keys"===i.code?{message:null!==(l=te.errToObj(r).message)&&void 0!==l?l:u}:{message:u}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(r){return new e({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new e({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:le.ZodObject})}setKey(r,i){return this.augment({[r]:i})}catchall(r){return new e({...this._def,catchall:r})}pick(r){const i={};return Oe.objectKeys(r).forEach(s=>{r[s]&&this.shape[s]&&(i[s]=this.shape[s])}),new e({...this._def,shape:()=>i})}omit(r){const i={};return Oe.objectKeys(this.shape).forEach(s=>{r[s]||(i[s]=this.shape[s])}),new e({...this._def,shape:()=>i})}deepPartial(){return Lc(this)}partial(r){const i={};return Oe.objectKeys(this.shape).forEach(s=>{const o=this.shape[s];i[s]=r&&!r[s]?o:o.optional()}),new e({...this._def,shape:()=>i})}required(r){const i={};return Oe.objectKeys(this.shape).forEach(s=>{if(r&&!r[s])i[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Us;)a=a._def.innerType;i[s]=a}}),new e({...this._def,shape:()=>i})}keyof(){return aL(Oe.objectKeys(this.shape))}}return e.create=(t,r)=>new e({shape:()=>t,unknownKeys:"strip",catchall:Ho.create(),typeName:le.ZodObject,...me(r)}),e.strictCreate=(t,r)=>new e({shape:()=>t,unknownKeys:"strict",catchall:Ho.create(),typeName:le.ZodObject,...me(r)}),e.lazycreate=(t,r)=>new e({shape:t,unknownKeys:"strip",catchall:Ho.create(),typeName:le.ZodObject,...me(r)}),e})(),bE=(()=>{class e extends Ee{_parse(r){const{ctx:i}=this._processInputParams(r),s=this._def.options;if(i.common.async)return Promise.all(s.map(function(){var a=U(function*(c){const l={...i,common:{...i.common,issues:[]},parent:null};return{result:yield c._parseAsync({data:i.data,path:i.path,parent:l}),ctx:l}});return function(c){return a.apply(this,arguments)}}())).then(function o(a){for(const l of a)if("valid"===l.result.status)return l.result;for(const l of a)if("dirty"===l.result.status)return i.common.issues.push(...l.ctx.common.issues),l.result;const c=a.map(l=>new Zi(l.ctx.common.issues));return Z(i,{code:B.invalid_union,unionErrors:c}),ce});{let a;const c=[];for(const u of s){const d={...i,common:{...i.common,issues:[]},parent:null},f=u._parseSync({data:i.data,path:i.path,parent:d});if("valid"===f.status)return f;"dirty"===f.status&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&c.push(d.common.issues)}if(a)return i.common.issues.push(...a.ctx.common.issues),a.result;const l=c.map(u=>new Zi(u));return Z(i,{code:B.invalid_union,unionErrors:l}),ce}}get options(){return this._def.options}}return e.create=(t,r)=>new e({options:t,typeName:le.ZodUnion,...me(r)}),e})();const Ki=e=>e instanceof DE?Ki(e.schema):e instanceof zo?Ki(e.innerType()):e instanceof SE?[e.value]:e instanceof Vs?e.options:e instanceof yd?Oe.objectValues(e.enum):e instanceof TE?Ki(e._def.innerType):e instanceof _E?[void 0]:e instanceof wE?[null]:e instanceof Us?[void 0,...Ki(e.unwrap())]:e instanceof Uc?[null,...Ki(e.unwrap())]:e instanceof xE||e instanceof AE?Ki(e.unwrap()):e instanceof IE?Ki(e._def.innerType):[];class Og extends Ee{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==K.object)return Z(r,{code:B.invalid_type,expected:K.object,received:r.parsedType}),ce;const i=this.discriminator,o=this.optionsMap.get(r.data[i]);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Z(r,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,i){const s=new Map;for(const o of r){const a=Ki(o.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of a){if(s.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);s.set(c,o)}}return new Og({typeName:le.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...me(i)})}}function EE(e,t){const r=Bs(e),i=Bs(t);if(e===t)return{valid:!0,data:e};if(r===K.object&&i===K.object){const s=Oe.objectKeys(t),o=Oe.objectKeys(e).filter(c=>-1!==s.indexOf(c)),a={...e,...t};for(const c of o){const l=EE(e[c],t[c]);if(!l.valid)return{valid:!1};a[c]=l.data}return{valid:!0,data:a}}if(r===K.array&&i===K.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const l=EE(e[o],t[o]);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}return r===K.date&&i===K.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let CE=(()=>{class e extends Ee{_parse(r){const{status:i,ctx:s}=this._processInputParams(r),o=(a,c)=>{if(fE(a)||fE(c))return ce;const l=EE(a.value,c.value);return l.valid?((hE(a)||hE(c))&&i.dirty(),{status:i.value,value:l.data}):(Z(s,{code:B.invalid_intersection_types}),ce)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,c])=>o(a,c)):o(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}return e.create=(t,r,i)=>new e({left:t,right:r,typeName:le.ZodIntersection,...me(i)}),e})(),Bc=(()=>{class e extends Ee{_parse(r){const{status:i,ctx:s}=this._processInputParams(r);if(s.parsedType!==K.array)return Z(s,{code:B.invalid_type,expected:K.array,received:s.parsedType}),ce;if(s.data.length<this._def.items.length)return Z(s,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&s.data.length>this._def.items.length&&(Z(s,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());const a=[...s.data].map((c,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new vi(s,c,s.path,l)):null}).filter(c=>!!c);return s.common.async?Promise.all(a).then(c=>dn.mergeArray(i,c)):dn.mergeArray(i,a)}get items(){return this._def.items}rest(r){return new e({...this._def,rest:r})}}return e.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new e({items:t,typeName:le.ZodTuple,rest:null,...me(r)})},e})();class md extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==K.object)return Z(i,{code:B.invalid_type,expected:K.object,received:i.parsedType}),ce;const s=[],o=this._def.keyType,a=this._def.valueType;for(const c in i.data)s.push({key:o._parse(new vi(i,c,i.path,c)),value:a._parse(new vi(i,i.data[c],i.path,c)),alwaysSet:c in i.data});return i.common.async?dn.mergeObjectAsync(r,s):dn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,i){return new md(r instanceof Ee?{keyType:t,valueType:r,typeName:le.ZodRecord,...me(i)}:{keyType:Ng.create(),valueType:t,typeName:le.ZodRecord,...me(r)})}}let sL=(()=>{class e extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:i,ctx:s}=this._processInputParams(r);if(s.parsedType!==K.map)return Z(s,{code:B.invalid_type,expected:K.map,received:s.parsedType}),ce;const o=this._def.keyType,a=this._def.valueType,c=[...s.data.entries()].map(([l,u],d)=>({key:o._parse(new vi(s,l,s.path,[d,"key"])),value:a._parse(new vi(s,u,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(U(function*(){for(const u of c){const d=yield u.key,f=yield u.value;if("aborted"===d.status||"aborted"===f.status)return ce;("dirty"===d.status||"dirty"===f.status)&&i.dirty(),l.set(d.value,f.value)}return{status:i.value,value:l}}))}{const l=new Map;for(const u of c){const d=u.key,f=u.value;if("aborted"===d.status||"aborted"===f.status)return ce;("dirty"===d.status||"dirty"===f.status)&&i.dirty(),l.set(d.value,f.value)}return{status:i.value,value:l}}}}return e.create=(t,r,i)=>new e({valueType:r,keyType:t,typeName:le.ZodMap,...me(i)}),e})(),oL=(()=>{class e extends Ee{_parse(r){const{status:i,ctx:s}=this._processInputParams(r);if(s.parsedType!==K.set)return Z(s,{code:B.invalid_type,expected:K.set,received:s.parsedType}),ce;const o=this._def;null!==o.minSize&&s.data.size<o.minSize.value&&(Z(s,{code:B.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),i.dirty()),null!==o.maxSize&&s.data.size>o.maxSize.value&&(Z(s,{code:B.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),i.dirty());const a=this._def.valueType;function c(u){const d=new Set;for(const f of u){if("aborted"===f.status)return ce;"dirty"===f.status&&i.dirty(),d.add(f.value)}return{status:i.value,value:d}}const l=[...s.data.values()].map((u,d)=>a._parse(new vi(s,u,s.path,d)));return s.common.async?Promise.all(l).then(u=>c(u)):c(l)}min(r,i){return new e({...this._def,minSize:{value:r,message:te.toString(i)}})}max(r,i){return new e({...this._def,maxSize:{value:r,message:te.toString(i)}})}size(r,i){return this.min(r,i).max(r,i)}nonempty(r){return this.min(1,r)}}return e.create=(t,r)=>new e({valueType:t,minSize:null,maxSize:null,typeName:le.ZodSet,...me(r)}),e})();class Vc extends Ee{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==K.function)return Z(r,{code:B.invalid_type,expected:K.function,received:r.parsedType}),ce;function i(c,l){return Ag({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,xg(),kc].filter(u=>!!u),issueData:{code:B.invalid_arguments,argumentsError:l}})}function s(c,l){return Ag({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,xg(),kc].filter(u=>!!u),issueData:{code:B.invalid_return_type,returnTypeError:l}})}const o={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof kg){const c=this;return Dn(U(function*(...l){const u=new Zi([]),d=yield c._def.args.parseAsync(l,o).catch(p=>{throw u.addIssue(i(l,p)),u}),f=yield Reflect.apply(a,this,d);return yield c._def.returns._def.type.parseAsync(f,o).catch(p=>{throw u.addIssue(s(f,p)),u})}))}{const c=this;return Dn(function(...l){const u=c._def.args.safeParse(l,o);if(!u.success)throw new Zi([i(l,u.error)]);const d=Reflect.apply(a,this,u.data),f=c._def.returns.safeParse(d,o);if(!f.success)throw new Zi([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Vc({...this._def,args:Bc.create(t).rest(pd.create())})}returns(t){return new Vc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,i){return new Vc({args:t||Bc.create([]).rest(pd.create()),returns:r||pd.create(),typeName:le.ZodFunction,...me(i)})}}let DE=(()=>{class e extends Ee{get schema(){return this._def.getter()}_parse(r){const{ctx:i}=this._processInputParams(r);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}return e.create=(t,r)=>new e({getter:t,typeName:le.ZodLazy,...me(r)}),e})(),SE=(()=>{class e extends Ee{_parse(r){if(r.data!==this._def.value){const i=this._getOrReturnCtx(r);return Z(i,{received:i.data,code:B.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:r.data}}get value(){return this._def.value}}return e.create=(t,r)=>new e({value:t,typeName:le.ZodLiteral,...me(r)}),e})();function aL(e,t){return new Vs({values:e,typeName:le.ZodEnum,...me(t)})}class Vs extends Ee{constructor(){super(...arguments),fd.set(this,void 0)}_parse(t){if("string"!=typeof t.data){const r=this._getOrReturnCtx(t);return Z(r,{expected:Oe.joinValues(this._def.values),received:r.parsedType,code:B.invalid_type}),ce}if(Mg(this,fd,"f")||JP(this,fd,new Set(this._def.values),"f"),!Mg(this,fd,"f").has(t.data)){const r=this._getOrReturnCtx(t);return Z(r,{received:r.data,code:B.invalid_enum_value,options:this._def.values}),ce}return Dn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Vs.create(t,{...this._def,...r})}exclude(t,r=this._def){return Vs.create(this.options.filter(i=>!t.includes(i)),{...this._def,...r})}}fd=new WeakMap,Vs.create=aL;class yd extends Ee{constructor(){super(...arguments),hd.set(this,void 0)}_parse(t){const r=Oe.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==K.string&&i.parsedType!==K.number){const s=Oe.objectValues(r);return Z(i,{expected:Oe.joinValues(s),received:i.parsedType,code:B.invalid_type}),ce}if(Mg(this,hd,"f")||JP(this,hd,new Set(Oe.getValidEnumValues(this._def.values)),"f"),!Mg(this,hd,"f").has(t.data)){const s=Oe.objectValues(r);return Z(i,{received:i.data,code:B.invalid_enum_value,options:s}),ce}return Dn(t.data)}get enum(){return this._def.values}}hd=new WeakMap,yd.create=(e,t)=>new yd({values:e,typeName:le.ZodNativeEnum,...me(t)});let kg=(()=>{class e extends Ee{unwrap(){return this._def.type}_parse(r){const{ctx:i}=this._processInputParams(r);if(i.parsedType!==K.promise&&!1===i.common.async)return Z(i,{code:B.invalid_type,expected:K.promise,received:i.parsedType}),ce;const s=i.parsedType===K.promise?i.data:Promise.resolve(i.data);return Dn(s.then(o=>this._def.type.parseAsync(o,{path:i.path,errorMap:i.common.contextualErrorMap})))}}return e.create=(t,r)=>new e({type:t,typeName:le.ZodPromise,...me(r)}),e})(),zo=(()=>{class e extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){var i=this;const{status:s,ctx:o}=this._processInputParams(r),a=this._def.effect||null,c={addIssue:l=>{Z(o,l),l.fatal?s.abort():s.dirty()},get path(){return o.path}};if(c.addIssue=c.addIssue.bind(c),"preprocess"===a.type){const l=a.transform(o.data,c);if(o.common.async)return Promise.resolve(l).then(function(){var u=U(function*(d){if("aborted"===s.value)return ce;const f=yield i._def.schema._parseAsync({data:d,path:o.path,parent:o});return"aborted"===f.status?ce:"dirty"===f.status||"dirty"===s.value?Pc(f.value):f});return function(d){return u.apply(this,arguments)}}());{if("aborted"===s.value)return ce;const u=this._def.schema._parseSync({data:l,path:o.path,parent:o});return"aborted"===u.status?ce:"dirty"===u.status||"dirty"===s.value?Pc(u.value):u}}if("refinement"===a.type){const l=u=>{const d=a.refinement(u,c);if(o.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(!1===o.common.async){const u=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return"aborted"===u.status?ce:("dirty"===u.status&&s.dirty(),l(u.value),{status:s.value,value:u.value})}return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(u=>"aborted"===u.status?ce:("dirty"===u.status&&s.dirty(),l(u.value).then(()=>({status:s.value,value:u.value}))))}if("transform"===a.type){if(!1===o.common.async){const l=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!ud(l))return l;const u=a.transform(l.value,c);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:u}}return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(l=>ud(l)?Promise.resolve(a.transform(l.value,c)).then(u=>({status:s.value,value:u})):l)}Oe.assertNever(a)}}return e.create=(t,r,i)=>new e({schema:t,typeName:le.ZodEffects,effect:r,...me(i)}),e.createWithPreprocess=(t,r,i)=>new e({schema:r,effect:{type:"preprocess",transform:t},typeName:le.ZodEffects,...me(i)}),e})(),Us=(()=>{class e extends Ee{_parse(r){return this._getType(r)===K.undefined?Dn(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:le.ZodOptional,...me(r)}),e})(),Uc=(()=>{class e extends Ee{_parse(r){return this._getType(r)===K.null?Dn(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:le.ZodNullable,...me(r)}),e})(),TE=(()=>{class e extends Ee{_parse(r){const{ctx:i}=this._processInputParams(r);let s=i.data;return i.parsedType===K.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:le.ZodDefault,defaultValue:"function"==typeof r.default?r.default:()=>r.default,...me(r)}),e})(),IE=(()=>{class e extends Ee{_parse(r){const{ctx:i}=this._processInputParams(r),s={...i,common:{...i.common,issues:[]}},o=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return dd(o)?o.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new Zi(s.common.issues)},input:s.data})})):{status:"valid",value:"valid"===o.status?o.value:this._def.catchValue({get error(){return new Zi(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:le.ZodCatch,catchValue:"function"==typeof r.catch?r.catch:()=>r.catch,...me(r)}),e})(),cL=(()=>{class e extends Ee{_parse(r){if(this._getType(r)!==K.nan){const s=this._getOrReturnCtx(r);return Z(s,{code:B.invalid_type,expected:K.nan,received:s.parsedType}),ce}return{status:"valid",value:r.data}}}return e.create=t=>new e({typeName:le.ZodNaN,...me(t)}),e})();const yne=Symbol("zod_brand");class xE extends Ee{_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.type._parse({data:r.data,path:r.path,parent:r})}unwrap(){return this._def.type}}class vd extends Ee{_parse(t){var r=this;const{status:i,ctx:s}=this._processInputParams(t);if(s.common.async)return function(){var a=U(function*(){const c=yield r._def.in._parseAsync({data:s.data,path:s.path,parent:s});return"aborted"===c.status?ce:"dirty"===c.status?(i.dirty(),Pc(c.value)):r._def.out._parseAsync({data:c.value,path:s.path,parent:s})});return function(){return a.apply(this,arguments)}}()();{const o=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===o.status?ce:"dirty"===o.status?(i.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:s.path,parent:s})}}static create(t,r){return new vd({in:t,out:r,typeName:le.ZodPipeline})}}let AE=(()=>{class e extends Ee{_parse(r){const i=this._def.innerType._parse(r),s=o=>(ud(o)&&(o.value=Object.freeze(o.value)),o);return dd(i)?i.then(o=>s(o)):s(i)}unwrap(){return this._def.innerType}}return e.create=(t,r)=>new e({innerType:t,typeName:le.ZodReadonly,...me(r)}),e})();function lL(e,t={},r){return e?Rg.create().superRefine((i,s)=>{var o,a;if(!e(i)){const c="function"==typeof t?t(i):"string"==typeof t?{message:t}:t,l=null===(a=null!==(o=c.fatal)&&void 0!==o?o:r)||void 0===a||a;s.addIssue({code:"custom",..."string"==typeof c?{message:c}:c,fatal:l})}}):Rg.create()}const vne={object:Fc.lazycreate};var le=function(e){return e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly",e}(le||{});const uL=Ng.create,dL=gE.create,wne=cL.create,bne=mE.create,fL=yE.create,Ene=vE.create,Cne=rL.create,Dne=_E.create,Sne=wE.create,Tne=Rg.create,Ine=pd.create,xne=Ho.create,Ane=iL.create,Mne=gd.create,Nne=Fc.create,Rne=Fc.strictCreate,One=bE.create,kne=Og.create,Pne=CE.create,Lne=Bc.create,Fne=md.create,Bne=sL.create,Vne=oL.create,Une=Vc.create,jne=DE.create,$ne=SE.create,Hne=Vs.create,zne=yd.create,qne=kg.create,hL=zo.create,Gne=Us.create,Wne=Uc.create,Zne=zo.createWithPreprocess,Kne=vd.create;var pL,G=Object.freeze({__proto__:null,defaultErrorMap:kc,setErrorMap:function ene(e){YP=e},getErrorMap:xg,makeIssue:Ag,EMPTY_PATH:[],addIssueToContext:Z,ParseStatus:dn,INVALID:ce,DIRTY:Pc,OK:Dn,isAborted:fE,isDirty:hE,isValid:ud,isAsync:dd,get util(){return Oe},get objectUtil(){return QP},ZodParsedType:K,getParsedType:Bs,ZodType:Ee,datetimeRegex:nL,ZodString:Ng,ZodNumber:gE,ZodBigInt:mE,ZodBoolean:yE,ZodDate:vE,ZodSymbol:rL,ZodUndefined:_E,ZodNull:wE,ZodAny:Rg,ZodUnknown:pd,ZodNever:Ho,ZodVoid:iL,ZodArray:gd,ZodObject:Fc,ZodUnion:bE,ZodDiscriminatedUnion:Og,ZodIntersection:CE,ZodTuple:Bc,ZodRecord:md,ZodMap:sL,ZodSet:oL,ZodFunction:Vc,ZodLazy:DE,ZodLiteral:SE,ZodEnum:Vs,ZodNativeEnum:yd,ZodPromise:kg,ZodEffects:zo,ZodTransformer:zo,ZodOptional:Us,ZodNullable:Uc,ZodDefault:TE,ZodCatch:IE,ZodNaN:cL,BRAND:yne,ZodBranded:xE,ZodPipeline:vd,ZodReadonly:AE,custom:lL,Schema:Ee,ZodSchema:Ee,late:vne,get ZodFirstPartyTypeKind(){return le},coerce:{string:e=>Ng.create({...e,coerce:!0}),number:e=>gE.create({...e,coerce:!0}),boolean:e=>yE.create({...e,coerce:!0}),bigint:e=>mE.create({...e,coerce:!0}),date:e=>vE.create({...e,coerce:!0})},any:Tne,array:Mne,bigint:bne,boolean:fL,date:Ene,discriminatedUnion:kne,effect:hL,enum:Hne,function:Une,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>lL(r=>r instanceof e,t),intersection:Pne,lazy:jne,literal:$ne,map:Bne,nan:wne,nativeEnum:zne,never:xne,null:Sne,nullable:Wne,number:dL,object:Nne,oboolean:()=>fL().optional(),onumber:()=>dL().optional(),optional:Gne,ostring:()=>uL().optional(),pipeline:Kne,preprocess:Zne,promise:qne,record:Fne,set:Vne,strictObject:Rne,string:uL,symbol:Cne,transformer:hL,tuple:Lne,undefined:Dne,union:One,unknown:Ine,void:Ane,NEVER:ce,ZodIssueCode:B,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Zi});class ot{static id(){return G.string().regex(/^[0-9a-f]{64}$/)}static event(){return G.object({id:ot.id(),kind:G.number().int().nonnegative(),pubkey:ot.id(),tags:G.string().array().array(),content:G.string(),created_at:G.number().int().nonnegative(),sig:G.string()})}static filter(){return G.object({kinds:G.number().int().nonnegative().array().optional(),ids:ot.id().array().optional(),authors:ot.id().array().optional(),since:G.number().int().nonnegative().optional(),until:G.number().int().nonnegative().optional(),limit:G.number().int().nonnegative().optional(),search:G.string().optional()}).passthrough().transform(t=>{const r=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((i,[s,o])=>((r.includes(s)||s.startsWith("#"))&&(i[s]=o),i),{})})}static bech32(t){return G.string().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(r=>!t||r.startsWith(`${t}1`))}static clientEVENT(){return G.tuple([G.literal("EVENT"),ot.event()])}static clientREQ(){return G.tuple([G.literal("REQ"),G.string()]).rest(ot.filter())}static clientCOUNT(){return G.tuple([G.literal("COUNT"),G.string()]).rest(ot.filter())}static clientCLOSE(){return G.tuple([G.literal("CLOSE"),G.string()])}static clientAUTH(){return G.tuple([G.literal("AUTH"),ot.event()])}static clientMsg(){return G.union([ot.clientEVENT(),ot.clientREQ(),ot.clientCOUNT(),ot.clientCLOSE(),ot.clientAUTH()])}static relayEVENT(){return G.tuple([G.literal("EVENT"),G.string(),ot.event()])}static relayOK(){return G.tuple([G.literal("OK"),ot.id(),G.boolean(),G.string()])}static relayEOSE(){return G.tuple([G.literal("EOSE"),G.string()])}static relayNOTICE(){return G.tuple([G.literal("NOTICE"),G.string()])}static relayCLOSED(){return G.tuple([G.literal("CLOSED"),G.string(),G.string()])}static relayAUTH(){return G.tuple([G.literal("AUTH"),G.string()])}static relayCOUNT(){return G.tuple([G.literal("COUNT"),G.string(),G.object({count:G.number().int().nonnegative(),approximate:G.boolean().optional()})])}static relayMsg(){return G.union([ot.relayEVENT(),ot.relayOK(),ot.relayEOSE(),ot.relayNOTICE(),ot.relayCLOSED(),ot.relayAUTH(),ot.relayCOUNT()])}static metadata(){return G.object({about:G.string().optional().catch(void 0),banner:G.string().url().optional().catch(void 0),bot:G.boolean().optional().catch(void 0),display_name:G.string().optional().catch(void 0),lud06:ot.bech32("lnurl").optional().catch(void 0),lud16:G.string().email().optional().catch(void 0),name:G.string().optional().catch(void 0),nip05:G.string().email().optional().catch(void 0),picture:G.string().url().optional().catch(void 0),website:G.string().url().optional().catch(void 0)}).passthrough()}static connectRequest(){return G.object({id:G.string(),method:G.string(),params:G.string().array()})}static connectResponse(){return G.object({id:G.string(),result:G.string(),error:G.string().optional()})}static json(){return G.string().transform((t,r)=>{try{return JSON.parse(t)}catch{return r.addIssue({code:G.ZodIssueCode.custom,message:"Invalid JSON"}),G.NEVER}})}}pL=Symbol.asyncDispose;class Qne{url;opts;socket;subs;closedByUser;idleTimer;ee;get subscriptions(){return[...this.subs.values()]}constructor(t,r={}){this.url=t,this.opts=r,this.subs=new Map,this.closedByUser=!1,this.ee=new EventTarget,this.socket=this.createSocket(),this.maybeStartIdleTimer()}createSocket(){const{backoff:t=new Kte(1e3)}=this.opts;return new Yte(this.url).withBuffer(new Jte).withBackoff(!1===t?void 0:t).onOpen(()=>{for(const r of this.subs.values())this.send(r)}).onClose(()=>{this.subs.size||this.socket.close()}).onMessage((r,i)=>{const s=ot.json().pipe(ot.relayMsg()).safeParse(i.data);s.success&&this.receive(s.data)}).build()}receive(t){const{auth:r,verifyEvent:i=Cc}=this.opts;switch(t[0]){case"EVENT":if(!i(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":r?.(t[1]).then(s=>this.send(["AUTH",s])).catch(()=>{})}}send(t){switch(this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}req(t,r={}){var i=this;return Ig(function*(){const{signal:s}=r,o=crypto.randomUUID(),a=i.on(`sub:${o}`,s),c=["REQ",o,...t];i.send(c);try{var d,l=!1,u=!1;try{for(var h,f=_s(a);l=!(h=yield Fs(f.next())).done;l=!1){const p=h.value;if("EOSE"===p[0]&&(yield p),"CLOSED"===p[0])break;if("EVENT"===p[0]){if(!ng(t,p[2]))continue;yield p}}}catch(p){u=!0,d=p}finally{try{l&&null!=f.return&&(yield Fs(f.return()))}finally{if(u)throw d}}}finally{i.send(["CLOSE",o])}})()}query(t,r){var i=this;return U(function*(){const s=new hr,o=t.reduce((f,h)=>f+l2(h),0);if(0===o)return[];var l,a=!1,c=!1;try{for(var d,u=_s(i.req(t,r));a=!(d=yield u.next()).done;a=!1){const f=d.value;if("EOSE"===f[0])break;if("EVENT"===f[0]&&s.add(f[2]),"CLOSED"===f[0])throw new Error("Subscription closed");if(s.size>=o)break}}catch(f){c=!0,l=f}finally{try{a&&null!=u.return&&(yield u.return())}finally{if(c)throw l}}return[...s]})()}event(t,r){var i=this;return U(function*(){const s=i.once(`ok:${t.id}`,r?.signal);i.send(["EVENT",t]);const[,,o,a]=yield s;if(!o)throw new Error(a)})()}count(t,r){var i=this;return U(function*(){const s=crypto.randomUUID(),o=i.once(`count:${s}`,r?.signal);i.send(["COUNT",s,...t]);const a=yield o;switch(a[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,c]=a;return c}}})()}on(t,r){var i=this;return Ig(function*(){if(r?.aborted)throw i.abortError();const s=new WP(r),o=f=>s.push(f.detail);i.ee.addEventListener(t,o);try{var l,a=!1,c=!1;try{for(var d,u=_s(s);a=!(d=yield Fs(u.next())).done;a=!1)yield d.value}catch(f){c=!0,l=f}finally{try{a&&null!=u.return&&(yield Fs(u.return()))}finally{if(c)throw l}}}finally{i.ee.removeEventListener(t,o)}})()}once(t,r){var i=this;return U(function*(){var a,s=!1,o=!1;try{for(var l,c=_s(i.on(t,r));s=!(l=yield c.next()).done;s=!1)return l.value}catch(u){o=!0,a=u}finally{try{s&&null!=c.return&&(yield c.return())}finally{if(o)throw a}}throw new Error("Unreachable")})()}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;!1!==t&&(this.idleTimer||this.subs.size||this.closedByUser||(this.idleTimer=setTimeout(()=>this.socket.close(),t)))}stopIdleTimer(){clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser&&(this.socket=this.createSocket())}close(){var t=this;return U(function*(){t.closedByUser=!0,t.socket.close(),t.stopIdleTimer(),t.socket.readyState!==WebSocket.CLOSED&&(yield new Promise(r=>{t.socket.addEventListener(Xe.close,r,{once:!0})}))})()}[pL](){var t=this;return U(function*(){yield t.close()})()}}var Pg=new TextDecoder("utf-8"),gL=(new TextEncoder,5e3);function ME(e){let t={},r=e;for(;r.length>0;){let i=r[0],s=r[1],o=r.slice(2,2+s);if(r=r.slice(2+s),o.length<s)throw new Error(`not enough data to read on TLV ${i}`);t[i]=t[i]||[],t[i].push(o)}return t}function Fg(e){return function NE(e,t){return function Bg(e,t){let r=pi.toWords(t);return pi.encode(e,r,gL)}(e,t)}("npub",Mo(e))}const mL=new q("NPoolOptsNRelay1");let OE=(()=>{class e{ignoreList=new Set;constructor(){this.loadIgnoreList()}loadIgnoreList(){try{const r=sessionStorage.getItem("talkToStrangerIgnoreList");if(r){let i=JSON.parse(r);i instanceof Array?this.ignoreList=new Set(i):sessionStorage.setItem("talkToStrangerIgnoreList","[]")}}catch{sessionStorage.setItem("talkToStrangerIgnoreList","[]")}}saveInIgnoreList(r){this.ignoreList.add(r),sessionStorage.setItem("talkToStrangerIgnoreList",JSON.stringify([...this.ignoreList]))}isInIgnoreList(r){return this.ignoreList.has(r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xe_debug=(...e)=>console.debug((new Date).toLocaleString(),"["+Math.floor((new Date).getTime()/1e3)+"]",...e),xe_error=(...e)=>console.error((new Date).toLocaleString(),"["+Math.floor((new Date).getTime()/1e3)+"]",...e);let kE=(()=>{class e{wannachatTimeoutInSeconds={min:17,max:22};getTimeoutInSeconds(){const{min:r,max:i}=this.wannachatTimeoutInSeconds,s=r+Math.floor(Math.random()*(i-r));return xe_debug(`random timeout generated: ${s} seconds`),s}getTimeoutInMilliseconds(){const{min:i,max:s}=this.wannachatTimeoutInSeconds,o=s-i,a=Math.floor(1e3*(i+Math.random()*o));return xe_debug(`random timeout generated: ${a} milliseconds`),a}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),Vg=(()=>{class e{#t;currentSession;constructor(){const r=Ww();this.#t=new cE(r);const i=Ku(r),s={pubkey:i,npub:Fg(i)};this.currentSession=new Fn(s)}recreateSession(){const r=Ww();this.#t=new cE(r);const i=Ku(r),s={pubkey:i,npub:Fg(i)};return this.currentSession.next(s),s}getPublicKey(){return this.#t.getPublicKey()}getPublicUser(){var r=this;return U(function*(){const i=yield r.#t.getPublicKey();return{pubkey:i,npub:Fg(i)}})()}listenCurrentUser(){return this.currentSession.asObservable()}signEvent(r){return this.#t.signEvent(r)}nip04={encrypt:(()=>{var i,r=this;return i=U(function*(s,o){return r.#t.nip04.encrypt(s,o)}),function(o,a){return i.apply(this,arguments)}})(),decrypt:(()=>{var i,r=this;return i=U(function*(s,o){return r.#t.nip04.decrypt(s,o)}),function(o,a){return i.apply(this,arguments)}})()};nip44={encrypt:(()=>{var i,r=this;return i=U(function*(s,o){return r.#t.nip44.encrypt(s,o)}),function(o,a){return i.apply(this,arguments)}})(),decrypt:(()=>{var i,r=this;return i=U(function*(s,o){return r.#t.nip44.decrypt(s,o)}),function(o,a){return i.apply(this,arguments)}})()};static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yL=(()=>{class e{talkToStrangerConfig;talkToStrangerSigner;oneMillisecond=1e3;largeExpirationTime=1800;constructor(r,i){this.talkToStrangerConfig=r,this.talkToStrangerSigner=i}unixTimeNow(){return Math.floor((new Date).getTime()/this.oneMillisecond)}getExpirationTimestamp(r){r||(r=this.talkToStrangerConfig.getTimeoutInSeconds());const i=Math.floor((new Date).getTime()/this.oneMillisecond)+r;return String(i)}createEncryptedDirectMessage(r,i){var s=this;return U(function*(){const o=yield s.talkToStrangerSigner.nip04.encrypt(r.pubkey,i),a={kind:fr.EncryptedDirectMessage,content:o,created_at:s.unixTimeNow(),tags:[["p",r.pubkey],["expiration",s.getExpirationTimestamp(s.largeExpirationTime)]]};return s.talkToStrangerSigner.signEvent(a)})()}createWannaChatUserStatus(r){const i=this.talkToStrangerConfig.getTimeoutInSeconds()+5,s=this.generateRegisterUserTags(r);return this.createUserStatus("wannachat",[["expiration",this.getExpirationTimestamp(i)],...s])}createDisconnectedUserStatus(){return this.createUserStatus("disconnected",[["expiration",this.getExpirationTimestamp()]])}createTypingUserStatus(){return this.createUserStatus("typing",[["expiration",this.getExpirationTimestamp(this.largeExpirationTime)]])}generateRegisterUserTags(r){return[["t",`${r.userIs}_${r.statusName||"wannachat"}_${r.searchFor}`]]}createChatingUserStatus(r){return this.createUserStatus("confirm",[["expiration",this.getExpirationTimestamp(this.largeExpirationTime)],["p",r.pubkey],["t","confirm"]])}deleteUserHistory(){const r={kind:fr.EventDeletion,tags:[["k",String(fr.EncryptedDirectMessage)],["k",String(fr.UserStatuses)],["expiration",this.getExpirationTimestamp()]],created_at:this.unixTimeNow(),content:""};return this.talkToStrangerSigner.signEvent(r)}cleanUserStatus(){return this.createUserStatus("",[["expiration",this.getExpirationTimestamp(this.largeExpirationTime)]])}createUserStatus(r,i){var s=this;return U(function*(){const o=[["d","general"],...i||[]];let a={kind:fr.UserStatuses,content:r,created_at:s.unixTimeNow(),tags:o};return s.talkToStrangerSigner.signEvent(a)})()}static \u0275fac=function(i){return new(i||e)(z(kE),z(Vg))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function PE(){return PE=U(function*(e){return new Promise(t=>setTimeout(t,e))}),PE.apply(this,arguments)}let Ug=(()=>{class e extends Zte{constructor(r){super(r)}publish(r,i){var s=this;return U(function*(){return yield s.event(r,i),Promise.resolve(r)})()}publishEfemeral(r,i){var s=this;return U(function*(){let o;o=yield r();try{xe_debug("updating status to: ",o),yield s.event(o,i)}catch(a){const c=a?.errors[0]||a;if(!(c instanceof Error&&/^replaced\:/.test(c.message)))return Promise.reject(a);console.warn("replaced error happen on trying to publish status... trying again..."),yield function Xne(e){return PE.apply(this,arguments)}(1e3),o=yield r(),xe_debug("trying again to update status to: ",o),yield s.event(o,i)}return Promise.resolve(o)})()}observe(r,i){var s=this;xe_debug("[[subscribe filter]]",r);const o=new AbortController,a=i?.signal?AbortSignal.any([i.signal,o.signal]):o.signal,c=new et,l=new Map;return U(function*(){var f,u=!1,d=!1;try{for(var p,h=_s(s.req(r,{signal:a}));u=!(p=yield h.next()).done;u=!1){const g=p.value;if("CLOSED"===g[0]){c.error(g);break}if("EVENT"===g[0]){const m=l.size;l.set(g[2].id,g[2]),m!==l.size?c.next(g[2]):(xe_debug("event deduplicated, not emiting again: ",g[2]),xe_debug("current nset from request: ",l))}}}catch(g){d=!0,f=g}finally{try{u&&null!=h.return&&(yield h.return())}finally{if(d)throw f}}})(),c.asObservable().pipe(hp(()=>{xe_debug("[[unsubscribe filter]]",r),setTimeout(()=>o.abort())}))}static \u0275fac=function(i){return new(i||e)(z(mL))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),vL=(()=>{class e{npool;talkToStrangerSession;constructor(r,i){this.npool=r,this.talkToStrangerSession=i}listenUserStatusUpdate(r,i){const s=[{kinds:[fr.UserStatuses],authors:[r]}];return xe_debug("observing filter:",s),this.npool.observe(s,i)}queryChatConfirmation(r,i){const s=[{kinds:[fr.UserStatuses],"#t":["confirm"],"#p":[r.pubkey],limit:1}];return xe_debug("quering filter:",s),this.npool.query(s,i)}listenChatConfirmation(r,i){const s=[{kinds:[fr.UserStatuses],"#t":["confirm"],"#p":[r.pubkey],limit:1}];return xe_debug("observing filter:",s),this.npool.observe(s,i)}generateSearchUserTags(r){return`${r.searchFor}_${r.statusName||"wannachat"}_${r.userIs}`}queryChatAvailable(r){var i=this;return U(function*(){const s=Math.floor((new Date).getTime()/1e3),a=i.generateSearchUserTags(r),c=[{kinds:[fr.UserStatuses],"#t":[a],since:s-600}];xe_debug("quering filter: ",c);let l=yield i.npool.query(c,r);l=l.filter(d=>i.validateWannachatEvent(d,r)),xe_debug("list of wannachat event loaded:",l);const u=l[Math.floor(Math.random()*l.length)];return u?xe_debug("wannachat found:",u):xe_debug("wannachat NOT found..."),Promise.resolve(u||null)})()}validateWannachatEvent(r,i){if(this.talkToStrangerSession.isInIgnoreList(r.pubkey))return!1;const o=this.generateSearchUserTags(i);return!!r.tags.find(([a,c])=>"t"===a&&c===o)}static \u0275fac=function(i){return new(i||e)(z(Ug),z(OE))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),_L=(()=>{class e{convertPubkeyToPublicKeys(r){return{pubkey:r,npub:Fg(r)}}convertNPubToPubkey(r){const{data:i}=function Jne(e){let{prefix:t,words:r}=pi.decode(e,gL),i=new Uint8Array(pi.fromWords(r));switch(t){case"nprofile":{let s=ME(i);if(!s[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==s[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:mt(s[0][0]),relays:s[1]?s[1].map(o=>Pg.decode(o)):[]}}}case"nevent":{let s=ME(i);if(!s[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==s[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(s[2]&&32!==s[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(s[3]&&4!==s[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:mt(s[0][0]),relays:s[1]?s[1].map(o=>Pg.decode(o)):[],author:s[2]?.[0]?mt(s[2][0]):void 0,kind:s[3]?.[0]?parseInt(mt(s[3][0]),16):void 0}}}case"naddr":{let s=ME(i);if(!s[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!s[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==s[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!s[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==s[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Pg.decode(s[0][0]),pubkey:mt(s[2][0]),kind:parseInt(mt(s[3][0]),16),relays:s[1]?s[1].map(o=>Pg.decode(o)):[]}}}case"nsec":return{type:t,data:i};case"npub":case"note":return{type:t,data:mt(i)};default:throw new Error(`unknown prefix ${t}`)}}(r);return i}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),LE=(()=>{class e{factory;findStranger;ignoreList;signer;converter;config;npool;constructor(r,i,s,o,a,c,l){this.factory=r,this.findStranger=i,this.ignoreList=s,this.signer=o,this.converter=a,this.config=c,this.npool=l}publish(r){return this.npool.publish(r)}searchStranger(r,i){var s=this;return U(function*(){if(r.signal&&r.signal.aborted)return yield s.endSession(),Promise.reject(r.signal);i||(i=s.createSession());const o=yield s.findStranger.queryChatAvailable(r);if(o){xe_debug("inviting ",o.pubkey," to chat and listening confirmation");const c=s.listenChatingConfirmation(o,r);yield s.inviteToChating(o);const l=yield c;return s.ignoreList.saveInIgnoreList(o.pubkey),l?Promise.resolve(s.converter.convertPubkeyToPublicKeys(o.pubkey)):s.searchStranger(r,i)}const a=yield s.signer.getPublicUser();return yield s.publishWannaChatStatus(r),new Promise(c=>{const l=s.findStranger.listenChatConfirmation(a,r).pipe(function AK(e,t){const{first:r,each:i,with:s=MK,scheduler:o=t??TK,meta:a=null}=function IK(e){return e instanceof Date&&!isNaN(e)}(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==r&&null==i)throw new TypeError("No timeout provided.");return qt((c,l)=>{let u,d,f=null,h=0;const p=g=>{d=ni(l,o,()=>{try{u.unsubscribe(),Ir(s({meta:a,lastValue:f,seen:h})).subscribe(l)}catch(m){l.error(m)}},g)};u=c.subscribe(St(l,g=>{d?.unsubscribe(),h++,l.next(f=g),i>0&&p(i)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!h&&p(null!=r?"number"==typeof r?r:+r-o.now():i)})}(s.config.getTimeoutInMilliseconds()),Co(u=>(l.unsubscribe(),s.deleteUserHistory().then(()=>s.searchStranger(r).then(d=>c(d))),Cu(()=>new u)))).subscribe({next:u=>{"confirm"===u.content&&(s.ignoreList.saveInIgnoreList(u.pubkey),s.replyChatInvitation(u).then(d=>{if(!d)throw new Error("app error: user not found");c(d)}).catch(d=>{throw xe_error(d),d}),l.unsubscribe())},error:u=>xe_error(u)})})})()}replyChatInvitation(r){var i=this;return U(function*(){return xe_debug("event was listen: ",r),xe_debug("it must be a chating invitation from ",r.pubkey,", repling invitation..."),yield i.inviteToChating(r),xe_debug("replied... resolving... "),xe_debug("[searchStranger] unsubscribe"),Promise.resolve(i.converter.convertPubkeyToPublicKeys(r.pubkey))})()}isChatingToPubKey(r,i){xe_debug("is wannachat reply with confirm? event: ",r);const s="confirm"===r.content&&r.tags.filter(([o])=>"p"===o).find(([,o])=>o===i.pubkey)||[];return xe_debug("is wannachat reply with confirm?",s.length?"yes":"no"),!!s.length}inviteToChating(r){const i=this.converter.convertPubkeyToPublicKeys(r.pubkey);return this.publishChatInviteStatus(i)}listenChatingConfirmation(r,i){var s=this;return U(function*(){return new Promise(o=>{xe_debug("listening status update from: ",r.pubkey);const a=s.findStranger.listenUserStatusUpdate(r.pubkey,i).subscribe({next:c=>s.receiveChatingConfirmation(a,c,r).then(l=>{"boolean"==typeof l&&o(l)}),error:c=>{xe_error(c),o(!1)}})})})()}receiveChatingConfirmation(r,i,s){var o=this;return U(function*(){if(r.closed)return Promise.resolve(void 0);xe_debug(`stranger status "${i.content}" was listen.`),xe_debug("stranger ",s.pubkey," update status: ",i);const a=yield o.signer.getPublicUser();return o.isChatingToPubKey(i,a)?(xe_debug('is "confirm" status confirming chating, resolved with true'),r.unsubscribe(),xe_debug("[listenUserStatusUpdate] unsubscribe"),Promise.resolve(!0)):(xe_debug("stranger is talking to another, resolved with false, event: ",i),Promise.resolve(!1))})()}publishWannaChatStatus(r){return this.npool.publishEfemeral(()=>this.factory.createWannaChatUserStatus(r))}publishChatInviteStatus(r){var i=this;return U(function*(){return i.npool.publishEfemeral(()=>i.factory.createChatingUserStatus(r))})()}deleteUserHistory(){var r=this;return U(function*(){xe_debug("deleting user history"),yield r.npool.publishEfemeral(()=>r.factory.deleteUserHistory())})()}createSession(){const r=this.signer.recreateSession();return this.ignoreList.saveInIgnoreList(r.pubkey),xe_debug("me: ",r.pubkey),r}endSession(){var r=this;return U(function*(){return yield r.deleteUserHistory(),r.npool.publishEfemeral(()=>r.factory.createDisconnectedUserStatus())})()}static \u0275fac=function(i){return new(i||e)(z(yL),z(vL),z(OE),z(Vg),z(_L),z(kE),z(Ug))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FE=(()=>{class e{nostrEventFactory;findStrangerService;talkToStrangerSigner;npool;updateUserCountTimeout=3e5;constructor(r,i,s,o){this.nostrEventFactory=r,this.findStrangerService=i,this.talkToStrangerSigner=s,this.npool=o}getPublicKey(){return this.talkToStrangerSigner.getPublicKey()}getPublicUser(){var r=this;return U(function*(){return r.talkToStrangerSigner.getPublicUser()})()}listenCurrentUser(){return this.talkToStrangerSigner.listenCurrentUser()}openEncryptedDirectMessage(r,i){var s=this;return U(function*(){return s.talkToStrangerSigner.nip04.decrypt(r.pubkey,i.content)})()}listenMessages(r){const i=new et;return this.talkToStrangerSigner.getPublicKey().then(s=>{this.npool.observe([{kinds:[fr.EncryptedDirectMessage],authors:[r.pubkey],"#p":[s]}]).subscribe({next:o=>i.next(o),error:o=>i.error(o),complete:()=>i.complete()})}),i.asObservable()}listenStrangerStatus(r){const i=this.npool.observe([{kinds:[fr.UserStatuses],authors:[r.pubkey]}]);return i.subscribe(s=>{"disconnected"===s.content&&this.findStrangerService.endSession()}),i}sendMessage(r,i){var s=this;return U(function*(){yield s.stopTyping();const o=yield s.nostrEventFactory.createEncryptedDirectMessage(r,i);return s.npool.publish(o)})()}isTyping(){return this.npool.publishEfemeral(()=>this.nostrEventFactory.createTypingUserStatus())}stopTyping(){return this.npool.publishEfemeral(()=>this.nostrEventFactory.cleanUserStatus())}static \u0275fac=function(i){return new(i||e)(z(yL),z(LE),z(Vg),z(Ug))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),ere=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=kt({type:e});static \u0275inj=Tt({providers:[_L,Ug],imports:[gs]})}return e})(),wL=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=kt({type:e});static \u0275inj=Tt({providers:[vL,LE,OE,FE,Vg,kE],imports:[gs,ere]})}return e})(),tre=(()=>{class e{talkToStrangerParody;typingTimeoutAmount=2e3;typingTimeoutId=0;isTyping=!1;constructor(r){this.talkToStrangerParody=r}onTyping(){this.typingTimeoutId||(this.talkToStrangerParody.isTyping(),this.isTyping=!0),clearTimeout(this.typingTimeoutId),this.typingTimeoutId=Number(setTimeout(()=>{this.isTyping&&(this.talkToStrangerParody.stopTyping(),this.isTyping=!1),this.typingTimeoutId=0},this.typingTimeoutAmount))}static \u0275fac=function(i){return new(i||e)(k(FE))};static \u0275dir=se({type:e,selectors:[["","parodyTypingStatus",""]],hostBindings:function(i,s){1&i&&Be("keydown",function(a){return s.onTyping(a.target)})},standalone:!0})}return e})();var js=function(e){return e.STRANGER="STRANGER",e.YOU="YOU",e}(js||{});const nre=["modalContainer"];function rre(e,t){}class _d{static{this.modalInjectSubject=new et}static{this.modalInject$=_d.modalInjectSubject.asObservable()}constructor(t){this.component=t,this.injectData=null,this.cssClasses=[],this.outletName="default",this.subscription=new _t}setData(t){return this.injectData=t,this}setBindToRoute(t){return this.router=t,this}setRootCssClasses(t){return this.cssClasses=t,this}setOutletName(t){return this.outletName=t,this}build(){const t=new et,r=this.injectData,i=this.component,s=this.outletName;return this.router?(this.subscription.add(this.router.events.pipe(Li(o=>o instanceof Nu)).pipe(ys()).subscribe(()=>{t.closed||t.complete()})),this.subscription.add(t.subscribe({complete:()=>this.subscription.unsubscribe()}))):console.warn(`Component "${i.name}" served as modal was not associated with the route and will not be automatically removed if the route is changed`),_d.modalInjectSubject.next({component:i,data:r,outletName:s,cssClasses:this.cssClasses,response:t}),t.asObservable()}}let bL=(()=>{class e{createModal(r){return new _d(r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),ire=(()=>{class e{constructor(r){this.ngZone=r,this.modalInject$=_d.modalInject$,this.classes=[],this.isOpen=!1,this.content=null,this.subscriptions=new _t,this.container=null,this.display="none",this.showingDisplay="block",this.name="default",this.opened=new ft,this.closed=new ft}ngOnInit(){this.listenModalInjection()}listenModalInjection(){this.subscriptions.add(this.modalInject$.subscribe({next:r=>this.renderModal(r)}))}renderModal(r){r.outletName===this.name&&setTimeout(()=>{this.open(),this.openModal(r)})}open(){this.ngZone.run(()=>{this.isOpen=!0,this.display=this.showingDisplay,this.opened.emit()})}close(){this.ngZone.run(()=>{this.isOpen=!1,this.display="none",this.closed.emit()})}getClasses(r){return(r=r||[]).concat(this.classes).join(" ")}openModal(r){const i=this.container;if(!i)return void console.error("Impossible to create modal: the this.container attribute is empty");i.clear();const s=this.content=i.createComponent(r.component).instance;this.classes=r.cssClasses,s?(s.response=r.response,s.onInjectData&&s.onInjectData(r.data||null),r.response.subscribe({error:this.closeModal.bind(this),complete:this.closeModal.bind(this)})):console.error(`Could not create component ${r.component.name} inside modal container.`)}closeModal(r){const i=this.container;i?setTimeout(()=>{i.clear(),this.close(),this.content?.response.complete()}):console.error("Impossible to create modal: the this.container attribute is empty",r)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)(k(Re))}}static{this.\u0275cmp=ns({type:e,selectors:[["modal-outlet"]],viewQuery:function(i,s){if(1&i&&Ih(nre,5,rr),2&i){let o;nu(o=ru())&&(s.container=o.first)}},hostVars:2,hostBindings:function(i,s){2&i&&vo("display",s.display)},inputs:{showingDisplay:"showingDisplay",name:"name"},outputs:{opened:"opened",closed:"closed"},decls:2,vars:0,consts:[["modalContainer",""]],template:function(i,s){1&i&&sr(0,rre,0,0,"ng-template",null,0,JA)},encapsulation:2})}}return e})(),sre=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({providers:[bL]})}}return e})();class ore{close(){this.response.complete()}}function wd(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}new TextDecoder("utf-8"),new TextEncoder;let BE=(()=>{class e{saveConfig(r){localStorage.setItem("omeglestr",JSON.stringify({relays:r}))}getConfig(){const r=localStorage.getItem("omeglestr");try{if(r)return JSON.parse(r).relays.map(wd)}catch{}return"wss://relay.nostr.net".split(",").map(wd)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const fn=new q(""),Hs=new q("");function kL(e){return null!=e}function PL(e){return uu(e)?Wt(e):e}function LL(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function FL(e,t){return t.map(r=>r(e))}function BL(e){return e.map(t=>function pre(e){return!e.validate}(t)?t:r=>t.validate(r))}function UE(e){return null!=e?function VL(e){if(!e)return null;const t=e.filter(kL);return 0==t.length?null:function(r){return LL(FL(r,t))}}(BL(e)):null}function jE(e){return null!=e?function UL(e){if(!e)return null;const t=e.filter(kL);return 0==t.length?null:function(r){return function cre(...e){const t=DR(e),{args:r,keys:i}=SR(e),s=new zt(o=>{const{length:a}=r;if(!a)return void o.complete();const c=new Array(a);let l=a,u=a;for(let d=0;d<a;d++){let f=!1;Ir(r[d]).subscribe(St(o,h=>{f||(f=!0,u--),c[d]=h},()=>l--,void 0,()=>{(!l||!f)&&(u||o.next(i?IR(i,c):c),o.complete())}))}});return t?s.pipe(TR(t)):s}(FL(r,t).map(PL)).pipe($e(LL))}}(BL(e)):null}function jL(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function $E(e){return e?Array.isArray(e)?e:[e]:[]}function $g(e,t){return Array.isArray(e)?e.includes(t):e===t}function zL(e,t){const r=$E(t);return $E(e).forEach(s=>{$g(r,s)||r.push(s)}),r}function qL(e,t){return $E(t).filter(r=>!$g(e,r))}class GL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=UE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=jE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Sn extends GL{get formDirective(){return null}get path(){return null}}class WL{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ZL=(()=>{class e extends WL{constructor(r){super(r)}static{this.\u0275fac=function(i){return new(i||e)(k(Sn,10))}}static{this.\u0275dir=se({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){2&i&&Kl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[He]})}}return e})();const bd="VALID",zg="INVALID",jc="PENDING",Ed="DISABLED";class $c{}class QL extends $c{constructor(t,r){super(),this.value=t,this.source=r}}class qE extends $c{constructor(t,r){super(),this.pristine=t,this.source=r}}class GE extends $c{constructor(t,r){super(),this.touched=t,this.source=r}}class qg extends $c{constructor(t,r){super(),this.status=t,this.source=r}}function Gg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class KE{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=mu(()=>this.statusReactive()),this.statusReactive=Kr(void 0),this._pristine=mu(()=>this.pristineReactive()),this.pristineReactive=Kr(!0),this._touched=mu(()=>this.touchedReactive()),this.touchedReactive=Kr(!1),this._events=new et,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ti(this.statusReactive)}set status(t){ti(()=>this.statusReactive.set(t))}get valid(){return this.status===bd}get invalid(){return this.status===zg}get pending(){return this.status==jc}get disabled(){return this.status===Ed}get enabled(){return this.status!==Ed}get pristine(){return ti(this.pristineReactive)}set pristine(t){ti(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return ti(this.touchedReactive)}set touched(t){ti(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qL(t,this._rawAsyncValidators))}hasValidator(t){return $g(this._rawValidators,t)}hasAsyncValidator(t){return $g(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const r=!1===this.touched;this.touched=!0;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:i}),r&&!1!==t.emitEvent&&this._events.next(new GE(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(t))}markAsUntouched(t={}){const r=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=t.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),r&&!1!==t.emitEvent&&this._events.next(new GE(!1,i))}markAsDirty(t={}){const r=!0===this.pristine;this.pristine=!1;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:i}),r&&!1!==t.emitEvent&&this._events.next(new qE(!1,i))}markAsPristine(t={}){const r=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=t.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),r&&!1!==t.emitEvent&&this._events.next(new qE(!0,i))}markAsPending(t={}){this.status=jc;const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new qg(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:r})}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Ed,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue();const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new QL(this.value,i)),this._events.next(new qg(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r},this),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=bd,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bd||this.status===jc)&&this._runAsyncValidator(i,t.emitEvent)}const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new QL(this.value,r)),this._events.next(new qg(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:r})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ed:bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,r){if(this.asyncValidator){this.status=jc,this._hasOwnPendingAsyncValidator={emitEvent:!1!==r};const i=PL(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:r,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent,this,r.shouldHaveEmitted)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((i,s)=>i&&i._find(s),this)}getError(t,r){const i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,r,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new qg(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,i)}_initObservables(){this.valueChanges=new ft,this.statusChanges=new ft}_calculateStatus(){return this._allControlsDisabled()?Ed:this.errors?zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jc)?jc:this._anyControlsHaveStatus(zg)?zg:bd}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,r){const i=!this._anyControlsDirty(),s=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),s&&this._events.next(new qE(this.pristine,r))}_updateTouched(t={},r){this.touched=this._anyControlsTouched(),this._events.next(new GE(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Ere(e){return Array.isArray(e)?UE(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Cre(e){return Array.isArray(e)?jE(e):e||null}(this._rawAsyncValidators)}}class QE extends KE{constructor(t,r,i){super(function WE(e){return(Gg(e)?e.validators:e)||null}(r),function ZE(e,t){return(Gg(t)?t.asyncValidators:e)||null}(i,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,i={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function JL(e,t,r){e._forEachChild((i,s)=>{if(void 0===r[s])throw new A(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function YL(e,t,r){const i=e.controls;if(!(t?Object.keys(i):i).length)throw new A(1e3,"");if(!i[r])throw new A(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(i=>{const s=this.controls[i];s&&s.patchValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((i,s)=>{i.reset(t?t[s]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,i)=>(t[i]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,i)=>!!i._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const i=this.controls[r];i&&t(i,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,i]of Object.entries(this.controls))if(this.contains(r)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,i,s)=>((i.enabled||this.disabled)&&(r[s]=i.value),r))}_reduceChildren(t,r){let i=t;return this._forEachChild((s,o)=>{i=r(i,s,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Hc=new q("CallSetDisabledState",{providedIn:"root",factory:()=>Wg}),Wg="always";function Qg(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function YE(e,t){const r=function $L(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(jL(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const i=function HL(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(jL(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const s=()=>e.updateValueAndValidity();Qg(t._rawValidators,s),Qg(t._rawAsyncValidators,s)}function XL(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const Ore={provide:Sn,useExisting:tt(()=>Jg)},Dd=Promise.resolve();let Jg=(()=>{class e extends Sn{get submitted(){return ti(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=mu(()=>this.submittedReactive()),this.submittedReactive=Kr(!1),this._directives=new Set,this.ngSubmit=new ft,this.form=new QE({},UE(r),jE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Dd.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),function Cd(e,t,r=Wg){YE(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function Tre(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&XL(e,t)})}(e,t),function xre(e,t){const r=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function Ire(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&XL(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Sre(e,t){if(t.valueAccessor.setDisabledState){const r=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Dd.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Dd.then(()=>{const i=this._findContainer(r.path),s=new QE({});(function eF(e,t){YE(e,t)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Dd.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Dd.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),function tF(e,t){e._syncPendingControls(),t.forEach(r=>{const i=r.control;"submit"===i.updateOn&&i._pendingChange&&(r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}static{this.\u0275fac=function(i){return new(i||e)(k(fn,10),k(Hs,10),k(Hc,8))}}static{this.\u0275dir=se({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){1&i&&Be("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ht([Ore]),He]})}}return e})();Promise.resolve();let lF=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=se({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),oie=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({})}}return e})(),cie=(()=>{class e{static withConfig(r){return{ngModule:e,providers:[{provide:Hc,useValue:r.callSetDisabledState??Wg}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({imports:[oie]})}}return e})();function lie(e,t){if(1&e){const r=Xr();fe(0,"li")(1,"span"),Ve(2),ye(),fe(3,"button",18),Be("click",function(){const s=rn(r).$implicit;return sn(Dt().removeRelay(s))}),Ve(4,"\u2715"),ye()()}if(2&e){const r=t.$implicit;De(2),iu(r)}}let uie=(()=>{class e extends ore{constructor(r){super(),this.relayConfigService=r,this.response=new et,this.relays=[]}ngOnInit(){this.relays=this.relayConfigService.getConfig()}removeRelay(r){const i=wd(r),o=this.relays.indexOf(i);-1!==o&&this.relays.splice(o,1)}addRelay(r){r.value&&(this.relays=[...new Set([...this.relays,wd(r.value)])],r.value="")}ok(){this.response.next(!0),this.close()}cancel(){this.response.next(!1),this.close()}useDefault(){this.relays="wss://relay.nostr.net".split(",").map(wd),this.save()}save(){this.relayConfigService.saveConfig([...new Set(this.relays)]),this.close()}static{this.\u0275fac=function(i){return new(i||e)(k(BE))}}static{this.\u0275cmp=ns({type:e,selectors:[["omg-relay-config"]],features:[He],decls:30,vars:1,consts:[["relayField",""],["type","button",1,"closeButton","exitButton",3,"click"],[1,"relayList"],[4,"ngFor","ngForOf"],[1,"warn"],[1,"field"],[1,"fieldWithButton"],["name","relay","type","text","autocomplete","off","placeholder","wss://relay.example",3,"keyup.enter"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z"],["d","M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z"],["d","M3 21l2.5 -2.5"],["d","M18.5 5.5l2.5 -2.5"],["d","M10 11l-2 2"],["d","M13 14l-2 2"],[1,"button-group"],["type","button",1,"closeButton",3,"click"]],template:function(i,s){if(1&i){const o=Xr();fe(0,"form")(1,"h1")(2,"span"),Ve(3,"Configure nostr relays"),ye(),fe(4,"button",1),Be("click",function(){return rn(o),sn(s.close())}),Ve(5,"\u2715"),ye()(),fe(6,"ul",2),sr(7,lie,5,1,"li",3),ye(),fe(8,"span",4),Ve(9,"By changing default relays, will be harder find strangers"),ye(),fe(10,"div",5)(11,"label"),Ve(12,"Relay"),ye(),fe(13,"div",6)(14,"input",7,0),Be("keyup.enter",function(){rn(o);const c=Qa(15);return sn(s.addRelay(c))}),ye(),fe(16,"button",8),Be("click",function(){rn(o);const c=Qa(15);return sn(s.addRelay(c))}),wf(),fe(17,"svg",9),or(18,"path",10)(19,"path",11)(20,"path",12)(21,"path",13)(22,"path",14)(23,"path",15)(24,"path",16),ye()()()(),bf(),fe(25,"div",17)(26,"button",8),Be("click",function(){return rn(o),sn(s.useDefault())}),Ve(27,"Use default"),ye(),fe(28,"button",8),Be("click",function(){return rn(o),sn(s.save())}),Ve(29,"Save"),ye()()()}2&i&&(De(7),Ge("ngForOf",s.relays))},dependencies:[c_,lF,ZL,Jg],styles:[".closeButton[_ngcontent-%COMP%]{border:0;cursor:pointer;appearance:none;background-color:transparent;font-size:10px;margin-left:1rem}.closeButton.exitButton[_ngcontent-%COMP%]{float:right}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column}h1[_ngcontent-%COMP%]{font-size:14px;margin-bottom:1rem}.fieldWithButton[_ngcontent-%COMP%]{display:flex}.fieldWithButton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:3px 1rem;border-radius:5px 0 0 5px;border:1px solid black}.fieldWithButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-left:0;border-radius:0 5px 5px 0}button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid black;padding:.25rem .5rem;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}button[_ngcontent-%COMP%]:active{background-color:#e6e6e6}.button-group[_ngcontent-%COMP%]{display:flex;margin:1rem 0 0;justify-content:space-between}"]})}}return e})();var Qi=function(e){return e.CONNECTED="CONNECTED",e.UP_TO_DISCONNECT="UP_TO_DISCONNECT",e.DISCONNECTED="DISCONNECTED",e.SEARCHING_STRANGER="SEARCHING_STRANGER",e}(Qi||{});let aC=(()=>{class e extends et{constructor(){super()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cC=(()=>{class e extends nr{constructor(r){super(),this.error$=r,this.isntAbortError=/AbortError|AbortSignal/}handleError(r){this.isntAbortError.test(String(r))?console.warn(r.message):r.errors&&r.errors.length?r.errors.forEach(i=>{xe_error(i.message),this.error$.next(i.message)}):r.message?(xe_error(r.message),this.error$.next(r.message)):(xe_error("application throw unkown error",r),this.error$.next("application throw unkown error"))}getErrorMessage(r){if(!this.isntAbortError.test(String(r))){if(r.errors&&r.errors.length)return r.errors.map(i=>i.message);if(r.message)return[r.message]}return[]}static{this.\u0275fac=function(i){return new(i||e)(z(aC))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xF=(()=>{class e{notify(){new Audio("./assets/sound-notification.wav").play()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),die=(()=>{class e{constructor(){this.authorTypes={[js.STRANGER]:"Stranger",[js.YOU]:"You"}}transform(r){return this.authorTypes[r]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=hn({name:"author",type:e,pure:!0})}}return e})();const fie=["conversation"],hie=["messageField"];function pie(e,t){1&e&&(fe(0,"div",21),Ve(1," You're now chatting with a random stranger. "),ye())}function gie(e,t){1&e&&(fe(0,"div",21),Ve(1," Looking for someone you can chat with. "),ye())}function mie(e,t){if(1&e&&(fe(0,"span",25),wf(),fe(1,"svg",26),or(2,"path",7)(3,"path",27),ye(),bf(),fe(4,"span",28),Ve(5),ye()()),2&e){const r=Dt().$implicit;De(5),iu(r[1])}}function yie(e,t){if(1&e&&(fe(0,"div",22)(1,"span"),Ve(2),function QA(e,t){const r=we();let i;const s=e+Y;r.firstCreatePass?(i=function fH(e,t){if(t)for(let r=t.length-1;r>=0;r--){const i=t[r];if(e===i.name)return i}}(t,r.pipeRegistry),r.data[s]=i,i.onDestroy&&(r.destroyHooks??=[]).push(s,i.onDestroy)):i=r.data[s];const o=i.factory||(i.factory=Ks(i.type)),c=Tn(k);try{const l=Sf(!1),u=o();return Sf(l),function S0(e,t,r,i){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=i}(r,N(),s,u),u}finally{Tn(c)}}(3,"author"),ye(),fe(4,"span",23),Ve(5),ye(),sr(6,mie,6,1,"span",24),ye()),2&e){const r=t.$implicit,i=Dt();De(),Kl("authorStranger",r[0].author===i.authorStranger)("authorYou",r[0].author===i.authorYou),De(),ei("",YA(3,7,r[0].author),": "),De(3),iu(r[0].text),De(),Ge("ngIf",r[1])}}function vie(e,t){1&e&&(fe(0,"div",21),Ve(1," Stranger is typing... "),ye())}function _ie(e,t){1&e&&(fe(0,"div",21),Ve(1,"Stranger has disconnected."),ye())}function wie(e,t){1&e&&(fe(0,"div",21),Ve(1,"You have disconnected."),ye())}function bie(e,t){if(1&e&&(Wa(0),sr(1,_ie,2,0,"div",12)(2,wie,2,0,"div",12),Za()),2&e){const r=Dt();De(),Ge("ngIf",r.whoDisconnected===r.authorStranger),De(),Ge("ngIf",r.whoDisconnected===r.authorYou)}}function Eie(e,t){if(1&e){const r=Xr();fe(0,"button",29),Be("click",function(){return rn(r),sn(Dt().findStranger())}),Ve(1," Start "),ye()}}function Cie(e,t){if(1&e){const r=Xr();fe(0,"button",30),Be("click",function(){return rn(r),sn(Dt().stopSearching())}),Ve(1," Stop "),ye()}}function Die(e,t){if(1&e){const r=Xr();fe(0,"button",30),Be("click",function(){rn(r);const s=Dt();return sn(s.currentState=s.stateUpToDisconnect)}),Ve(1," Stop "),ye()}}function Sie(e,t){if(1&e){const r=Xr();fe(0,"button",31),Be("click",function(){rn(r);const s=Dt(),o=Qa(22);return s.endSession(s.authorYou),sn(s.cleanMessageField(o))}),Ve(1," Really? "),ye()}}const Tie=[{path:"chat",component:(()=>{class e{constructor(r,i,s,o,a){this.globalErrorHandler=r,this.findStrangerParody=i,this.talkToStrangerParody=s,this.soundNotificationService=o,this.modalService=a,this.stateConnected=Qi.CONNECTED,this.stateUpToDisconnect=Qi.UP_TO_DISCONNECT,this.stateDisconnected=Qi.DISCONNECTED,this.stateSearchingStranger=Qi.SEARCHING_STRANGER,this.authorStranger=js.STRANGER,this.authorYou=js.YOU,this.strangerIsTyping=!1,this.currentState=Qi.DISCONNECTED,this.whoDisconnected=null,this.stranger=null,this.messages=[],this.controller=null,this.subscriptions=new _t}ngOnDestroy(){this.subscriptions.unsubscribe()}onBeforeUnload(){var r=this;return U(function*(){return yield r.endSession(null),!0})()}configRelays(){this.modalService.createModal(uie).build()}findStranger(){this.cleanMessageField(this.messageFieldEl.nativeElement),!this.controller&&(this.whoDisconnected=null,this.controller=new AbortController,this.currentState=this.stateSearchingStranger,this.messages=[],this.findStrangerParody.searchStranger({signal:this.controller.signal,searchFor:"omegle",userIs:"omegle"}).then(r=>this.startConversation(r)))}clearSession(r){this.currentState=Qi.DISCONNECTED,this.strangerIsTyping=!1,this.whoDisconnected=r,this.stranger=null,this.subscriptions.unsubscribe(),this.subscriptions=new _t,this.controller=null}endSession(r){return this.findStrangerParody.endSession().finally(()=>this.clearSession(r))}startConversation(r){xe_debug("starting conversation, stranger: ",r),this.stranger=r,this.currentState=Qi.CONNECTED,this.soundNotificationService.notify(),this.subscriptions.add(this.talkToStrangerParody.listenMessages(r).subscribe({next:i=>this.addMessageFromStranger(r,i)})),this.subscriptions.add(this.talkToStrangerParody.listenStrangerStatus(r).subscribe({next:i=>this.handleStrangerStatus(i)}))}addMessageFromStranger(r,i){this.talkToStrangerParody.openEncryptedDirectMessage(r,i).then(s=>{this.messages.push([{text:s,author:js.STRANGER,time:i.created_at},null]),this.scrollConversationToTheEnd()})}handleStrangerStatus(r){"typing"===r.content?(this.strangerIsTyping=!0,this.scrollConversationToTheEnd()):"disconnected"===r.content?(this.strangerIsTyping=!1,this.currentState=Qi.DISCONNECTED,this.endSession(js.STRANGER)):this.strangerIsTyping=!1}sendMessage(r){var i=this;return U(function*(){const s=i.stranger;if(s&&r.length){const o=[{author:js.YOU,text:r,time:Math.floor((new Date).getTime()/1e3)},null];i.messages.push(o),i.scrollConversationToTheEnd();try{const a=i.talkToStrangerParody.stopTyping(),c=i.talkToStrangerParody.sendMessage(s,r);yield Promise.all([a,c])}catch(a){o[1]=i.globalErrorHandler.getErrorMessage(a).join("; ")}}})()}scrollConversationToTheEnd(){setTimeout(()=>{const r=this.conversationEl.nativeElement;r.scrollTo({top:r.scrollHeight,behavior:"smooth"})})}cleanMessageField(r){setTimeout(()=>r.value="")}stopSearching(){this.controller&&(this.controller.abort(),this.controller=null),this.endSession(null)}static{this.\u0275fac=function(i){return new(i||e)(k(cC),k(LE),k(FE),k(xF),k(bL))}}static{this.\u0275cmp=ns({type:e,selectors:[["omg-chat"]],viewQuery:function(i,s){if(1&i&&(Ih(fie,5),Ih(hie,5)),2&i){let o;nu(o=ru())&&(s.conversationEl=o.first),nu(o=ru())&&(s.messageFieldEl=o.first)}},hostBindings:function(i,s){1&i&&Be("beforeunload",function(){return s.onBeforeUnload()},0,UT)},decls:26,vars:11,consts:[["conversation",""],["messageField",""],["send",""],[1,"navbar"],["src","./assets/logo.png","alt","logo",1,"logo"],[1,"description"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"config",3,"click"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"],["d","M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"],[1,"main"],[1,"conversation"],["class","message",4,"ngIf"],["class","chat",4,"ngFor","ngForOf"],[4,"ngIf"],["novalidate","","autocomplete","off",1,"form"],["type","button","class","btn start bottomLeftRadius",3,"click",4,"ngIf"],["type","button","class","btn bottomLeftRadius",3,"click",4,"ngIf"],["type","button","class","btn bottomLeftRadius bold",3,"click",4,"ngIf"],["name","text","parodyTypingStatus","",1,"textarea",3,"keydown.enter"],["type","button",1,"btn","bottomRightRadius",3,"click"],[1,"message"],[1,"chat"],[1,"text"],["class","errorWrap",4,"ngIf"],[1,"errorWrap"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","currentColor",1,"messageNotSent"],["d","M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336m-5 11.66a1 1 0 0 0 -1 1v.01a1 1 0 0 0 2 0v-.01a1 1 0 0 0 -1 -1m0 -7a1 1 0 0 0 -1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0 -1 -1"],[1,"errorMessage"],["type","button",1,"btn","start","bottomLeftRadius",3,"click"],["type","button",1,"btn","bottomLeftRadius",3,"click"],["type","button",1,"btn","bottomLeftRadius","bold",3,"click"]],template:function(i,s){if(1&i){const o=Xr();fe(0,"section",3),or(1,"img",4),fe(2,"h2",5),Ve(3,"Talk to strangers!"),ye(),wf(),fe(4,"svg",6),Be("click",function(){return rn(o),sn(s.configRelays())}),or(5,"path",7)(6,"path",8)(7,"path",9),ye()(),bf(),fe(8,"main",10)(9,"section",11,0),sr(11,pie,2,0,"div",12)(12,gie,2,0,"div",12)(13,yie,7,9,"div",13)(14,vie,2,0,"div",12)(15,bie,3,2,"ng-container",14),ye(),fe(16,"form",15),sr(17,Eie,2,0,"button",16)(18,Cie,2,0,"button",17)(19,Die,2,0,"button",17)(20,Sie,2,0,"button",18),fe(21,"textarea",19,1),Be("keydown.enter",function(){rn(o);const c=Qa(22);return s.sendMessage(c.value),sn(s.cleanMessageField(c))}),ye(),fe(23,"button",20,2),Be("click",function(){rn(o);const c=Qa(22);return s.sendMessage(c.value),sn(s.cleanMessageField(c))}),Ve(25," Send "),ye()()()}2&i&&(De(11),Ge("ngIf",s.stranger),De(),Ge("ngIf",!s.stranger&&s.currentState===s.stateSearchingStranger),De(),Ge("ngForOf",s.messages),De(),Ge("ngIf",s.strangerIsTyping),De(),Ge("ngIf",s.currentState===s.stateDisconnected),De(2),Ge("ngIf",s.currentState===s.stateDisconnected),De(),Ge("ngIf",s.currentState===s.stateSearchingStranger),De(),Ge("ngIf",s.currentState===s.stateConnected),De(),Ge("ngIf",s.currentState===s.stateUpToDisconnect),De(),an("disabled",s.currentState===s.stateDisconnected||s.currentState===s.stateSearchingStranger?"disabled":null),De(2),an("disabled",s.currentState===s.stateDisconnected||s.currentState===s.stateSearchingStranger?"disabled":null))},dependencies:[c_,sp,tre,die],encapsulation:2})}}return e})()},{path:"",redirectTo:"chat",pathMatch:"full"}];let Iie=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({imports:[OO.forRoot(Tie,{useHash:!0}),OO]})}}return e})();var ue=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(ue||{});const Yi="*";function xie(e,t){return{type:ue.Trigger,name:e,definitions:t,options:{}}}function AF(e,t=null){return{type:ue.Animate,styles:t,timings:e}}function Sd(e){return{type:ue.Style,styles:e,offset:null}}function lC(e,t,r){return{type:ue.State,name:e,styles:t,options:r}}function MF(e,t,r=null){return{type:ue.Transition,expr:e,animation:t,options:r}}class Td{constructor(t=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const r="start"==t?this._onStartFns:this._onDoneFns;r.forEach(i=>i()),r.length=0}}class NF{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let r=0,i=0,s=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++r==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const r=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,r/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((r,i)=>null===r||i.totalTime>r.totalTime?i:r,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const r="start"==t?this._onStartFns:this._onDoneFns;r.forEach(i=>i()),r.length=0}}const RF=["toast-component",""];function kie(e,t){if(1&e){const r=Xr();fe(0,"button",5),Be("click",function(){return rn(r),sn(Dt().remove())}),fe(1,"span",6),Ve(2,"\xd7"),ye()()}}function Pie(e,t){if(1&e&&(Wa(0),Ve(1),Za()),2&e){const r=Dt(2);De(),ei("[",r.duplicatesCount+1,"]")}}function Lie(e,t){if(1&e&&(fe(0,"div"),Ve(1),sr(2,Pie,2,1,"ng-container",4),ye()),2&e){const r=Dt();Ri(r.options.titleClass),an("aria-label",r.title),De(),ei(" ",r.title," "),De(),Ge("ngIf",r.duplicatesCount)}}function Fie(e,t){if(1&e&&or(0,"div",7),2&e){const r=Dt();Ri(r.options.messageClass),Ge("innerHTML",r.message,tv)}}function Bie(e,t){if(1&e&&(fe(0,"div",8),Ve(1),ye()),2&e){const r=Dt();Ri(r.options.messageClass),an("aria-label",r.message),De(),ei(" ",r.message," ")}}function Vie(e,t){if(1&e&&(fe(0,"div"),or(1,"div",9),ye()),2&e){const r=Dt();De(),vo("width",r.width()+"%")}}class Gie{_attachedHost;component;viewContainerRef;injector;constructor(t,r){this.component=t,this.injector=r}attach(t,r){return this._attachedHost=t,t.attach(this,r)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Wie{_attachedPortal;_disposeFn;attach(t,r){return this._attachedPortal=t,this.attachComponentPortal(t,r)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class Zie{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new et;_activate=new et;_manualClose=new et;_resetTimeout=new et;_countDuplicate=new et;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,r){t&&this._resetTimeout.next(),r&&this._countDuplicate.next(++this.duplicatesCount)}}class Xg{toastId;config;message;title;toastType;toastRef;_onTap=new et;_onAction=new et;constructor(t,r,i,s,o,a){this.toastId=t,this.config=r,this.message=i,this.title=s,this.toastType=o,this.toastRef=a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const kF=new q("ToastConfig");class Kie extends Wie{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,r,i){super(),this._hostDomElement=t,this._componentFactoryResolver=r,this._appRef=i}attachComponentPortal(t,r){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let s;return s=i.create(t.injector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()}),r?this._hostDomElement.insertBefore(this._getComponentRootNode(s),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(s)),s}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Qie=(()=>{class e{_document=O(cn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),this._containerElement=r}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Yie{_portalHost;constructor(t){this._portalHost=t}attach(t,r=!0){return this._portalHost.attach(t,r)}detach(){return this._portalHost.detach()}}let Jie=(()=>{class e{_overlayContainer=O(Qie);_componentFactoryResolver=O(Bl);_appRef=O(ar);_document=O(cn);_paneElements=new Map;create(r,i){return this._createOverlayRef(this.getPaneElement(r,i))}getPaneElement(r="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[r]||(this._paneElements.get(i)[r]=this._createPaneElement(r,i)),this._paneElements.get(i)[r]}_createPaneElement(r,i){const s=this._document.createElement("div");return s.id="toast-container",s.classList.add(r),s.classList.add("toast-container"),i?i.getContainerElement().appendChild(s):this._overlayContainer.getContainerElement().appendChild(s),s}_createPortalHost(r){return new Kie(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new Yie(this._createPortalHost(r))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dC=(()=>{class e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(r,i,s,o,a){this.overlay=i,this._injector=s,this.sanitizer=o,this.ngZone=a,this.toastrConfig={...r.default,...r.config},r.config.iconClasses&&(this.toastrConfig.iconClasses={...r.default.iconClasses,...r.config.iconClasses})}show(r,i,s={},o=""){return this._preBuildNotification(o,r,i,this.applyConfig(s))}success(r,i,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,i,this.applyConfig(s))}error(r,i,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,i,this.applyConfig(s))}info(r,i,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,i,this.applyConfig(s))}warning(r,i,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,i,this.applyConfig(s))}clear(r){for(const i of this.toasts)if(void 0!==r){if(i.toastId===r)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(r){const i=this._findToast(r);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const s=this.toasts[this.currentlyActive].toastRef;s.isInactive()||(this.currentlyActive=this.currentlyActive+1,s.activate())}return!0}findDuplicate(r="",i="",s,o){const{includeTitleDuplicates:a}=this.toastrConfig;for(const c of this.toasts)if((!a||a&&c.title===r)&&c.message===i)return c.toastRef.onDuplicate(s,o),c;return null}applyConfig(r={}){return{...this.toastrConfig,...r}}_findToast(r){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===r)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(r,i,s,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,i,s,o)):this._buildNotification(r,i,s,o)}_buildNotification(r,i,s,o){if(!o.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(s,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&s||i)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=i;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=i;i&&o.enableHtml&&(u=this.sanitizer.sanitize(zn.HTML,i));const d=new Zie(l),f=new Xg(this.index,o,u,s,r,d),p=At.create({providers:[{provide:Xg,useValue:f}],parent:this._injector}),g=new Gie(o.toastComponent,p),m=l.attach(g,o.newestOnTop);d.componentInstance=m.instance;const y={toastId:this.index,title:s||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:m};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{y.toastRef.activate()})),this.toasts.push(y),y}static \u0275fac=function(i){return new(i||e)(z(kF),z(Jie),z(At),z(oR),z(Re))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Xie={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Kr(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(r,i,s){this.toastrService=r,this.toastPackage=i,this.ngZone=s,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=Kr({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(r=>({...r,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const r=(new Date).getTime();this.width.set((this.hideTime-r)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(s=>100-s),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(r=>({...r,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(r=>({...r,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),i)):this.timeout=setTimeout(()=>r(),i)}outsideInterval(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),i)):this.intervalId=setInterval(()=>r(),i)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}static \u0275fac=function(i){return new(i||e)(k(dC),k(Xg),k(Re))};static \u0275cmp=ns({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,s){1&i&&Be("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),2&i&&(w0("@flyInOut",s._state),Ri(s.toastClasses),vo("display",s.displayStyle))},standalone:!0,features:[xh],attrs:RF,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,s){1&i&&sr(0,kie,3,0,"button",0)(1,Lie,3,5,"div",1)(2,Fie,1,3,"div",2)(3,Bie,2,4,"div",3)(4,Vie,2,2,"div",4),2&i&&(Ge("ngIf",s.options.closeButton),De(),Ge("ngIf",s.title),De(),Ge("ngIf",s.message&&s.options.enableHtml),De(),Ge("ngIf",s.message&&!s.options.enableHtml),De(),Ge("ngIf",s.options.progressBar))},dependencies:[sp],encapsulation:2,data:{animation:[xie("flyInOut",[lC("inactive",Sd({opacity:0})),lC("active",Sd({opacity:1})),lC("removed",Sd({opacity:0})),MF("inactive => active",AF("{{ easeTime }}ms {{ easing }}")),MF("active => removed",AF("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return e})()},ese=(e={})=>function el(e){return{\u0275providers:e}}([{provide:kF,useValue:{default:Xie,config:e}}]);let tse=(()=>{class e{static forRoot(r={}){return{ngModule:e,providers:[ese(r)]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=kt({type:e});static \u0275inj=Tt({})}return e})(),nse=(()=>{class e{constructor(r,i){this.error$=r,this.toastrService=i,this.subscriptions=new _t}ngOnInit(){this.subscriptions.add(this.error$.subscribe(r=>this.toastrService.error(r)))}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)(k(aC),k(dC))}}static{this.\u0275cmp=ns({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(i,s){1&i&&or(0,"modal-outlet")(1,"router-outlet")},dependencies:[G_,ire],encapsulation:2})}}return e})(),rse=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({providers:[BE],imports:[gs,cie]})}}return e})(),ise=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({providers:[xF],imports:[gs]})}}return e})(),sse=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({imports:[gs,ise,rse]})}}return e})(),ose=(()=>{class e{constructor(r){this.relayConfigService=r}open(r){return new Qne(r)}reqRouter(r){var i=this;return U(function*(){const s=[];return i.relayConfigService.getConfig().forEach(o=>s.push([o,r])),new Map(s)})()}eventRouter(){var r=this;return U(function*(){return r.relayConfigService.getConfig()})()}static{this.\u0275fac=function(i){return new(i||e)(z(BE))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),ase=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({providers:[{provide:mL,useClass:ose}],imports:[gs,wL,wL]})}}return e})();function PF(e){return new A(3e3,!1)}function qs(e){switch(e.length){case 0:return new Td;case 1:return e[0];default:return new NF(e)}}function LF(e,t,r=new Map,i=new Map){const s=[],o=[];let a=-1,c=null;if(t.forEach(l=>{const u=l.get("offset"),d=u==a,f=d&&c||new Map;l.forEach((h,p)=>{let g=p,m=h;if("offset"!==p)switch(g=e.normalizePropertyName(g,s),m){case"!":m=r.get(p);break;case Yi:m=i.get(p);break;default:m=e.normalizeStyleValue(p,g,m,s)}f.set(g,m)}),d||o.push(f),c=f,a=u}),s.length)throw function Mse(){return new A(3502,!1)}();return o}function fC(e,t,r,i){switch(t){case"start":e.onStart(()=>i(r&&hC(r,"start",e)));break;case"done":e.onDone(()=>i(r&&hC(r,"done",e)));break;case"destroy":e.onDestroy(()=>i(r&&hC(r,"destroy",e)))}}function hC(e,t,r){const o=pC(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,r.totalTime??e.totalTime,!!r.disabled),a=e._data;return null!=a&&(o._data=a),o}function pC(e,t,r,i,s="",o=0,a){return{element:e,triggerName:t,fromState:r,toState:i,phaseName:s,totalTime:o,disabled:!!a}}function Yn(e,t,r){let i=e.get(t);return i||e.set(t,i=r),i}function FF(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const $se=typeof document>"u"?null:document.documentElement;function gC(e){const t=e.parentNode||e.host||null;return t===$se?null:t}let Wo=null,BF=!1;function VF(e,t){for(;t;){if(t===e)return!0;t=gC(t)}return!1}function UF(e,t,r){if(r)return Array.from(e.querySelectorAll(t));const i=e.querySelector(t);return i?[i]:[]}let mC=(()=>{class e{validateStyleProperty(r){return function zse(e){Wo||(Wo=function qse(){return typeof document<"u"?document.body:null}()||{},BF=!!Wo.style&&"WebkitAppearance"in Wo.style);let t=!0;return Wo.style&&!function Hse(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Wo.style,!t&&BF&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Wo.style)),t}(r)}containsElement(r,i){return VF(r,i)}getParentElement(r){return gC(r)}query(r,i,s){return UF(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,c=[],l){return new Td(s,o)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();class yC{static{this.NOOP=new mC}}class vC{}const Wse=1e3,_C="ng-enter",em="ng-leave",tm="ng-trigger",nm=".ng-trigger",$F="ng-animating",wC=".ng-animating";function Ji(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:bC(parseFloat(t[1]),t[2])}function bC(e,t){return"s"===t?e*Wse:e}function rm(e,t,r){return e.hasOwnProperty("duration")?e:function Kse(e,t,r){let s,o=0,a="";if("string"==typeof e){const c=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(PF()),{duration:0,delay:0,easing:""};s=bC(parseFloat(c[1]),c[2]);const l=c[3];null!=l&&(o=bC(parseFloat(l),c[4]));const u=c[5];u&&(a=u)}else s=e;if(!r){let c=!1,l=t.length;s<0&&(t.push(function cse(){return new A(3100,!1)}()),c=!0),o<0&&(t.push(function lse(){return new A(3101,!1)}()),c=!0),c&&t.splice(l,0,PF())}return{duration:s,delay:o,easing:a}}(e,t,r)}function wi(e,t,r){t.forEach((i,s)=>{const o=CC(s);r&&!r.has(s)&&r.set(s,e.style[o]),e.style[o]=i})}function Zo(e,t){t.forEach((r,i)=>{const s=CC(i);e.style[s]=""})}function Id(e){return Array.isArray(e)?1==e.length?e[0]:function Aie(e,t=null){return{type:ue.Sequence,steps:e,options:t}}(e):e}const EC=new RegExp("{{\\s*(.+?)\\s*}}","g");function zF(e){let t=[];if("string"==typeof e){let r;for(;r=EC.exec(e);)t.push(r[1]);EC.lastIndex=0}return t}function xd(e,t,r){const i=`${e}`,s=i.replace(EC,(o,a)=>{let c=t[a];return null==c&&(r.push(function dse(){return new A(3003,!1)}()),c=""),c.toString()});return s==i?e:s}const Jse=/-+([a-z0-9])/g;function CC(e){return e.replace(Jse,(...t)=>t[1].toUpperCase())}function Jn(e,t,r){switch(t.type){case ue.Trigger:return e.visitTrigger(t,r);case ue.State:return e.visitState(t,r);case ue.Transition:return e.visitTransition(t,r);case ue.Sequence:return e.visitSequence(t,r);case ue.Group:return e.visitGroup(t,r);case ue.Animate:return e.visitAnimate(t,r);case ue.Keyframes:return e.visitKeyframes(t,r);case ue.Style:return e.visitStyle(t,r);case ue.Reference:return e.visitReference(t,r);case ue.AnimateChild:return e.visitAnimateChild(t,r);case ue.AnimateRef:return e.visitAnimateRef(t,r);case ue.Query:return e.visitQuery(t,r);case ue.Stagger:return e.visitStagger(t,r);default:throw function fse(){return new A(3004,!1)}()}}function DC(e,t){return window.getComputedStyle(e)[t]}const toe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qF extends vC{normalizePropertyName(t,r){return CC(t)}normalizeStyleValue(t,r,i,s){let o="";const a=i.toString().trim();if(toe.has(r)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&s.push(function hse(){return new A(3005,!1)}())}return a+o}}const im="*";const sm=new Set(["true","1"]),om=new Set(["false","0"]);function GF(e,t){const r=sm.has(e)||om.has(e),i=sm.has(t)||om.has(t);return(s,o)=>{let a=e==im||e==s,c=t==im||t==o;return!a&&r&&"boolean"==typeof s&&(a=s?sm.has(e):om.has(e)),!c&&i&&"boolean"==typeof o&&(c=o?sm.has(t):om.has(t)),a&&c}}const soe=new RegExp("s*:selfs*,?","g");function SC(e,t,r,i){return new ooe(e).build(t,r,i)}class ooe{constructor(t){this._driver=t}build(t,r,i){const s=new loe(r);return this._resetContextStyleTimingState(s),Jn(this,Id(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,r){let i=r.queryCount=0,s=r.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&r.errors.push(function pse(){return new A(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(r),c.type==ue.State){const l=c,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,r))}),l.name=u}else if(c.type==ue.Transition){const l=this.visitTransition(c,r);i+=l.queryCount,s+=l.depCount,a.push(l)}else r.errors.push(function gse(){return new A(3007,!1)}())}),{type:ue.Trigger,name:t.name,states:o,transitions:a,queryCount:i,depCount:s,options:null}}visitState(t,r){const i=this.visitStyle(t.styles,r),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=s||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(l=>{zF(l).forEach(u=>{a.hasOwnProperty(u)||o.add(u)})})}),o.size&&r.errors.push(function mse(){return new A(3008,!1)}(0,o.values()))}return{type:ue.State,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,r){r.queryCount=0,r.depCount=0;const i=Jn(this,Id(t.animation),r),s=function noe(e,t){const r=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function roe(e,t,r){if(":"==e[0]){const l=function ioe(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,i)=>parseFloat(i)>parseFloat(r);case":decrement":return(r,i)=>parseFloat(i)<parseFloat(r);default:return t.push(function Tse(){return new A(3016,!1)}()),"* => *"}}(e,r);if("function"==typeof l)return void t.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return r.push(function Sse(){return new A(3015,!1)}()),t;const s=i[1],o=i[2],a=i[3];t.push(GF(s,a)),"<"==o[0]&&(s!=im||a!=im)&&t.push(GF(a,s))}(i,r,t)):r.push(e),r}(t.expr,r.errors);return{type:ue.Transition,matchers:s,animation:i,queryCount:r.queryCount,depCount:r.depCount,options:Ko(t.options)}}visitSequence(t,r){return{type:ue.Sequence,steps:t.steps.map(i=>Jn(this,i,r)),options:Ko(t.options)}}visitGroup(t,r){const i=r.currentTime;let s=0;const o=t.steps.map(a=>{r.currentTime=i;const c=Jn(this,a,r);return s=Math.max(s,r.currentTime),c});return r.currentTime=s,{type:ue.Group,steps:o,options:Ko(t.options)}}visitAnimate(t,r){const i=function doe(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return TC(rm(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=TC(0,0,"");return o.dynamic=!0,o.strValue=r,o}const s=rm(r,t);return TC(s.duration,s.delay,s.easing)}(t.timings,r.errors);r.currentAnimateTimings=i;let s,o=t.styles?t.styles:Sd({});if(o.type==ue.Keyframes)s=this.visitKeyframes(o,r);else{let a=t.styles,c=!1;if(!a){c=!0;const u={};i.easing&&(u.easing=i.easing),a=Sd(u)}r.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,r);l.isEmptyStep=c,s=l}return r.currentAnimateTimings=null,{type:ue.Animate,timings:i,style:s,options:null}}visitStyle(t,r){const i=this._makeStyleAst(t,r);return this._validateStyleAst(i,r),i}_makeStyleAst(t,r){const i=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of s)"string"==typeof c?c===Yi?i.push(c):r.errors.push(new A(3002,!1)):i.push(new Map(Object.entries(c)));let o=!1,a=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!o))for(let l of c.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:ue.Style,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,r){const i=r.currentAnimateTimings;let s=r.currentTime,o=r.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,l)=>{const u=r.collectedStyles.get(r.currentQuerySelector),d=u.get(l);let f=!0;d&&(o!=s&&o>=d.startTime&&s<=d.endTime&&(r.errors.push(function vse(){return new A(3010,!1)}()),f=!1),o=d.startTime),f&&u.set(l,{startTime:o,endTime:s}),r.options&&function Yse(e,t,r){const i=t.params||{},s=zF(e);s.length&&s.forEach(o=>{i.hasOwnProperty(o)||r.push(function use(){return new A(3001,!1)}())})}(c,r.options,r.errors)})})}visitKeyframes(t,r){const i={type:ue.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function _se(){return new A(3011,!1)}()),i;let o=0;const a=[];let c=!1,l=!1,u=0;const d=t.steps.map(_=>{const v=this._makeStyleAst(_,r);let w=null!=v.offset?v.offset:function uoe(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(r=>{if(r instanceof Map&&r.has("offset")){const i=r;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}return t}(v.styles),b=0;return null!=w&&(o++,b=v.offset=w),l=l||b<0||b>1,c=c||b<u,u=b,a.push(b),v});l&&r.errors.push(function wse(){return new A(3012,!1)}()),c&&r.errors.push(function bse(){return new A(3200,!1)}());const f=t.steps.length;let h=0;o>0&&o<f?r.errors.push(function Ese(){return new A(3202,!1)}()):0==o&&(h=1/(f-1));const p=f-1,g=r.currentTime,m=r.currentAnimateTimings,y=m.duration;return d.forEach((_,v)=>{const w=h>0?v==p?1:h*v:a[v],b=w*y;r.currentTime=g+m.delay+b,m.duration=b,this._validateStyleAst(_,r),_.offset=w,i.styles.push(_)}),i}visitReference(t,r){return{type:ue.Reference,animation:Jn(this,Id(t.animation),r),options:Ko(t.options)}}visitAnimateChild(t,r){return r.depCount++,{type:ue.AnimateChild,options:Ko(t.options)}}visitAnimateRef(t,r){return{type:ue.AnimateRef,animation:this.visitReference(t.animation,r),options:Ko(t.options)}}visitQuery(t,r){const i=r.currentQuerySelector,s=t.options||{};r.queryCount++,r.currentQuery=t;const[o,a]=function aoe(e){const t=!!e.split(/\s*,\s*/).find(r=>":self"==r);return t&&(e=e.replace(soe,"")),e=e.replace(/@\*/g,nm).replace(/@\w+/g,r=>nm+"-"+r.slice(1)).replace(/:animating/g,wC),[e,t]}(t.selector);r.currentQuerySelector=i.length?i+" "+o:o,Yn(r.collectedStyles,r.currentQuerySelector,new Map);const c=Jn(this,Id(t.animation),r);return r.currentQuery=null,r.currentQuerySelector=i,{type:ue.Query,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:c,originalSelector:t.selector,options:Ko(t.options)}}visitStagger(t,r){r.currentQuery||r.errors.push(function Cse(){return new A(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:rm(t.timings,r.errors,!0);return{type:ue.Stagger,animation:Jn(this,Id(t.animation),r),timings:i,options:null}}}class loe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ko(e){return e?(e={...e}).params&&(e.params=function coe(e){return e?{...e}:null}(e.params)):e={},e}function TC(e,t,r){return{duration:e,delay:t,easing:r}}function IC(e,t,r,i,s,o,a=null,c=!1){return{type:1,element:e,keyframes:t,preStyleProps:r,postStyleProps:i,duration:s,delay:o,totalTime:s+o,easing:a,subTimeline:c}}class am{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,r){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...r)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const poe=new RegExp(":enter","g"),moe=new RegExp(":leave","g");function xC(e,t,r,i,s,o=new Map,a=new Map,c,l,u=[]){return(new yoe).buildKeyframes(e,t,r,i,s,o,a,c,l,u)}class yoe{buildKeyframes(t,r,i,s,o,a,c,l,u,d=[]){u=u||new am;const f=new AC(t,r,u,s,o,d,[]);f.options=l;const h=l.delay?Ji(l.delay):0;f.currentTimeline.delayNextStep(h),f.currentTimeline.setStyles([a],null,f.errors,l),Jn(this,i,f);const p=f.timelines.filter(g=>g.containsAnimation());if(p.length&&c.size){let g;for(let m=p.length-1;m>=0;m--){const y=p[m];if(y.element===r){g=y;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([c],null,f.errors,l)}return p.length?p.map(g=>g.buildKeyframes()):[IC(r,[],[],[],0,h,"",!1)]}visitTrigger(t,r){}visitState(t,r){}visitTransition(t,r){}visitAnimateChild(t,r){const i=r.subInstructions.get(r.element);if(i){const s=r.createSubContext(t.options),o=r.currentTimeline.currentTime,a=this._visitSubInstructions(i,s,s.options);o!=a&&r.transformIntoNewTimeline(a)}r.previousNode=t}visitAnimateRef(t,r){const i=r.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],r,i),this.visitReference(t.animation,i),r.transformIntoNewTimeline(i.currentTimeline.currentTime),r.previousNode=t}_applyAnimationRefDelays(t,r,i){for(const s of t){const o=s?.delay;if(o){const a="number"==typeof o?o:Ji(xd(o,s?.params??{},r.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,r,i){let o=r.currentTimeline.currentTime;const a=null!=i.duration?Ji(i.duration):null,c=null!=i.delay?Ji(i.delay):null;return 0!==a&&t.forEach(l=>{const u=r.appendInstructionToTimeline(l,a,c);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,r){r.updateOptions(t.options,!0),Jn(this,t.animation,r),r.previousNode=t}visitSequence(t,r){const i=r.subContextCount;let s=r;const o=t.options;if(o&&(o.params||o.delay)&&(s=r.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){s.previousNode.type==ue.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=cm);const a=Ji(o.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Jn(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),r.previousNode=t}visitGroup(t,r){const i=[];let s=r.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ji(t.options.delay):0;t.steps.forEach(a=>{const c=r.createSubContext(t.options);o&&c.delayNextStep(o),Jn(this,a,c),s=Math.max(s,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(a=>r.currentTimeline.mergeTimelineCollectedStyles(a)),r.transformIntoNewTimeline(s),r.previousNode=t}_visitTiming(t,r){if(t.dynamic){const i=t.strValue;return rm(r.params?xd(i,r.params,r.errors):i,r.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,r){const i=r.currentAnimateTimings=this._visitTiming(t.timings,r),s=r.currentTimeline;i.delay&&(r.incrementTime(i.delay),s.snapshotCurrentStyles());const o=t.style;o.type==ue.Keyframes?this.visitKeyframes(o,r):(r.incrementTime(i.duration),this.visitStyle(o,r),s.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=t}visitStyle(t,r){const i=r.currentTimeline,s=r.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,r.errors,r.options),r.previousNode=t}visitKeyframes(t,r){const i=r.currentAnimateTimings,s=r.currentTimeline.duration,o=i.duration,c=r.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(l=>{c.forwardTime((l.offset||0)*o),c.setStyles(l.styles,l.easing,r.errors,r.options),c.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(c),r.transformIntoNewTimeline(s+o),r.previousNode=t}visitQuery(t,r){const i=r.currentTimeline.currentTime,s=t.options||{},o=s.delay?Ji(s.delay):0;o&&(r.previousNode.type===ue.Style||0==i&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cm);let a=i;const c=r.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,r.errors);r.currentQueryTotal=c.length;let l=null;c.forEach((u,d)=>{r.currentQueryIndex=d;const f=r.createSubContext(t.options,u);o&&f.delayNextStep(o),u===r.element&&(l=f.currentTimeline),Jn(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,f.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(a),l&&(r.currentTimeline.mergeTimelineCollectedStyles(l),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=t}visitStagger(t,r){const i=r.parentContext,s=r.currentTimeline,o=t.timings,a=Math.abs(o.duration),c=a*(r.currentQueryTotal-1);let l=a*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=c-l;break;case"full":l=i.currentStaggerTime}const d=r.currentTimeline;l&&d.delayNextStep(l);const f=d.currentTime;Jn(this,t.animation,r),r.previousNode=t,i.currentStaggerTime=s.currentTime-f+(s.startTime-i.currentTimeline.startTime)}}const cm={};class AC{constructor(t,r,i,s,o,a,c,l){this._driver=t,this.element=r,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=o,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new lm(this._driver,r,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,r){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Ji(i.duration)),null!=i.delay&&(s.delay=Ji(i.delay));const o=i.params;if(o){let a=s.params;a||(a=this.options.params={}),Object.keys(o).forEach(c=>{(!r||!a.hasOwnProperty(c))&&(a[c]=xd(o[c],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const r=this.options.params;if(r){const i=t.params={};Object.keys(r).forEach(s=>{i[s]=r[s]})}}return t}createSubContext(t=null,r,i){const s=r||this.element,o=new AC(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=cm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,r,i){const s={duration:r??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new voe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,r,i,s,o,a){let c=[];if(s&&c.push(this.element),t.length>0){t=(t=t.replace(poe,"."+this._enterClassName)).replace(moe,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),c.push(...u)}return!o&&0==c.length&&a.push(function Dse(){return new A(3014,!1)}()),c}}class lm{constructor(t,r,i,s){this._driver=t,this.element=r,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+t),r&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,r){return this.applyStylesToKeyframe(),new lm(this._driver,t,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,r){this._localTimelineStyles.set(t,r),this._globalTimelineStyles.set(t,r),this._styleSummary.set(t,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[r,i]of this._globalTimelineStyles)this._backFill.set(r,i||Yi),this._currentKeyframe.set(r,Yi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,r,i,s){r&&this._previousKeyframe.set("easing",r);const o=s&&s.params||{},a=function _oe(e,t){const r=new Map;let i;return e.forEach(s=>{if("*"===s){i??=t.keys();for(let o of i)r.set(o,Yi)}else for(let[o,a]of s)r.set(o,a)}),r}(t,this._globalTimelineStyles);for(let[c,l]of a){const u=xd(l,o,i);this._pendingStyles.set(c,u),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Yi),this._updateStyle(c,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,r)=>{this._currentKeyframe.set(r,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,t)}))}snapshotCurrentStyles(){for(let[t,r]of this._localTimelineStyles)this._pendingStyles.set(t,r),this._updateStyle(t,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let r in this._currentKeyframe)t.push(r);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((r,i)=>{const s=this._styleSummary.get(i);(!s||r.time>s.time)&&this._updateStyle(i,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,r=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((c,l)=>{const u=new Map([...this._backFill,...c]);u.forEach((d,f)=>{"!"===d?t.add(f):d===Yi&&r.add(f)}),i||u.set("offset",l/this.duration),s.push(u)});const o=[...t.values()],a=[...r.values()];if(i){const c=s[0],l=new Map(c);c.set("offset",0),l.set("offset",1),s=[c,l]}return IC(this.element,s,o,a,this.duration,this.startTime,this.easing,!1)}}class voe extends lm{constructor(t,r,i,s,o,a,c=!1){super(t,r,a.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:r,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&r){const o=[],a=i+r,c=r/a,l=new Map(t[0]);l.set("offset",0),o.push(l);const u=new Map(t[0]);u.set("offset",KF(c)),o.push(u);const d=t.length-1;for(let f=1;f<=d;f++){let h=new Map(t[f]);const p=h.get("offset");h.set("offset",KF((r+p*i)/a)),o.push(h)}i=a,r=0,s="",t=o}return IC(this.element,t,this.preStyleProps,this.postStyleProps,i,r,s,!0)}}function KF(e,t=3){const r=Math.pow(10,t-1);return Math.round(e*r)/r}function QF(e,t,r,i,s,o,a,c,l,u,d,f,h){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:r,fromStyles:o,toState:i,toStyles:a,timelines:c,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:f,errors:h}}const MC={};class YF{constructor(t,r,i){this._triggerName=t,this.ast=r,this._stateStyles=i}match(t,r,i,s){return function woe(e,t,r,i,s){return e.some(o=>o(t,r,i,s))}(this.ast.matchers,t,r,i,s)}buildStyles(t,r,i){let s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(r,i):new Map}build(t,r,i,s,o,a,c,l,u,d){const f=[],h=this.ast.options&&this.ast.options.params||MC,g=this.buildStyles(i,c&&c.params||MC,f),m=l&&l.params||MC,y=this.buildStyles(s,m,f),_=new Set,v=new Map,w=new Map,b="void"===s,D={params:JF(m,h),delay:this.ast.options?.delay},C=d?[]:xC(t,r,this.ast.animation,o,a,g,y,D,u,f);let S=0;return C.forEach(I=>{S=Math.max(I.duration+I.delay,S)}),f.length?QF(r,this._triggerName,i,s,b,g,y,[],[],v,w,S,f):(C.forEach(I=>{const P=I.element,H=Yn(v,P,new Set);I.preStyleProps.forEach($=>H.add($));const V=Yn(w,P,new Set);I.postStyleProps.forEach($=>V.add($)),P!==r&&_.add(P)}),QF(r,this._triggerName,i,s,b,g,y,C,[..._.values()],v,w,S))}}function JF(e,t){const r={...t};return Object.entries(e).forEach(([i,s])=>{null!=s&&(r[i]=s)}),r}class boe{constructor(t,r,i){this.styles=t,this.defaultParams=r,this.normalizer=i}buildStyles(t,r){const i=new Map,s=JF(t,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{a&&(a=xd(a,s,r));const l=this.normalizer.normalizePropertyName(c,r);a=this.normalizer.normalizeStyleValue(c,l,a,r),i.set(c,a)})}),i}}class Coe{constructor(t,r,i){this.name=t,this.ast=r,this._normalizer=i,this.transitionFactories=[],this.states=new Map,r.states.forEach(s=>{this.states.set(s.name,new boe(s.style,s.options&&s.options.params||{},i))}),XF(this.states,"true","1"),XF(this.states,"false","0"),r.transitions.forEach(s=>{this.transitionFactories.push(new YF(t,s,this.states))}),this.fallbackTransition=function Doe(e,t){return new YF(e,{type:ue.Transition,animation:{type:ue.Sequence,steps:[],options:null},matchers:[(a,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,r,i,s){return this.transitionFactories.find(a=>a.match(t,r,i,s))||null}matchStyles(t,r,i){return this.fallbackTransition.buildStyles(t,r,i)}}function XF(e,t,r){e.has(t)?e.has(r)||e.set(r,e.get(t)):e.has(r)&&e.set(t,e.get(r))}const Soe=new am;class Toe{constructor(t,r,i){this.bodyNode=t,this._driver=r,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,r){const i=[],o=SC(this._driver,r,i,[]);if(i.length)throw function Nse(){return new A(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,r,i){const s=t.element,o=LF(this._normalizer,t.keyframes,r,i);return this._driver.animate(s,o,t.duration,t.delay,t.easing,[],!0)}create(t,r,i={}){const s=[],o=this._animations.get(t);let a;const c=new Map;if(o?(a=xC(this._driver,r,o,_C,em,new Map,new Map,i,Soe,s),a.forEach(d=>{const f=Yn(c,d.element,new Map);d.postStyleProps.forEach(h=>f.set(h,null))})):(s.push(function Rse(){return new A(3300,!1)}()),a=[]),s.length)throw function Ose(){return new A(3504,!1)}();c.forEach((d,f)=>{d.forEach((h,p)=>{d.set(p,this._driver.computeStyle(f,p,Yi))})});const u=qs(a.map(d=>{const f=c.get(d.element);return this._buildPlayer(d,new Map,f)}));return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const r=this._getPlayer(t);r.destroy(),this._playersById.delete(t);const i=this.players.indexOf(r);i>=0&&this.players.splice(i,1)}_getPlayer(t){const r=this._playersById.get(t);if(!r)throw function kse(){return new A(3301,!1)}();return r}listen(t,r,i,s){const o=pC(r,"","","");return fC(this._getPlayer(t),i,o,s),()=>{}}command(t,r,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,r,s[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const e3="ng-animate-queued",NC="ng-animate-disabled",Noe=[],t3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Roe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Br="__ng_removed";class RC{get params(){return this.options.params}constructor(t,r=""){this.namespaceId=r;const i=t&&t.hasOwnProperty("value");if(this.value=function Loe(e){return e??null}(i?t.value:t),i){const{value:o,...a}=t;this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const r=t.params;if(r){const i=this.options.params;Object.keys(r).forEach(s=>{null==i[s]&&(i[s]=r[s])})}}}const Ad="void",OC=new RC(Ad);class Ooe{constructor(t,r,i){this.id=t,this.hostElement=r,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,gr(r,this._hostClassName)}listen(t,r,i,s){if(!this._triggers.has(r))throw function Pse(){return new A(3302,!1)}();if(null==i||0==i.length)throw function Lse(){return new A(3303,!1)}();if(!function Foe(e){return"start"==e||"done"==e}(i))throw function Fse(){return new A(3400,!1)}();const o=Yn(this._elementListeners,t,[]),a={name:r,phase:i,callback:s};o.push(a);const c=Yn(this._engine.statesByElement,t,new Map);return c.has(r)||(gr(t,tm),gr(t,tm+"-"+r),c.set(r,OC)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(r)||c.delete(r)})}}register(t,r){return!this._triggers.has(t)&&(this._triggers.set(t,r),!0)}_getTrigger(t){const r=this._triggers.get(t);if(!r)throw function Bse(){return new A(3401,!1)}();return r}trigger(t,r,i,s=!0){const o=this._getTrigger(r),a=new kC(this.id,r,t);let c=this._engine.statesByElement.get(t);c||(gr(t,tm),gr(t,tm+"-"+r),this._engine.statesByElement.set(t,c=new Map));let l=c.get(r);const u=new RC(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),c.set(r,u),l||(l=OC),u.value!==Ad&&l.value===u.value){if(!function Uoe(e,t){const r=Object.keys(e),i=Object.keys(t);if(r.length!=i.length)return!1;for(let s=0;s<r.length;s++){const o=r[s];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(l.params,u.params)){const m=[],y=o.matchStyles(l.value,l.params,m),_=o.matchStyles(u.value,u.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Zo(t,y),wi(t,_)})}return}const h=Yn(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==r&&m.queued&&m.destroy()});let p=o.matchTransition(l.value,u.value,t,u.params),g=!1;if(!p){if(!s)return;p=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:p,fromState:l,toState:u,player:a,isFallbackTransition:g}),g||(gr(t,e3),a.onStart(()=>{zc(t,e3)})),a.onDone(()=>{let m=this.players.indexOf(a);m>=0&&this.players.splice(m,1);const y=this._engine.playersByElement.get(t);if(y){let _=y.indexOf(a);_>=0&&y.splice(_,1)}}),this.players.push(a),h.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(r=>r.delete(t)),this._elementListeners.forEach((r,i)=>{this._elementListeners.set(i,r.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const r=this._engine.playersByElement.get(t);r&&(r.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,r){const i=this._engine.driver.query(t,nm,!0);i.forEach(s=>{if(s[Br])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(a=>a.triggerLeaveAnimation(s,r,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,r,i,s){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const c=[];if(o.forEach((l,u)=>{if(a.set(u,l.value),this._triggers.has(u)){const d=this.trigger(t,u,Ad,s);d&&c.push(d)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,r,a),i&&qs(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const r=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(r&&i){const s=new Set;r.forEach(o=>{const a=o.name;if(s.has(a))return;s.add(a);const l=this._triggers.get(a).fallbackTransition,u=i.get(a)||OC,d=new RC(Ad),f=new kC(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(t,r){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,r),this.triggerLeaveAnimation(t,r,!0))return;let s=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,r);else{const o=t[Br];(!o||o===t3)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,r))}}insertNode(t,r){gr(t,this._hostClassName)}drainQueuedTransitions(t){const r=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(c=>{if(c.name==i.triggerName){const l=pC(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,fC(i.player,c.phase,l,c.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):r.push(i)}),this._queue=[],r.sort((i,s)=>{const o=i.transition.ast.depCount,a=s.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class koe{_onRemovalComplete(t,r){this.onRemovalComplete(t,r)}constructor(t,r,i){this.bodyNode=t,this.driver=r,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(r=>{r.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,r){const i=new Ooe(t,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(i,r):(this.newHostElements.set(r,i),this.collectEnterElement(r)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,r){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,c=this.driver.getParentElement(r);for(;c;){const l=s.get(c);if(l){const u=i.indexOf(l);i.splice(u+1,0,t),a=!0;break}c=this.driver.getParentElement(c)}a||i.unshift(t)}else i.push(t);return s.set(r,t),t}register(t,r){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,r)),i}registerTrigger(t,r,i){let s=this._namespaceLookup[t];s&&s.register(r,i)&&this.totalAnimations++}destroy(t,r){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1),i.destroy(r),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const r=new Set,i=this.statesByElement.get(t);if(i)for(let s of i.values())if(s.namespaceId){const o=this._fetchNamespace(s.namespaceId);o&&r.add(o)}return r}trigger(t,r,i,s){if(um(r)){const o=this._fetchNamespace(t);if(o)return o.trigger(r,i,s),!0}return!1}insertNode(t,r,i,s){if(!um(r))return;const o=r[Br];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(r);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(r,i)}s&&this.collectEnterElement(r)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,r){r?this.disabledNodes.has(t)||(this.disabledNodes.add(t),gr(t,NC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),zc(t,NC))}removeNode(t,r,i){if(um(r)){const s=t?this._fetchNamespace(t):null;s?s.removeNode(r,i):this.markElementAsRemoved(t,r,!1,i);const o=this.namespacesByHostElement.get(r);o&&o.id!==t&&o.removeNode(r,i)}else this._onRemovalComplete(r,i)}markElementAsRemoved(t,r,i,s,o){this.collectedLeaveElements.push(r),r[Br]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,r,i,s,o){return um(r)?this._fetchNamespace(t).listen(r,i,s,o):()=>{}}_buildInstruction(t,r,i,s,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,r,o)}destroyInnerAnimations(t){let r=this.driver.query(t,nm,!0);r.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(t,wC,!0),r.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const r=this.playersByElement.get(t);r&&r.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const r=this.playersByQueriedElement.get(t);r&&r.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qs(this.players).onDone(()=>t());t()})}processLeaveNode(t){const r=t[Br];if(r&&r.setForRemoval){if(t[Br]=t3,r.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}t.classList?.contains(NC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)gr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{r=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],r.length?qs(r).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw function Vse(){return new A(3402,!1)}()}_flushAnimations(t,r){const i=new am,s=[],o=new Map,a=[],c=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(E=>{d.add(E);const x=this.driver.query(E,".ng-animate-queued",!0);for(let R=0;R<x.length;R++)d.add(x[R])});const f=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=i3(h,this.collectedEnterElements),g=new Map;let m=0;p.forEach((E,x)=>{const R=_C+m++;g.set(x,R),E.forEach(M=>gr(M,R))});const y=[],_=new Set,v=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const x=this.collectedLeaveElements[E],R=x[Br];R&&R.setForRemoval&&(y.push(x),_.add(x),R.hasAnimation?this.driver.query(x,".ng-star-inserted",!0).forEach(M=>_.add(M)):v.add(x))}const w=new Map,b=i3(h,Array.from(_));b.forEach((E,x)=>{const R=em+m++;w.set(x,R),E.forEach(M=>gr(M,R))}),t.push(()=>{p.forEach((E,x)=>{const R=g.get(x);E.forEach(M=>zc(M,R))}),b.forEach((E,x)=>{const R=w.get(x);E.forEach(M=>zc(M,R))}),y.forEach(E=>{this.processLeaveNode(E)})});const D=[],C=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(r).forEach(R=>{const M=R.player,W=R.element;if(D.push(M),this.collectedEnterElements.length){const Me=W[Br];if(Me&&Me.setForMove){if(Me.previousTriggersValues&&Me.previousTriggersValues.has(R.triggerName)){const at=Me.previousTriggersValues.get(R.triggerName),ke=this.statesByElement.get(R.element);if(ke&&ke.has(R.triggerName)){const Ln=ke.get(R.triggerName);Ln.value=at,ke.set(R.triggerName,Ln)}}return void M.destroy()}}const J=!f||!this.driver.containsElement(f,W),ee=w.get(W),Se=g.get(W),de=this._buildInstruction(R,i,Se,ee,J);if(de.errors&&de.errors.length)return void C.push(de);if(J)return M.onStart(()=>Zo(W,de.fromStyles)),M.onDestroy(()=>wi(W,de.toStyles)),void s.push(M);if(R.isFallbackTransition)return M.onStart(()=>Zo(W,de.fromStyles)),M.onDestroy(()=>wi(W,de.toStyles)),void s.push(M);const vt=[];de.timelines.forEach(Me=>{Me.stretchStartingKeyframe=!0,this.disabledNodes.has(Me.element)||vt.push(Me)}),de.timelines=vt,i.append(W,de.timelines),a.push({instruction:de,player:M,element:W}),de.queriedElements.forEach(Me=>Yn(c,Me,[]).push(M)),de.preStyleProps.forEach((Me,at)=>{if(Me.size){let ke=l.get(at);ke||l.set(at,ke=new Set),Me.forEach((Ln,Xt)=>ke.add(Xt))}}),de.postStyleProps.forEach((Me,at)=>{let ke=u.get(at);ke||u.set(at,ke=new Set),Me.forEach((Ln,Xt)=>ke.add(Xt))})});if(C.length){const E=[];C.forEach(x=>{E.push(function Use(){return new A(3505,!1)}())}),D.forEach(x=>x.destroy()),this.reportError(E)}const S=new Map,I=new Map;a.forEach(E=>{const x=E.element;i.has(x)&&(I.set(x,x),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,S))}),s.forEach(E=>{const x=E.element;this._getPreviousPlayers(x,!1,E.namespaceId,E.triggerName,null).forEach(M=>{Yn(S,x,[]).push(M),M.destroy()})});const P=y.filter(E=>o3(E,l,u)),H=new Map;r3(H,this.driver,v,u,Yi).forEach(E=>{o3(E,l,u)&&P.push(E)});const $=new Map;p.forEach((E,x)=>{r3($,this.driver,new Set(E),l,"!")}),P.forEach(E=>{const x=H.get(E),R=$.get(E);H.set(E,new Map([...x?.entries()??[],...R?.entries()??[]]))});const X=[],L=[],T={};a.forEach(E=>{const{element:x,player:R,instruction:M}=E;if(i.has(x)){if(d.has(x))return R.onDestroy(()=>wi(x,M.toStyles)),R.disabled=!0,R.overrideTotalTime(M.totalTime),void s.push(R);let W=T;if(I.size>1){let ee=x;const Se=[];for(;ee=ee.parentNode;){const de=I.get(ee);if(de){W=de;break}Se.push(ee)}Se.forEach(de=>I.set(de,W))}const J=this._buildAnimation(R.namespaceId,M,S,o,$,H);if(R.setRealPlayer(J),W===T)X.push(R);else{const ee=this.playersByElement.get(W);ee&&ee.length&&(R.parentPlayer=qs(ee)),s.push(R)}}else Zo(x,M.fromStyles),R.onDestroy(()=>wi(x,M.toStyles)),L.push(R),d.has(x)&&s.push(R)}),L.forEach(E=>{const x=o.get(E.element);if(x&&x.length){const R=qs(x);E.setRealPlayer(R)}}),s.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<y.length;E++){const x=y[E],R=x[Br];if(zc(x,em),R&&R.hasAnimation)continue;let M=[];if(c.size){let J=c.get(x);J&&J.length&&M.push(...J);let ee=this.driver.query(x,wC,!0);for(let Se=0;Se<ee.length;Se++){let de=c.get(ee[Se]);de&&de.length&&M.push(...de)}}const W=M.filter(J=>!J.destroyed);W.length?Boe(this,x,W):this.processLeaveNode(x)}return y.length=0,X.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();const x=this.players.indexOf(E);this.players.splice(x,1)}),E.play()}),X}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,r,i,s,o){let a=[];if(r){const c=this.playersByQueriedElement.get(t);c&&(a=c)}else{const c=this.playersByElement.get(t);if(c){const l=!o||o==Ad;c.forEach(u=>{u.queued||!l&&u.triggerName!=s||a.push(u)})}}return(i||s)&&(a=a.filter(c=>!(i&&i!=c.namespaceId||s&&s!=c.triggerName))),a}_beforeAnimationBuild(t,r,i){const o=r.element,a=r.isRemovalTransition?void 0:t,c=r.isRemovalTransition?void 0:r.triggerName;for(const l of r.timelines){const u=l.element,d=u!==o,f=Yn(i,u,[]);this._getPreviousPlayers(u,d,a,c,r.toState).forEach(p=>{const g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),f.push(p)})}Zo(o,r.fromStyles)}_buildAnimation(t,r,i,s,o,a){const c=r.triggerName,l=r.element,u=[],d=new Set,f=new Set,h=r.timelines.map(g=>{const m=g.element;d.add(m);const y=m[Br];if(y&&y.removedBeforeQueried)return new Td(g.duration,g.delay);const _=m!==l,v=function Voe(e){const t=[];return s3(e,t),t}((i.get(m)||Noe).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===m),w=o.get(m),b=a.get(m),D=LF(this._normalizer,g.keyframes,w,b),C=this._buildPlayer(g,D,v);if(g.subTimeline&&s&&f.add(m),_){const S=new kC(t,c,m);S.setRealPlayer(C),u.push(S)}return C});u.forEach(g=>{Yn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function Poe(e,t,r){let i=e.get(t);if(i){if(i.length){const s=i.indexOf(r);i.splice(s,1)}0==i.length&&e.delete(t)}return i}(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>gr(g,$F));const p=qs(h);return p.onDestroy(()=>{d.forEach(g=>zc(g,$F)),wi(l,r.toStyles)}),f.forEach(g=>{Yn(s,g,[]).push(p)}),p}_buildPlayer(t,r,i){return r.length>0?this.driver.animate(t.element,r,t.duration,t.delay,t.easing,i):new Td(t.duration,t.delay)}}class kC{constructor(t,r,i){this.namespaceId=t,this.triggerName=r,this.element=i,this._player=new Td,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((r,i)=>{r.forEach(s=>fC(t,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const r=this._player;r.triggerCallback&&t.onStart(()=>r.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,r){Yn(this._queuedCallbacks,t,[]).push(r)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const r=this._player;r.triggerCallback&&r.triggerCallback(t)}}function um(e){return e&&1===e.nodeType}function n3(e,t){const r=e.style.display;return e.style.display=t??"none",r}function r3(e,t,r,i,s){const o=[];r.forEach(l=>o.push(n3(l)));const a=[];i.forEach((l,u)=>{const d=new Map;l.forEach(f=>{const h=t.computeStyle(u,f,s);d.set(f,h),(!h||0==h.length)&&(u[Br]=Roe,a.push(u))}),e.set(u,d)});let c=0;return r.forEach(l=>n3(l,o[c++])),a}function i3(e,t){const r=new Map;if(e.forEach(c=>r.set(c,[])),0==t.length)return r;const s=new Set(t),o=new Map;function a(c){if(!c)return 1;let l=o.get(c);if(l)return l;const u=c.parentNode;return l=r.has(u)?u:s.has(u)?1:a(u),o.set(c,l),l}return t.forEach(c=>{const l=a(c);1!==l&&r.get(l).push(c)}),r}function gr(e,t){e.classList?.add(t)}function zc(e,t){e.classList?.remove(t)}function Boe(e,t,r){qs(r).onDone(()=>e.processLeaveNode(t))}function s3(e,t){for(let r=0;r<e.length;r++){const i=e[r];i instanceof NF?s3(i.players,t):t.push(i)}}function o3(e,t,r){const i=r.get(e);if(!i)return!1;let s=t.get(e);return s?i.forEach(o=>s.add(o)):t.set(e,i),r.delete(e),!0}class Md{constructor(t,r,i){this._driver=r,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new koe(t.body,r,i),this._timelineEngine=new Toe(t.body,r,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,r,i,s,o){const a=t+"-"+s;let c=this._triggerCache[a];if(!c){const l=[],d=SC(this._driver,o,l,[]);if(l.length)throw function Ase(){return new A(3404,!1)}();c=function Eoe(e,t,r){return new Coe(e,t,r)}(s,d,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(r,s,c)}register(t,r){this._transitionEngine.register(t,r)}destroy(t,r){this._transitionEngine.destroy(t,r)}onInsert(t,r,i,s){this._transitionEngine.insertNode(t,r,i,s)}onRemove(t,r,i){this._transitionEngine.removeNode(t,r,i)}disableAnimations(t,r){this._transitionEngine.markElementAsDisabled(t,r)}process(t,r,i,s){if("@"==i.charAt(0)){const[o,a]=FF(i);this._timelineEngine.command(o,r,a,s)}else this._transitionEngine.trigger(t,r,i,s)}listen(t,r,i,s,o){if("@"==i.charAt(0)){const[a,c]=FF(i);return this._timelineEngine.listen(a,r,c,o)}return this._transitionEngine.listen(t,r,i,s,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class Nd{static{this.initialStylesByElement=new WeakMap}constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=Nd.initialStylesByElement.get(t);s||Nd.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&wi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wi(this._element,this._initialStyles),this._endStyles&&(wi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Nd.initialStylesByElement.delete(this._element),this._startStyles&&(Zo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zo(this._element,this._endStyles),this._endStyles=null),wi(this._element,this._initialStyles),this._state=3)}}function PC(e){let t=null;return e.forEach((r,i)=>{(function $oe(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,r))}),t}class a3{constructor(t,r,i,s){this.element=t,this.keyframes=r,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const r=[];return t.forEach(i=>{r.push(Object.fromEntries(i))}),r}_triggerWebAnimation(t,r,i){return t.animate(this._convertKeyframesToObject(r),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&t.set(s,this._finished?i:DC(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){const r="start"===t?this._onStartFns:this._onDoneFns;r.forEach(i=>i()),r.length=0}}class c3{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,r){return VF(t,r)}getParentElement(t){return gC(t)}query(t,r,i){return UF(t,r,i)}computeStyle(t,r,i){return DC(t,r)}animate(t,r,i,s,o,a=[]){const l={duration:i,delay:s,fill:0==s?"both":"forwards"};o&&(l.easing=o);const u=new Map,d=a.filter(p=>p instanceof a3);(function Xse(e,t){return 0===e||0===t})(i,s)&&d.forEach(p=>{p.currentSnapshot.forEach((g,m)=>u.set(m,g))});let f=function Qse(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}(r).map(p=>new Map(p));f=function eoe(e,t,r){if(r.size&&t.length){let i=t[0],s=[];if(r.forEach((o,a)=>{i.has(a)||s.push(a),i.set(a,o)}),s.length)for(let o=1;o<t.length;o++){let a=t[o];s.forEach(c=>a.set(c,DC(e,c)))}}return t}(t,f,u);const h=function joe(e,t){let r=null,i=null;return Array.isArray(t)&&t.length?(r=PC(t[0]),t.length>1&&(i=PC(t[t.length-1]))):t instanceof Map&&(r=PC(t)),r||i?new Nd(e,r,i):null}(t,f);return new a3(t,f,l,h)}}const l3="@.disabled";class u3{constructor(t,r,i,s){this.namespaceId=t,this.delegate=r,this.engine=i,this._onDestroy=s,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,r){return this.delegate.createElement(t,r)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,r){this.delegate.appendChild(t,r),this.engine.onInsert(this.namespaceId,r,t,!1)}insertBefore(t,r,i,s=!0){this.delegate.insertBefore(t,r,i),this.engine.onInsert(this.namespaceId,r,t,s)}removeChild(t,r,i){this.parentNode(r)&&this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(t,r){return this.delegate.selectRootElement(t,r)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,r,i,s){this.delegate.setAttribute(t,r,i,s)}removeAttribute(t,r,i){this.delegate.removeAttribute(t,r,i)}addClass(t,r){this.delegate.addClass(t,r)}removeClass(t,r){this.delegate.removeClass(t,r)}setStyle(t,r,i,s){this.delegate.setStyle(t,r,i,s)}removeStyle(t,r,i){this.delegate.removeStyle(t,r,i)}setProperty(t,r,i){"@"==r.charAt(0)&&r==l3?this.disableAnimations(t,!!i):this.delegate.setProperty(t,r,i)}setValue(t,r){this.delegate.setValue(t,r)}listen(t,r,i){return this.delegate.listen(t,r,i)}disableAnimations(t,r){this.engine.disableAnimations(t,r)}}class Hoe extends u3{constructor(t,r,i,s,o){super(r,i,s,o),this.factory=t,this.namespaceId=r}setProperty(t,r,i){"@"==r.charAt(0)?"."==r.charAt(1)&&r==l3?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,r.slice(1),i):this.delegate.setProperty(t,r,i)}listen(t,r,i){if("@"==r.charAt(0)){const s=function zoe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let o=r.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function qoe(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,s,o,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,r,i)}}class Goe{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{o?.removeChild(null,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!t||!r?.data?.animation){const u=this._rendererCache;let d=u.get(s);return d||(d=new u3("",s,this.engine,()=>u.delete(s)),u.set(s,d)),d}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(c),new Hoe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>r(i));const s=this._animationCallbacksBuffer;0==s.length&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(o=>{const[a,c]=o;a(c)}),this._animationCallbacksBuffer=[]})}),s.push([r,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Woe=(()=>{class e extends Md{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||e)(z(cn),z(yC),z(vC))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();const d3=[{provide:vC,useFactory:function Zoe(){return new qF}},{provide:Md,useClass:Woe},{provide:oh,useFactory:function Koe(e,t,r){return new Goe(e,t,r)},deps:[b_,Md,Re]}],LC=[{provide:yC,useFactory:()=>new c3},{provide:cT,useValue:"BrowserAnimations"},...d3],f3=[{provide:yC,useClass:mC},{provide:cT,useValue:"NoopAnimations"},...d3];let Qoe=(()=>{class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?f3:LC}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({providers:LC,imports:[rR]})}}return e})(),Yoe=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e})}static{this.\u0275inj=Tt({providers:[aC,cC,{provide:nr,useClass:cC}],imports:[gs,Qoe]})}}return e})(),Joe=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=kt({type:e,bootstrap:[nse]})}static{this.\u0275inj=Tt({imports:[sse,rR,Iie,sre,ase,tse.forRoot({timeOut:1e4,positionClass:"toast-top-center",preventDuplicates:!0}),Yoe]})}}return e})();Zq().bootstrapModule(Joe).catch(e=>console.error(e))}},fm=>{fm(fm.s=200)}]);